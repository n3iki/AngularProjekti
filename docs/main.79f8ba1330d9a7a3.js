(self.webpackChunkAngularProjekti=self.webpackChunkAngularProjekti||[]).push([[179],{2011:(je,we,I)=>{"use strict";I.d(we,{Dh:()=>H,GT:()=>K,cc:()=>Z,hO:()=>ne,on:()=>j,pX:()=>te,xv:()=>$});var v=I(4650),l=I(127),x=I(5813);je=I.hmd(je);const ee=["ngOnDestroy"],te=(W,_e,z,P={})=>new Proxy(W,{get:(N,q)=>z.runOutsideAngular(()=>{var ye;if(W[q])return!(null===(ye=P?.spy)||void 0===ye)&&ye.get&&P.spy.get(q,W[q]),W[q];if(ee.indexOf(q)>-1)return()=>{};const se=_e.toPromise().then(oe=>{const de=oe&&oe[q];return"function"==typeof de?de.bind(oe):de&&de.then?de.then(re=>z.run(()=>re)):z.run(()=>de)});return new Proxy(()=>{},{get:(oe,de)=>se[de],apply:(oe,de,re)=>se.then(ae=>{var fe;const Se=ae&&ae(...re);return!(null===(fe=P?.spy)||void 0===fe)&&fe.apply&&P.spy.apply(q,re,Se),Se})})})}),K=(W,_e)=>{_e.forEach(z=>{Object.getOwnPropertyNames(z.prototype||z).forEach(P=>{Object.defineProperty(W.prototype,P,Object.getOwnPropertyDescriptor(z.prototype||z,P))})})};class R{constructor(_e){return _e}}const H=new v.OlP("angularfire2.app.options"),$=new v.OlP("angularfire2.app.name");function j(W,_e,z){const N="object"==typeof z&&z||{};N.name=N.name||"string"==typeof z&&z||"[DEFAULT]";const ye=l.Z.apps.filter(se=>se&&se.name===N.name)[0]||_e.runOutsideAngular(()=>l.Z.initializeApp(W,N));try{JSON.stringify(W)!==JSON.stringify(ye.options)&&Y("error",`${ye.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new R(ye)}const Y=(W,..._e)=>{(0,v.X6Q)()&&typeof console<"u"&&console[W](..._e)},Q={provide:R,useFactory:j,deps:[H,v.R0b,[new v.FiY,$]]};let ne=(()=>{class W{constructor(z){l.Z.registerVersion("angularfire",x.q4.full,"core"),l.Z.registerVersion("angularfire",x.q4.full,"app-compat"),l.Z.registerVersion("angular",v.q4F.full,z.toString())}static initializeApp(z,P){return{ngModule:W,providers:[{provide:H,useValue:z},{provide:$,useValue:P}]}}}return W.\u0275fac=function(z){return new(z||W)(v.LFG(v.Lbi))},W.\u0275mod=v.oAB({type:W}),W.\u0275inj=v.cJS({providers:[Q]}),W})();function Z(W,_e,z,P,N){const[,q,ye]=globalThis.\u0275AngularfireInstanceCache.find(se=>se[0]===W)||[];if(q)return function J(W,_e){try{return W.toString()===_e.toString()}catch{return W===_e}}(N,ye)||(Ce("error",`${_e} was already initialized on the ${z} Firebase App with different settings.${De?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:N,was:ye})),q;{const se=P();return globalThis.\u0275AngularfireInstanceCache.push([W,se,N]),se}}const De=!!je.hot,Ce=(W,..._e)=>{(0,v.X6Q)()&&typeof console<"u"&&console[W](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(je,we,I)=>{"use strict";I.d(we,{q4:()=>ys,iC:()=>$o,fc:()=>mf,HU:()=>Vu,vb:()=>il,JM:()=>Kl});var v=I(4650),l=I(5867),x=I(5861),ee=I(9681),te=I(2090),K=I(3475),R=I(1877),H=I(8766);const $="@firebase/installations",j="0.5.16",Q=`w:${j}`,ne="FIS_v2",_e=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function z(M){return M instanceof te.ZR&&M.code.includes("request-failed")}function P({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function N(M){return{token:M.token,requestStatus:2,expiresIn:ae(M.expiresIn),creationTime:Date.now()}}function q(M,F){return ye.apply(this,arguments)}function ye(){return(ye=(0,x.Z)(function*(M,F){const Ie=(yield F.json()).error;return _e.create("request-failed",{requestName:M,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function se({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function oe(M,{refreshToken:F}){const ie=se(M);return ie.append("Authorization",function fe(M){return`${ne} ${M}`}(F)),ie}function de(M){return re.apply(this,arguments)}function re(){return(re=(0,x.Z)(function*(M){const F=yield M();return F.status>=500&&F.status<600?M():F})).apply(this,arguments)}function ae(M){return Number(M.replace("s","000"))}function Se(M,F){return Je.apply(this,arguments)}function Je(){return(Je=(0,x.Z)(function*({appConfig:M,heartbeatServiceProvider:F},{fid:ie}){const Ie=P(M),ze=se(M),Qe=F.getImmediate({optional:!0});if(Qe){const un=yield Qe.getHeartbeatsHeader();un&&ze.append("x-firebase-client",un)}const xt={method:"POST",headers:ze,body:JSON.stringify({fid:ie,authVersion:ne,appId:M.appId,sdkVersion:Q})},Jt=yield de(()=>fetch(Ie,xt));if(Jt.ok){const un=yield Jt.json();return{fid:un.fid||ie,registrationStatus:2,refreshToken:un.refreshToken,authToken:N(un.authToken)}}throw yield q("Create Installation",Jt)})).apply(this,arguments)}function qe(M){return new Promise(F=>{setTimeout(F,M)})}const kt=/^[cdef][\w-]{21}$/;function _t(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const ie=function sn(M){return function Ct(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return kt.test(ie)?ie:""}catch{return""}}function Bn(M){return`${M.appName}!${M.appId}`}const In=new Map;function An(M,F){const ie=Bn(M);le(ie,F),function lt(M,F){const ie=function nn(){return!Ge&&"BroadcastChannel"in self&&(Ge=new BroadcastChannel("[Firebase] FID Change"),Ge.onmessage=M=>{le(M.data.key,M.data.fid)}),Ge}();ie&&ie.postMessage({key:M,fid:F}),function bn(){0===In.size&&Ge&&(Ge.close(),Ge=null)}()}(ie,F)}function le(M,F){const ie=In.get(M);if(ie)for(const Ie of ie)Ie(F)}let Ge=null;const Yn="firebase-installations-store";let ve=null;function L(){return ve||(ve=(0,H.X3)("firebase-installations-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(Yn)}})),ve}function k(M,F){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,x.Z)(function*(M,F){const ie=Bn(M),ze=(yield L()).transaction(Yn,"readwrite"),Qe=ze.objectStore(Yn),pt=yield Qe.get(ie);return yield Qe.put(F,ie),yield ze.done,(!pt||pt.fid!==F.fid)&&An(M,F.fid),F})).apply(this,arguments)}function Ke(M){return at.apply(this,arguments)}function at(){return(at=(0,x.Z)(function*(M){const F=Bn(M),Ie=(yield L()).transaction(Yn,"readwrite");yield Ie.objectStore(Yn).delete(F),yield Ie.done})).apply(this,arguments)}function mt(M,F){return pn.apply(this,arguments)}function pn(){return(pn=(0,x.Z)(function*(M,F){const ie=Bn(M),ze=(yield L()).transaction(Yn,"readwrite"),Qe=ze.objectStore(Yn),pt=yield Qe.get(ie),xt=F(pt);return void 0===xt?yield Qe.delete(ie):yield Qe.put(xt,ie),yield ze.done,xt&&(!pt||pt.fid!==xt.fid)&&An(M,xt.fid),xt})).apply(this,arguments)}function rn(M){return cn.apply(this,arguments)}function cn(){return(cn=(0,x.Z)(function*(M){let F;const ie=yield mt(M.appConfig,Ie=>{const ze=yn(Ie),Qe=Nt(M,ze);return F=Qe.registrationPromise,Qe.installationEntry});return""===ie.fid?{installationEntry:yield F}:{installationEntry:ie,registrationPromise:F}})).apply(this,arguments)}function yn(M){return an(M||{fid:_t(),registrationStatus:0})}function Nt(M,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(_e.create("app-offline"))};const ie={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},Ie=function Ht(M,F){return Vn.apply(this,arguments)}(M,ie);return{installationEntry:ie,registrationPromise:Ie}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:vi(M)}:{installationEntry:F}}function Vn(){return(Vn=(0,x.Z)(function*(M,F){try{const ie=yield Se(M,F);return k(M.appConfig,ie)}catch(ie){throw z(ie)&&409===ie.customData.serverCode?yield Ke(M.appConfig):yield k(M.appConfig,{fid:F.fid,registrationStatus:0}),ie}})).apply(this,arguments)}function vi(M){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,x.Z)(function*(M){let F=yield zi(M.appConfig);for(;1===F.registrationStatus;)yield qe(100),F=yield zi(M.appConfig);if(0===F.registrationStatus){const{installationEntry:ie,registrationPromise:Ie}=yield rn(M);return Ie||ie}return F})).apply(this,arguments)}function zi(M){return mt(M,F=>{if(!F)throw _e.create("installation-not-found");return an(F)})}function an(M){return function ft(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function ke(M,F){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,x.Z)(function*({appConfig:M,heartbeatServiceProvider:F},ie){const Ie=ot(M,ie),ze=oe(M,ie),Qe=F.getImmediate({optional:!0});if(Qe){const un=yield Qe.getHeartbeatsHeader();un&&ze.append("x-firebase-client",un)}const xt={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:Q,appId:M.appId}})},Jt=yield de(()=>fetch(Ie,xt));if(Jt.ok)return N(yield Jt.json());throw yield q("Generate Auth Token",Jt)})).apply(this,arguments)}function ot(M,{fid:F}){return`${P(M)}/${F}/authTokens:generate`}function $t(M){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,x.Z)(function*(M,F=!1){let ie;const Ie=yield mt(M.appConfig,Qe=>{if(!gn(Qe))throw _e.create("not-registered");const pt=Qe.authToken;if(!F&&Oe(pt))return Qe;if(1===pt.requestStatus)return ie=Ot(M,F),Qe;{if(!navigator.onLine)throw _e.create("app-offline");const xt=Be(Qe);return ie=Qt(M,xt),xt}});return ie?yield ie:Ie.authToken})).apply(this,arguments)}function Ot(M,F){return ut.apply(this,arguments)}function ut(){return(ut=(0,x.Z)(function*(M,F){let ie=yield Bt(M.appConfig);for(;1===ie.authToken.requestStatus;)yield qe(100),ie=yield Bt(M.appConfig);const Ie=ie.authToken;return 0===Ie.requestStatus?$t(M,F):Ie})).apply(this,arguments)}function Bt(M){return mt(M,F=>{if(!gn(F))throw _e.create("not-registered");return function st(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Qt(M,F){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,x.Z)(function*(M,F){try{const ie=yield ke(M,F),Ie=Object.assign(Object.assign({},F),{authToken:ie});return yield k(M.appConfig,Ie),ie}catch(ie){if(!z(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const Ie=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield k(M.appConfig,Ie)}else yield Ke(M.appConfig);throw ie}})).apply(this,arguments)}function gn(M){return void 0!==M&&2===M.registrationStatus}function Oe(M){return 2===M.requestStatus&&!function Me(M){const F=Date.now();return F<M.creationTime||M.creationTime+M.expiresIn<F+36e5}(M)}function Be(M){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:F})}function At(){return(At=(0,x.Z)(function*(M){const F=M,{installationEntry:ie,registrationPromise:Ie}=yield rn(F);return Ie?Ie.catch(console.error):$t(F).catch(console.error),ie.fid})).apply(this,arguments)}function Ne(){return(Ne=(0,x.Z)(function*(M,F=!1){const ie=M;return yield Ae(ie),(yield $t(ie,F)).token})).apply(this,arguments)}function Ae(M){return We.apply(this,arguments)}function We(){return(We=(0,x.Z)(function*(M){const{registrationPromise:F}=yield rn(M);F&&(yield F)})).apply(this,arguments)}function Wi(M){return _e.create("missing-app-config-values",{valueName:M})}const ho="installations",qn=M=>{const F=M.getProvider("app").getImmediate(),ie=function En(M){if(!M||!M.options)throw Wi("App Configuration");if(!M.name)throw Wi("App Name");const F=["projectId","apiKey","appId"];for(const ie of F)if(!M.options[ie])throw Wi(ie);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(F);return{app:F,appConfig:ie,heartbeatServiceProvider:(0,ee._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Br=M=>{const F=M.getProvider("app").getImmediate(),ie=(0,ee._getProvider)(F,ho).getImmediate();return{getId:()=>function $e(M){return At.apply(this,arguments)}(ie),getToken:ze=>function He(M){return Ne.apply(this,arguments)}(ie,ze)}};(function Sr(){(0,ee._registerComponent)(new K.wA(ho,qn,"PUBLIC")),(0,ee._registerComponent)(new K.wA("installations-internal",Br,"PRIVATE"))})(),(0,ee.registerVersion)($,j),(0,ee.registerVersion)($,j,"esm2017");const Di="@firebase/remote-config",Gt=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xc{constructor(F,ie,Ie,ze){this.client=F,this.storage=ie,this.storageCache=Ie,this.logger=ze}isCachedDataFresh(F,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-ie,ze=Ie<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${ze}.`),ze}fetch(F){var ie=this;return(0,x.Z)(function*(){const[Ie,ze]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(ze&&ie.isCachedDataFresh(F.cacheMaxAgeMillis,Ie))return ze;F.eTag=ze&&ze.eTag;const Qe=yield ie.client.fetch(F),pt=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&pt.push(ie.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(pt),Qe})()}}function No(M=navigator){return M.languages&&M.languages[0]||M.language}class ca{constructor(F,ie,Ie,ze,Qe,pt){this.firebaseInstallations=F,this.sdkVersion=ie,this.namespace=Ie,this.projectId=ze,this.apiKey=Qe,this.appId=pt}fetch(F){var ie=this;return(0,x.Z)(function*(){var Ie,ze,Qe;const[pt,xt]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Xt={sdk_version:ie.sdkVersion,app_instance_id:pt,app_instance_id_token:xt,app_id:ie.appId,language_code:No()},Bi={method:"POST",headers:On,body:JSON.stringify(Xt)},Or=fetch(un,Bi),Ql=new Promise((al,zo)=>{F.signal.addEventListener(()=>{const Yc=new Error("The operation was aborted.");Yc.name="AbortError",zo(Yc)})});let Jl;try{yield Promise.race([Or,Ql]),Jl=yield Or}catch(al){let zo="fetch-client-network";throw"AbortError"===(null===(Ie=al)||void 0===Ie?void 0:Ie.name)&&(zo="fetch-timeout"),Gt.create(zo,{originalErrorMessage:null===(ze=al)||void 0===ze?void 0:ze.message})}let rl=Jl.status;const sl=Jl.headers.get("ETag")||void 0;let mi,ol;if(200===Jl.status){let al;try{al=yield Jl.json()}catch(zo){throw Gt.create("fetch-client-parse",{originalErrorMessage:null===(Qe=zo)||void 0===Qe?void 0:Qe.message})}mi=al.entries,ol=al.state}if("INSTANCE_STATE_UNSPECIFIED"===ol?rl=500:"NO_CHANGE"===ol?rl=304:("NO_TEMPLATE"===ol||"EMPTY_CONFIG"===ol)&&(mi={}),304!==rl&&200!==rl)throw Gt.create("fetch-status",{httpStatus:rl});return{status:rl,eTag:sl,config:mi}})()}}class sf{constructor(F,ie){this.client=F,this.storage=ie}fetch(F){var ie=this;return(0,x.Z)(function*(){const Ie=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(F,Ie)})()}attemptFetch(F,{throttleEndTimeMillis:ie,backoffCount:Ie}){var ze=this;return(0,x.Z)(function*(){yield function Yt(M,F){return new Promise((ie,Ie)=>{const ze=Math.max(F-Date.now(),0),Qe=setTimeout(ie,ze);M.addEventListener(()=>{clearTimeout(Qe),Ie(Gt.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,ie);try{const Qe=yield ze.client.fetch(F);return yield ze.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function ua(M){if(!(M instanceof te.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Qe))throw Qe;const pt={throttleEndTimeMillis:Date.now()+(0,te.$s)(Ie),backoffCount:Ie+1};return yield ze.storage.setThrottleMetadata(pt),ze.attemptFetch(F,pt)}})()}}class Nc{constructor(F,ie,Ie,ze,Qe){this.app=F,this._client=ie,this._storageCache=Ie,this._storage=ze,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jr(M,F){var ie;const Ie=M.target.error||void 0;return Gt.create(F,{originalErrorMessage:Ie&&(null===(ie=Ie)||void 0===ie?void 0:ie.message)})}const Gs="app_namespace_store";class sr{constructor(F,ie,Ie,ze=function eg(){return new Promise((M,F)=>{var ie;try{const Ie=indexedDB.open("firebase_remote_config",1);Ie.onerror=ze=>{F(Jr(ze,"storage-open"))},Ie.onsuccess=ze=>{M(ze.target.result)},Ie.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(Gs,{keyPath:"compositeKey"})}}catch(Ie){F(Gt.create("storage-open",{originalErrorMessage:null===(ie=Ie)||void 0===ie?void 0:ie.message}))}})}()){this.appId=F,this.appName=ie,this.namespace=Ie,this.openDbPromise=ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var ie=this;return(0,x.Z)(function*(){const Ie=yield ie.openDbPromise;return new Promise((ze,Qe)=>{var pt;const Jt=Ie.transaction([Gs],"readonly").objectStore(Gs),un=ie.createCompositeKey(F);try{const On=Jt.get(un);On.onerror=Xt=>{Qe(Jr(Xt,"storage-get"))},On.onsuccess=Xt=>{const Bi=Xt.target.result;ze(Bi?Bi.value:void 0)}}catch(On){Qe(Gt.create("storage-get",{originalErrorMessage:null===(pt=On)||void 0===pt?void 0:pt.message}))}})})()}set(F,ie){var Ie=this;return(0,x.Z)(function*(){const ze=yield Ie.openDbPromise;return new Promise((Qe,pt)=>{var xt;const un=ze.transaction([Gs],"readwrite").objectStore(Gs),On=Ie.createCompositeKey(F);try{const Xt=un.put({compositeKey:On,value:ie});Xt.onerror=Bi=>{pt(Jr(Bi,"storage-set"))},Xt.onsuccess=()=>{Qe()}}catch(Xt){pt(Gt.create("storage-set",{originalErrorMessage:null===(xt=Xt)||void 0===xt?void 0:xt.message}))}})})()}delete(F){var ie=this;return(0,x.Z)(function*(){const Ie=yield ie.openDbPromise;return new Promise((ze,Qe)=>{var pt;const Jt=Ie.transaction([Gs],"readwrite").objectStore(Gs),un=ie.createCompositeKey(F);try{const On=Jt.delete(un);On.onerror=Xt=>{Qe(Jr(Xt,"storage-delete"))},On.onsuccess=()=>{ze()}}catch(On){Qe(Gt.create("storage-delete",{originalErrorMessage:null===(pt=On)||void 0===pt?void 0:pt.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class $s{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,x.Z)(function*(){const ie=F.storage.getLastFetchStatus(),Ie=F.storage.getLastSuccessfulFetchTimestampMillis(),ze=F.storage.getActiveConfig(),Qe=yield ie;Qe&&(F.lastFetchStatus=Qe);const pt=yield Ie;pt&&(F.lastSuccessfulFetchTimestampMillis=pt);const xt=yield ze;xt&&(F.activeConfig=xt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Ba(){return Au.apply(this,arguments)}function Au(){return(Au=(0,x.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}!function Ts(){(0,ee._registerComponent)(new K.wA("remote-config",function M(F,{instanceIdentifier:ie}){const Ie=F.getProvider("app").getImmediate(),ze=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gt.create("registration-window");if(!(0,te.hl)())throw Gt.create("indexed-db-unavailable");const{projectId:Qe,apiKey:pt,appId:xt}=Ie.options;if(!Qe)throw Gt.create("registration-project-id");if(!pt)throw Gt.create("registration-api-key");if(!xt)throw Gt.create("registration-app-id");const Jt=new sr(xt,Ie.name,ie=ie||"firebase"),un=new $s(Jt),On=new R.Yd(Di);On.logLevel=R.in.ERROR;const Xt=new ca(ze,ee.SDK_VERSION,ie,Qe,pt,xt),Bi=new sf(Xt,Jt),Or=new xc(Bi,Jt,un,On),Ql=new Nc(Ie,Or,un,Jt,On);return function gi(M){const F=(0,te.m9)(M);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Ql),Ql},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Di,"0.3.15"),(0,ee.registerVersion)(Di,"0.3.15","esm2017")}();const Is="/firebase-messaging-sw.js",Ss="/firebase-cloud-messaging-push-scope",zs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",da="google.c.a.c_id",Oo="google.c.a.c_l",Ws="google.c.a.ts",kn="google.c.a.e";var Ks=(()=>{return(M=Ks||(Ks={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Ks;var M})();function Zi(M){const F=new Uint8Array(M);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hr(M){const ie=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(ie),ze=new Uint8Array(Ie.length);for(let Qe=0;Qe<Ie.length;++Qe)ze[Qe]=Ie.charCodeAt(Qe);return ze}const Ro="fcm_token_details_db",_r="fcm_token_object_Store";function Nl(M){return Va.apply(this,arguments)}function Va(){return Va=(0,x.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(Ro))return null;let F=null;return(yield(0,H.X3)(Ro,5,{upgrade:(Ie=(0,x.Z)(function*(ze,Qe,pt,xt){var Jt;if(Qe<2||!ze.objectStoreNames.contains(_r))return;const un=xt.objectStore(_r),On=yield un.index("fcmSenderId").get(M);if(yield un.clear(),On)if(2===Qe){const Xt=On;if(!Xt.auth||!Xt.p256dh||!Xt.endpoint)return;F={token:Xt.fcmToken,createTime:null!==(Jt=Xt.createTime)&&void 0!==Jt?Jt:Date.now(),subscriptionOptions:{auth:Xt.auth,p256dh:Xt.p256dh,endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:"string"==typeof Xt.vapidKey?Xt.vapidKey:Zi(Xt.vapidKey)}}}else if(3===Qe){const Xt=On;F={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:Zi(Xt.auth),p256dh:Zi(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:Zi(Xt.vapidKey)}}}else if(4===Qe){const Xt=On;F={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:Zi(Xt.auth),p256dh:Zi(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:Zi(Xt.vapidKey)}}}}),function(Qe,pt,xt,Jt){return Ie.apply(this,arguments)})})).close(),yield(0,H.Lj)(Ro),yield(0,H.Lj)("fcm_vapid_details_db"),yield(0,H.Lj)("undefined"),Ai(F)?F:null;var Ie}),Va.apply(this,arguments)}function Ai(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:F}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const xr="firebase-messaging-store";let or=null;function Ha(){return or||(or=(0,H.X3)("firebase-messaging-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(xr)}})),or}function Po(M){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,x.Z)(function*(M){const F=ps(M),Ie=yield(yield Ha()).transaction(xr).objectStore(xr).get(F);if(Ie)return Ie;{const ze=yield Nl(M.appConfig.senderId);if(ze)return yield Kn(M,ze),ze}})).apply(this,arguments)}function Kn(M,F){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,x.Z)(function*(M,F){const ie=ps(M),ze=(yield Ha()).transaction(xr,"readwrite");return yield ze.objectStore(xr).put(F,ie),yield ze.done,F})).apply(this,arguments)}function As(M){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,x.Z)(function*(M){const F=ps(M),Ie=(yield Ha()).transaction(xr,"readwrite");yield Ie.objectStore(xr).delete(F),yield Ie.done})).apply(this,arguments)}function ps({appConfig:M}){return M.appId}const Mi=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mn(M,F){return ha.apply(this,arguments)}function ha(){return(ha=(0,x.Z)(function*(M,F){var ie;const Ie=yield Rc(M),ze=ht(F),Qe={method:"POST",headers:Ie,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(po(M.appConfig),Qe)).json()}catch(xt){throw Mi.create("token-subscribe-failed",{errorInfo:null===(ie=xt)||void 0===ie?void 0:ie.toString()})}if(pt.error)throw Mi.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw Mi.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function Pl(M,F){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,x.Z)(function*(M,F){var ie;const Ie=yield Rc(M),ze=ht(F.subscriptionOptions),Qe={method:"PATCH",headers:Ie,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(`${po(M.appConfig)}/${F.token}`,Qe)).json()}catch(xt){throw Mi.create("token-update-failed",{errorInfo:null===(ie=xt)||void 0===ie?void 0:ie.toString()})}if(pt.error)throw Mi.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw Mi.create("token-update-no-token");return pt.token})).apply(this,arguments)}function Ms(M,F){return ja.apply(this,arguments)}function ja(){return(ja=(0,x.Z)(function*(M,F){var ie;const ze={method:"DELETE",headers:yield Rc(M)};try{const pt=yield(yield fetch(`${po(M.appConfig)}/${F}`,ze)).json();if(pt.error)throw Mi.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(Qe){throw Mi.create("token-unsubscribe-failed",{errorInfo:null===(ie=Qe)||void 0===ie?void 0:ie.toString()})}})).apply(this,arguments)}function po({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Rc(M){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,x.Z)(function*({appConfig:M,installations:F}){const ie=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function ht({p256dh:M,auth:F,endpoint:ie,vapidKey:Ie}){const ze={web:{endpoint:ie,auth:F,p256dh:M}};return Ie!==zs&&(ze.web.applicationPubKey=Ie),ze}const Mn=6048e5;function go(M){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,x.Z)(function*(M){const F=yield Ll(M.swRegistration,M.vapidKey),ie={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:F.endpoint,auth:Zi(F.getKey("auth")),p256dh:Zi(F.getKey("p256dh"))},Ie=yield Po(M.firebaseDependencies);if(Ie){if(Bl(Ie.subscriptionOptions,ie))return Date.now()>=Ie.createTime+Mn?Fo(M,{token:Ie.token,createTime:Date.now(),subscriptionOptions:ie}):Ie.token;try{yield Ms(M.firebaseDependencies,Ie.token)}catch(ze){console.warn(ze)}return za(M.firebaseDependencies,ie)}return za(M.firebaseDependencies,ie)})).apply(this,arguments)}function xi(M){return $a.apply(this,arguments)}function $a(){return($a=(0,x.Z)(function*(M){const F=yield Po(M.firebaseDependencies);F&&(yield Ms(M.firebaseDependencies,F.token),yield As(M.firebaseDependencies));const ie=yield M.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()})).apply(this,arguments)}function Fo(M,F){return ar.apply(this,arguments)}function ar(){return(ar=(0,x.Z)(function*(M,F){try{const ie=yield Pl(M.firebaseDependencies,F),Ie=Object.assign(Object.assign({},F),{token:ie,createTime:Date.now()});return yield Kn(M.firebaseDependencies,Ie),ie}catch(ie){throw yield xi(M),ie}})).apply(this,arguments)}function za(M,F){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,x.Z)(function*(M,F){const Ie={token:yield mn(M,F),createTime:Date.now(),subscriptionOptions:F};return yield Kn(M,Ie),Ie.token})).apply(this,arguments)}function Ll(M,F){return kc.apply(this,arguments)}function kc(){return(kc=(0,x.Z)(function*(M,F){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hr(F)})})).apply(this,arguments)}function Bl(M,F){return F.vapidKey===M.vapidKey&&F.endpoint===M.endpoint&&F.auth===M.auth&&F.p256dh===M.p256dh}function Qs(M){const F={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function ki(M,F){if(!F.notification)return;M.notification={};const ie=F.notification.title;ie&&(M.notification.title=ie);const Ie=F.notification.body;Ie&&(M.notification.body=Ie);const ze=F.notification.image;ze&&(M.notification.image=ze);const Qe=F.notification.icon;Qe&&(M.notification.icon=Qe)}(F,M),function Xr(M,F){!F.data||(M.data=F.data)}(F,M),function Pc(M,F){var ie,Ie,ze,Qe,pt;if(!(F.fcmOptions||null!==(ie=F.notification)&&void 0!==ie&&ie.click_action))return;M.fcmOptions={};const xt=null!==(ze=null===(Ie=F.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==ze?ze:null===(Qe=F.notification)||void 0===Qe?void 0:Qe.click_action;xt&&(M.fcmOptions.link=xt);const Jt=null===(pt=F.fcmOptions)||void 0===pt?void 0:pt.analytics_label;Jt&&(M.fcmOptions.analyticsLabel=Jt)}(F,M),F}function mo(M){return"object"==typeof M&&!!M&&da in M}function xs(M,F){const ie=[];for(let Ie=0;Ie<M.length;Ie++)ie.push(M.charAt(Ie)),Ie<F.length&&ie.push(F.charAt(Ie));return ie.join("")}function Lo(M){return Mi.create("missing-app-config-values",{valueName:M})}xs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fa{constructor(F,ie,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ze=function _o(M){if(!M||!M.options)throw Lo("App Configuration Object");if(!M.name)throw Lo("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=M;for(const Ie of F)if(!ie[Ie])throw Lo(Ie);return{appName:M.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:ze,installations:ie,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function pa(M){return qa.apply(this,arguments)}function qa(){return(qa=(0,x.Z)(function*(M){var F;try{M.swRegistration=yield navigator.serviceWorker.register(Is,{scope:Ss}),M.swRegistration.update().catch(()=>{})}catch(ie){throw Mi.create("failed-service-worker-registration",{browserErrorMessage:null===(F=ie)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function Ka(M,F){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,x.Z)(function*(M,F){if(!F&&!M.swRegistration&&(yield pa(M)),F||!M.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Mi.create("invalid-sw-registration");M.swRegistration=F}})).apply(this,arguments)}function Za(M,F){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,x.Z)(function*(M,F){F?M.vapidKey=F:M.vapidKey||(M.vapidKey=zs)})).apply(this,arguments)}function Vl(){return(Vl=(0,x.Z)(function*(M,F){if(!navigator)throw Mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mi.create("permission-blocked");return yield Za(M,F?.vapidKey),yield Ka(M,F?.serviceWorkerRegistration),go(M)})).apply(this,arguments)}function Bc(M,F,ie){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,x.Z)(function*(M,F,ie){const Ie=Vc(F);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:ie[da],message_name:ie[Oo],message_time:ie[Ws],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vc(M){switch(M){case Ks.NOTIFICATION_CLICKED:return"notification_open";case Ks.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function G(){return(G=(0,x.Z)(function*(M,F){const ie=F.data;if(!ie.isFirebaseMessaging)return;M.onMessageHandler&&ie.messageType===Ks.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Qs(ie)):M.onMessageHandler.next(Qs(ie)));const Ie=ie.data;mo(Ie)&&"1"===Ie[kn]&&(yield Bc(M,ie.messageType,Ie))})).apply(this,arguments)}const O="@firebase/messaging",xe=M=>{const F=new fa(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function A(M,F){return G.apply(this,arguments)}(F,ie)),F},Ye=M=>{const F=M.getProvider("messaging").getImmediate();return{getToken:Ie=>function Ul(M,F){return Vl.apply(this,arguments)}(F,Ie)}};function Rt(){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,x.Z)(function*(){try{yield(0,te.eu)()}catch{return!1}return typeof window<"u"&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nt(){(0,ee._registerComponent)(new K.wA("messaging",xe,"PUBLIC")),(0,ee._registerComponent)(new K.wA("messaging-internal",Ye,"PRIVATE")),(0,ee.registerVersion)(O,"0.11.0"),(0,ee.registerVersion)(O,"0.11.0","esm2017")}();const es="analytics",yo="firebase_id",vo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ga="https://www.googletagmanager.com/gtag/js",Ui=new R.Yd("@firebase/analytics");function Mu(M){return Promise.all(M.map(F=>F.catch(ie=>ie)))}function Pd(M,F){const ie=document.createElement("script");ie.src=`${ga}?l=${M}&id=${F}`,ie.async=!0,document.head.appendChild(ie)}function Fd(M,F,ie,Ie,ze,Qe){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,x.Z)(function*(M,F,ie,Ie,ze,Qe){const pt=Ie[ze];try{if(pt)yield F[pt];else{const Jt=(yield Mu(ie)).find(un=>un.measurementId===ze);Jt&&(yield F[Jt.appId])}}catch(xt){Ui.error(xt)}M("config",ze,Qe)})).apply(this,arguments)}function jc(M,F,ie,Ie,ze){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,x.Z)(function*(M,F,ie,Ie,ze){try{let Qe=[];if(ze&&ze.send_to){let pt=ze.send_to;Array.isArray(pt)||(pt=[pt]);const xt=yield Mu(ie);for(const Jt of pt){const un=xt.find(Xt=>Xt.measurementId===Jt),On=un&&F[un.appId];if(!On){Qe=[];break}Qe.push(On)}}0===Qe.length&&(Qe=Object.values(F)),yield Promise.all(Qe),M("event",Ie,ze||{})}catch(Qe){Ui.error(Qe)}})).apply(this,arguments)}function xu(M){const F=window.document.getElementsByTagName("script");for(const ie of Object.values(F))if(ie.src&&ie.src.includes(ga)&&ie.src.includes(M))return ie;return null}const yr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Nu=new class Bo{constructor(F={},ie=1e3){this.throttleMetadata=F,this.intervalMillis=ie}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,ie){this.throttleMetadata[F]=ie}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function _0(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Gc(M){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,x.Z)(function*(M){var F;const{appId:ie,apiKey:Ie}=M,ze={method:"GET",headers:_0(Ie)},Qe=vo.replace("{app-id}",ie),pt=yield fetch(Qe,ze);if(200!==pt.status&&304!==pt.status){let xt="";try{const Jt=yield pt.json();null!==(F=Jt.error)&&void 0!==F&&F.message&&(xt=Jt.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:xt})}return pt.json()})).apply(this,arguments)}function lr(M){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,x.Z)(function*(M,F=Nu,ie){const{appId:Ie,apiKey:ze,measurementId:Qe}=M.options;if(!Ie)throw yr.create("no-app-id");if(!ze){if(Qe)return{measurementId:Qe,appId:Ie};throw yr.create("no-api-key")}const pt=F.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},xt=new ma;return setTimeout((0,x.Z)(function*(){xt.abort()}),void 0!==ie?ie:6e4),Ou({appId:Ie,apiKey:ze,measurementId:Qe},pt,xt,F)})).apply(this,arguments)}function Ou(M,F,ie){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,x.Z)(function*(M,{throttleEndTimeMillis:F,backoffCount:ie},Ie,ze=Nu){var Qe,pt;const{appId:xt,measurementId:Jt}=M;try{yield Nr(Ie,F)}catch(un){if(Jt)return Ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${null===(Qe=un)||void 0===Qe?void 0:Qe.message}]`),{appId:xt,measurementId:Jt};throw un}try{const un=yield Gc(M);return ze.deleteThrottleMetadata(xt),un}catch(un){const On=un;if(!Ru(On)){if(ze.deleteThrottleMetadata(xt),Jt)return Ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${On?.message}]`),{appId:xt,measurementId:Jt};throw un}const Xt=503===Number(null===(pt=On?.customData)||void 0===pt?void 0:pt.httpStatus)?(0,te.$s)(ie,ze.intervalMillis,30):(0,te.$s)(ie,ze.intervalMillis),Bi={throttleEndTimeMillis:Date.now()+Xt,backoffCount:ie+1};return ze.setThrottleMetadata(xt,Bi),Ui.debug(`Calling attemptFetch again in ${Xt} millis`),Ou(M,Bi,Ie,ze)}})).apply(this,arguments)}function Nr(M,F){return new Promise((ie,Ie)=>{const ze=Math.max(F-Date.now(),0),Qe=setTimeout(ie,ze);M.addEventListener(()=>{clearTimeout(Qe),Ie(yr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function Ru(M){if(!(M instanceof te.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}class ma{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let Xa,wo;function _a(){return(_a=(0,x.Z)(function*(M,F,ie,Ie,ze){if(ze&&ze.global)M("event",ie,Ie);else{const Qe=yield F;M("event",ie,Object.assign(Object.assign({},Ie),{send_to:Qe}))}})).apply(this,arguments)}function Ea(M){wo=M}function uf(M){Xa=M}function df(){return ku.apply(this,arguments)}function ku(){return(ku=(0,x.Z)(function*(){var M;if(!(0,te.hl)())return Ui.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(F){return Ui.warn(yr.create("indexeddb-unavailable",{errorInfo:null===(M=F)||void 0===M?void 0:M.toString()}).message),!1}return!0})).apply(this,arguments)}function Pu(){return(Pu=(0,x.Z)(function*(M,F,ie,Ie,ze,Qe,pt){var xt;const Jt=lr(M);Jt.then(Or=>{ie[Or.measurementId]=Or.appId,M.options.measurementId&&Or.measurementId!==M.options.measurementId&&Ui.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Or=>Ui.error(Or)),F.push(Jt);const un=df().then(Or=>{if(Or)return Ie.getId()}),[On,Xt]=yield Promise.all([Jt,un]);xu(Qe)||Pd(Qe,On.measurementId),wo&&(ze("consent","default",wo),Ea(void 0)),ze("js",new Date);const Bi=null!==(xt=pt?.config)&&void 0!==xt?xt:{};return Bi.origin="firebase",Bi.update=!0,null!=Xt&&(Bi[yo]=Xt),ze("config",On.measurementId,Bi),Xa&&(ze("set",Xa),uf(void 0)),On.measurementId})).apply(this,arguments)}class hf{constructor(F){this.app=F}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},Js=[];const Eo={};let el,Ca,Xs="dataLayer",Wl=!1;function L_(M,F,ie){!function F_(){const M=[];if((0,te.ru)()&&M.push("This is a browser extension environment."),(0,te.zI)()||M.push("Cookies are not available."),M.length>0){const F=M.map((Ie,ze)=>`(${ze+1}) ${Ie}`).join(" "),ie=yr.create("invalid-analytics-context",{errorInfo:F});Ui.warn(ie.message)}}();const Ie=M.options.appId;if(!Ie)throw yr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw yr.create("no-api-key");Ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ns[Ie])throw yr.create("already-exists",{id:Ie});if(!Wl){!function lf(M){let F=[];Array.isArray(window[M])?F=window[M]:window[M]=F}(Xs);const{wrappedGtag:Qe,gtagCore:pt}=function Ja(M,F,ie,Ie,ze){let Qe=function(...pt){window[Ie].push(arguments)};return window[ze]&&"function"==typeof window[ze]&&(Qe=window[ze]),window[ze]=function Qa(M,F,ie,Ie){function Qe(){return(Qe=(0,x.Z)(function*(pt,xt,Jt){try{"event"===pt?yield jc(M,F,ie,xt,Jt):"config"===pt?yield Fd(M,F,ie,Ie,xt,Jt):"consent"===pt?M("consent","update",Jt):M("set",xt)}catch(un){Ui.error(un)}})).apply(this,arguments)}return function ze(pt,xt,Jt){return Qe.apply(this,arguments)}}(Qe,M,F,ie),{gtagCore:Qe,wrappedGtag:window[ze]}}(ns,Js,Eo,Xs,"gtag");Ca=Qe,el=pt,Wl=!0}return ns[Ie]=function zl(M,F,ie,Ie,ze,Qe,pt){return Pu.apply(this,arguments)}(M,Js,Eo,F,el,Xs,ie),new hf(M)}function ig(){return ff.apply(this,arguments)}function ff(){return(ff=(0,x.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const sg="@firebase/analytics";!function is(){(0,ee._registerComponent)(new K.wA(es,(F,{options:ie})=>L_(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,ee._registerComponent)(new K.wA("analytics-internal",function M(F){try{const ie=F.getProvider(es).getImmediate();return{logEvent:(Ie,ze,Qe)=>function Bd(M,F,ie,Ie){M=(0,te.m9)(M),function tg(M,F,ie,Ie,ze){return _a.apply(this,arguments)}(Ca,ns[M.app.options.appId],F,ie,Ie).catch(ze=>Ui.error(ze))}(ie,Ie,ze,Qe)}}catch(ie){throw yr.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,ee.registerVersion)(sg,"0.8.4"),(0,ee.registerVersion)(sg,"0.8.4","esm2017")}();var Os=I(4408),Vo=I(7565);const Da=new class Ho extends Vo.v{}(class qc extends Os.o{constructor(F,ie){super(F,ie),this.scheduler=F,this.work=ie}schedule(F,ie=0){return ie>0?super.schedule(F,ie):(this.delay=ie,this.state=F,this.scheduler.flush(this),this)}execute(F,ie){return ie>0||this.closed?super.execute(F,ie):this._execute(F,ie)}requestAsyncId(F,ie,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId(F,ie,Ie):(F.flush(this),0)}});var Ud=I(4986),Fu=I(8505),nl=I(5363),Lu=I(9468);const ys=new v.GfV("7.5.0"),Ta="__angularfire_symbol__analyticsIsSupportedValue",Ia="__angularfire_symbol__analyticsIsSupported",Bu="__angularfire_symbol__remoteConfigIsSupportedValue",Kc="__angularfire_symbol__remoteConfigIsSupported",Vd="__angularfire_symbol__messagingIsSupportedValue",Hd="__angularfire_symbol__messagingIsSupported";function Kl(M,F,ie){if(F){if(1===F.length)return F[0];const Qe=F.filter(pt=>pt.app===ie);if(1===Qe.length)return Qe[0]}return ie.container.getProvider(M).getImmediate({optional:!0})}globalThis[Ia]||(globalThis[Ia]=ig().then(M=>globalThis[Ta]=M).catch(()=>globalThis[Ta]=!1)),globalThis[Hd]||(globalThis[Hd]=Rt().then(M=>globalThis[Vd]=M).catch(()=>globalThis[Vd]=!1)),globalThis[Kc]||(globalThis[Kc]=Ba().then(M=>globalThis[Bu]=M).catch(()=>globalThis[Bu]=!1));const il=(M,F)=>{const ie=F?[F]:(0,l.C6)(),Ie=[];return ie.forEach(ze=>{ze.container.getProvider(M).instances.forEach(pt=>{Ie.includes(pt)||Ie.push(pt)})}),Ie};function Zl(){}class eo{constructor(F,ie=Da){this.zone=F,this.delegate=ie}now(){return this.delegate.now()}schedule(F,ie,Ie){const ze=this.zone;return this.delegate.schedule(function(pt){ze.runGuarded(()=>{F.apply(this,[pt])})},ie,Ie)}}class Uu{constructor(F){this.zone=F,this.task=null}call(F,ie){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zl,{},Zl,Zl)),ie.pipe((0,Fu.b)({next:Ie,complete:Ie,error:Ie})).subscribe(F).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vu=(()=>{class M{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new eo(Zone.current)),this.insideAngular=ie.run(()=>new eo(Zone.current,Ud.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(ie){return new(ie||M)(v.LFG(v.R0b))},M.\u0275prov=v.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function jo(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function mf(M){return M.pipe((0,nl.Q)(jo().outsideAngular))}function $o(M){return jo(),function Hu(M){return function(ie){return(ie=ie.lift(new Uu(M.ngZone))).pipe((0,Lu.R)(M.outsideAngular),(0,nl.Q)(M.insideAngular))}}(jo())(M)}},2090:(je,we,I)=>{"use strict";I.d(we,{$s:()=>Bt,BH:()=>tn,DV:()=>Yn,Dv:()=>vi,G6:()=>q,GJ:()=>wn,L:()=>H,LL:()=>In,Pz:()=>kt,Sg:()=>_t,UG:()=>J,UI:()=>L,US:()=>K,Wj:()=>an,Wl:()=>le,Yr:()=>N,ZB:()=>Y,ZR:()=>Bn,aH:()=>Ct,b$:()=>W,cI:()=>pe,dS:()=>ke,eu:()=>se,g5:()=>x,gK:()=>Qn,gQ:()=>rn,h$:()=>R,hl:()=>ye,hu:()=>l,jU:()=>De,lb:()=>ft,m9:()=>gn,ne:()=>cn,p$:()=>j,pd:()=>pn,r3:()=>Un,ru:()=>Ce,tV:()=>$,uI:()=>Z,ug:()=>Ve,vZ:()=>k,w1:()=>z,w9:()=>bn,xO:()=>at,xb:()=>ve,z$:()=>ne,zI:()=>oe,zd:()=>mt});const l=function(Oe,Me){if(!Oe)throw x(Me)},x=function(Oe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Oe)},ee=function(Oe){const Me=[];let Be=0;for(let st=0;st<Oe.length;st++){let $e=Oe.charCodeAt(st);$e<128?Me[Be++]=$e:$e<2048?(Me[Be++]=$e>>6|192,Me[Be++]=63&$e|128):55296==(64512&$e)&&st+1<Oe.length&&56320==(64512&Oe.charCodeAt(st+1))?($e=65536+((1023&$e)<<10)+(1023&Oe.charCodeAt(++st)),Me[Be++]=$e>>18|240,Me[Be++]=$e>>12&63|128,Me[Be++]=$e>>6&63|128,Me[Be++]=63&$e|128):(Me[Be++]=$e>>12|224,Me[Be++]=$e>>6&63|128,Me[Be++]=63&$e|128)}return Me},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,Me){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=Me?this.byteToCharMapWebSafe_:this.byteToCharMap_,st=[];for(let $e=0;$e<Oe.length;$e+=3){const At=Oe[$e],He=$e+1<Oe.length,Ne=He?Oe[$e+1]:0,Ae=$e+2<Oe.length,We=Ae?Oe[$e+2]:0;let wt=(15&Ne)<<2|We>>6,Dn=63&We;Ae||(Dn=64,He||(wt=64)),st.push(Be[At>>2],Be[(3&At)<<4|Ne>>4],Be[wt],Be[Dn])}return st.join("")},encodeString(Oe,Me){return this.HAS_NATIVE_SUPPORT&&!Me?btoa(Oe):this.encodeByteArray(ee(Oe),Me)},decodeString(Oe,Me){return this.HAS_NATIVE_SUPPORT&&!Me?atob(Oe):function(Oe){const Me=[];let Be=0,st=0;for(;Be<Oe.length;){const $e=Oe[Be++];if($e<128)Me[st++]=String.fromCharCode($e);else if($e>191&&$e<224){const At=Oe[Be++];Me[st++]=String.fromCharCode((31&$e)<<6|63&At)}else if($e>239&&$e<365){const Ae=((7&$e)<<18|(63&Oe[Be++])<<12|(63&Oe[Be++])<<6|63&Oe[Be++])-65536;Me[st++]=String.fromCharCode(55296+(Ae>>10)),Me[st++]=String.fromCharCode(56320+(1023&Ae))}else{const At=Oe[Be++],He=Oe[Be++];Me[st++]=String.fromCharCode((15&$e)<<12|(63&At)<<6|63&He)}}return Me.join("")}(this.decodeStringToByteArray(Oe,Me))},decodeStringToByteArray(Oe,Me){this.init_();const Be=Me?this.charToByteMapWebSafe_:this.charToByteMap_,st=[];for(let $e=0;$e<Oe.length;){const At=Be[Oe.charAt($e++)],Ne=$e<Oe.length?Be[Oe.charAt($e)]:0;++$e;const We=$e<Oe.length?Be[Oe.charAt($e)]:64;++$e;const Pe=$e<Oe.length?Be[Oe.charAt($e)]:64;if(++$e,null==At||null==Ne||null==We||null==Pe)throw Error();st.push(At<<2|Ne>>4),64!==We&&(st.push(Ne<<4&240|We>>2),64!==Pe&&st.push(We<<6&192|Pe))}return st},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}},R=function(Oe){const Me=ee(Oe);return K.encodeByteArray(Me,!0)},H=function(Oe){return R(Oe).replace(/\./g,"")},$=function(Oe){try{return K.decodeString(Oe,!0)}catch(Me){console.error("base64Decode failed: ",Me)}return null};function j(Oe){return Y(void 0,Oe)}function Y(Oe,Me){if(!(Me instanceof Object))return Me;switch(Me.constructor){case Date:return new Date(Me.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return Me}for(const Be in Me)!Me.hasOwnProperty(Be)||!Q(Be)||(Oe[Be]=Y(Oe[Be],Me[Be]));return Oe}function Q(Oe){return"__proto__"!==Oe}function ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function J(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function De(){return"object"==typeof self&&self.self===self}function Ce(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function W(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function z(){const Oe=ne();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function N(){return!1}function q(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){return"object"==typeof indexedDB}function se(){return new Promise((Oe,Me)=>{try{let Be=!0;const st="validate-browser-context-for-indexeddb-analytics-module",$e=self.indexedDB.open(st);$e.onsuccess=()=>{$e.result.close(),Be||self.indexedDB.deleteDatabase(st),Oe(!0)},$e.onupgradeneeded=()=>{Be=!1},$e.onerror=()=>{var At;Me((null===(At=$e.error)||void 0===At?void 0:At.message)||"")}}catch(Be){Me(Be)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Se=()=>{try{return function de(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Oe=process.env.__FIREBASE_DEFAULTS__;return Oe?JSON.parse(Oe):void 0})()||(()=>{if(typeof document>"u")return;let Oe;try{Oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Me=Oe&&$(Oe[1]);return Me&&JSON.parse(Me)})()}catch(Oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Oe}`)}},Ct=()=>{var Oe;return null===(Oe=Se())||void 0===Oe?void 0:Oe.config},kt=Oe=>{var Me;return null===(Me=Se())||void 0===Me?void 0:Me[`_${Oe}`]};class tn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Me,Be)=>{this.resolve=Me,this.reject=Be})}wrapCallback(Me){return(Be,st)=>{Be?this.reject(Be):this.resolve(st),"function"==typeof Me&&(this.promise.catch(()=>{}),1===Me.length?Me(Be):Me(Be,st))}}}function _t(Oe,Me){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const st=Me||"demo-project",$e=Oe.iat||0,At=Oe.sub||Oe.user_id;if(!At)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${st}`,aud:st,iat:$e,exp:$e+3600,auth_time:$e,sub:At,user_id:At,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[H(JSON.stringify({alg:"none",type:"JWT"})),H(JSON.stringify(He)),""].join(".")}class Bn extends Error{constructor(Me,Be,st){super(Be),this.code=Me,this.customData=st,this.name="FirebaseError",Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}}class In{constructor(Me,Be,st){this.service=Me,this.serviceName=Be,this.errors=st}create(Me,...Be){const st=Be[0]||{},$e=`${this.service}/${Me}`,At=this.errors[Me],He=At?function An(Oe,Me){return Oe.replace(di,(Be,st)=>{const $e=Me[st];return null!=$e?String($e):`<${st}?>`})}(At,st):"Error";return new Bn($e,`${this.serviceName}: ${He} (${$e}).`,st)}}const di=/\{\$([^}]+)}/g;function pe(Oe){return JSON.parse(Oe)}function le(Oe){return JSON.stringify(Oe)}const lt=function(Oe){let Me={},Be={},st={},$e="";try{const At=Oe.split(".");Me=pe($(At[0])||""),Be=pe($(At[1])||""),$e=At[2],st=Be.d||{},delete Be.d}catch{}return{header:Me,claims:Be,data:st,signature:$e}},bn=function(Oe){const Be=lt(Oe).claims;return!!Be&&"object"==typeof Be&&Be.hasOwnProperty("iat")},wn=function(Oe){const Me=lt(Oe).claims;return"object"==typeof Me&&!0===Me.admin};function Un(Oe,Me){return Object.prototype.hasOwnProperty.call(Oe,Me)}function Yn(Oe,Me){if(Object.prototype.hasOwnProperty.call(Oe,Me))return Oe[Me]}function ve(Oe){for(const Me in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Me))return!1;return!0}function L(Oe,Me,Be){const st={};for(const $e in Oe)Object.prototype.hasOwnProperty.call(Oe,$e)&&(st[$e]=Me.call(Be,Oe[$e],$e,Oe));return st}function k(Oe,Me){if(Oe===Me)return!0;const Be=Object.keys(Oe),st=Object.keys(Me);for(const $e of Be){if(!st.includes($e))return!1;const At=Oe[$e],He=Me[$e];if(Ee(At)&&Ee(He)){if(!k(At,He))return!1}else if(At!==He)return!1}for(const $e of st)if(!Be.includes($e))return!1;return!0}function Ee(Oe){return null!==Oe&&"object"==typeof Oe}function at(Oe){const Me=[];for(const[Be,st]of Object.entries(Oe))Array.isArray(st)?st.forEach($e=>{Me.push(encodeURIComponent(Be)+"="+encodeURIComponent($e))}):Me.push(encodeURIComponent(Be)+"="+encodeURIComponent(st));return Me.length?"&"+Me.join("&"):""}function mt(Oe){const Me={};return Oe.replace(/^\?/,"").split("&").forEach(st=>{if(st){const[$e,At]=st.split("=");Me[decodeURIComponent($e)]=decodeURIComponent(At)}}),Me}function pn(Oe){const Me=Oe.indexOf("?");if(!Me)return"";const Be=Oe.indexOf("#",Me);return Oe.substring(Me,Be>0?Be:void 0)}class rn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Me=1;Me<this.blockSize;++Me)this.pad_[Me]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Me,Be){Be||(Be=0);const st=this.W_;if("string"==typeof Me)for(let Pe=0;Pe<16;Pe++)st[Pe]=Me.charCodeAt(Be)<<24|Me.charCodeAt(Be+1)<<16|Me.charCodeAt(Be+2)<<8|Me.charCodeAt(Be+3),Be+=4;else for(let Pe=0;Pe<16;Pe++)st[Pe]=Me[Be]<<24|Me[Be+1]<<16|Me[Be+2]<<8|Me[Be+3],Be+=4;for(let Pe=16;Pe<80;Pe++){const wt=st[Pe-3]^st[Pe-8]^st[Pe-14]^st[Pe-16];st[Pe]=4294967295&(wt<<1|wt>>>31)}let We,Re,$e=this.chain_[0],At=this.chain_[1],He=this.chain_[2],Ne=this.chain_[3],Ae=this.chain_[4];for(let Pe=0;Pe<80;Pe++){Pe<40?Pe<20?(We=Ne^At&(He^Ne),Re=1518500249):(We=At^He^Ne,Re=1859775393):Pe<60?(We=At&He|Ne&(At|He),Re=2400959708):(We=At^He^Ne,Re=3395469782);const wt=($e<<5|$e>>>27)+We+Ae+Re+st[Pe]&4294967295;Ae=Ne,Ne=He,He=4294967295&(At<<30|At>>>2),At=$e,$e=wt}this.chain_[0]=this.chain_[0]+$e&4294967295,this.chain_[1]=this.chain_[1]+At&4294967295,this.chain_[2]=this.chain_[2]+He&4294967295,this.chain_[3]=this.chain_[3]+Ne&4294967295,this.chain_[4]=this.chain_[4]+Ae&4294967295}update(Me,Be){if(null==Me)return;void 0===Be&&(Be=Me.length);const st=Be-this.blockSize;let $e=0;const At=this.buf_;let He=this.inbuf_;for(;$e<Be;){if(0===He)for(;$e<=st;)this.compress_(Me,$e),$e+=this.blockSize;if("string"==typeof Me){for(;$e<Be;)if(At[He]=Me.charCodeAt($e),++He,++$e,He===this.blockSize){this.compress_(At),He=0;break}}else for(;$e<Be;)if(At[He]=Me[$e],++He,++$e,He===this.blockSize){this.compress_(At),He=0;break}}this.inbuf_=He,this.total_+=Be}digest(){const Me=[];let Be=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $e=this.blockSize-1;$e>=56;$e--)this.buf_[$e]=255&Be,Be/=256;this.compress_(this.buf_);let st=0;for(let $e=0;$e<5;$e++)for(let At=24;At>=0;At-=8)Me[st]=this.chain_[$e]>>At&255,++st;return Me}}function cn(Oe,Me){const Be=new yn(Oe,Me);return Be.subscribe.bind(Be)}class yn{constructor(Me,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{Me(this)}).catch(st=>{this.error(st)})}next(Me){this.forEachObserver(Be=>{Be.next(Me)})}error(Me){this.forEachObserver(Be=>{Be.error(Me)}),this.close(Me)}complete(){this.forEachObserver(Me=>{Me.complete()}),this.close()}subscribe(Me,Be,st){let $e;if(void 0===Me&&void 0===Be&&void 0===st)throw new Error("Missing Observer.");$e=function Ht(Oe,Me){if("object"!=typeof Oe||null===Oe)return!1;for(const Be of Me)if(Be in Oe&&"function"==typeof Oe[Be])return!0;return!1}(Me,["next","error","complete"])?Me:{next:Me,error:Be,complete:st},void 0===$e.next&&($e.next=Vn),void 0===$e.error&&($e.error=Vn),void 0===$e.complete&&($e.complete=Vn);const At=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$e.error(this.finalError):$e.complete()}catch{}}),this.observers.push($e),At}unsubscribeOne(Me){void 0===this.observers||void 0===this.observers[Me]||(delete this.observers[Me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Me){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,Me)}sendOne(Me,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Me])try{Be(this.observers[Me])}catch(st){typeof console<"u"&&console.error&&console.error(st)}})}close(Me){this.finalized||(this.finalized=!0,void 0!==Me&&(this.finalError=Me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}const vi=function(Oe,Me,Be,st){let $e;if(st<Me?$e="at least "+Me:st>Be&&($e=0===Be?"none":"no more than "+Be),$e)throw new Error(Oe+" failed: Was called with "+st+(1===st?" argument.":" arguments.")+" Expects "+$e+".")};function Qn(Oe,Me){return`${Oe} failed: ${Me} argument `}function an(Oe,Me,Be,st){if((!st||Be)&&"function"!=typeof Be)throw new Error(Qn(Oe,Me)+"must be a valid function.")}function ft(Oe,Me,Be,st){if((!st||Be)&&("object"!=typeof Be||null===Be))throw new Error(Qn(Oe,Me)+"must be a valid context object.")}const ke=function(Oe){const Me=[];let Be=0;for(let st=0;st<Oe.length;st++){let $e=Oe.charCodeAt(st);if($e>=55296&&$e<=56319){const At=$e-55296;st++,l(st<Oe.length,"Surrogate pair missing trail surrogate."),$e=65536+(At<<10)+(Oe.charCodeAt(st)-56320)}$e<128?Me[Be++]=$e:$e<2048?(Me[Be++]=$e>>6|192,Me[Be++]=63&$e|128):$e<65536?(Me[Be++]=$e>>12|224,Me[Be++]=$e>>6&63|128,Me[Be++]=63&$e|128):(Me[Be++]=$e>>18|240,Me[Be++]=$e>>12&63|128,Me[Be++]=$e>>6&63|128,Me[Be++]=63&$e|128)}return Me},Ve=function(Oe){let Me=0;for(let Be=0;Be<Oe.length;Be++){const st=Oe.charCodeAt(Be);st<128?Me++:st<2048?Me+=2:st>=55296&&st<=56319?(Me+=4,Be++):Me+=3}return Me};function Bt(Oe,Me=1e3,Be=2){const st=Me*Math.pow(Be,Oe),$e=Math.round(.5*st*(Math.random()-.5)*2);return Math.min(144e5,st+$e)}function gn(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},6969:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>CalculatorComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6895),_angular_material_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4859),_angular_material_grid_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(782);function CalculatorComponent_mat_grid_tile_8_Template(je,we){if(1&je){const I=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"mat-grid-tile")(1,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){const x=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(I).$implicit,ee=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(ee.addValue(x))}),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()}if(2&je){const I=we.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(I)}}let CalculatorComponent=(()=>{class CalculatorComponent{constructor(){this.result="",this.buttons=["7","8","9","/","4","5","6","*","1","2","3","-","C","0","+","="]}addValue(btnValue){if("0"!=btnValue&&"/"!=btnValue&&"*"!=btnValue&&"-"!=btnValue&&"+"!=btnValue&&"="!=btnValue||""!=this.result)if("="==btnValue)try{this.result=eval(this.result)}catch(je){console.error(je),this.result="ERROR"}else"C"==btnValue?this.result="":(this.result=this.result+btnValue,console.log(this.result))}ngOnInit(){}}return CalculatorComponent.\u0275fac=function je(we){return new(we||CalculatorComponent)},CalculatorComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:CalculatorComponent,selectors:[["app-calculator"]],decls:9,vars:2,consts:[[1,"calculator"],["cols","4","rowHeight","2:1"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"click"]],template:function je(we,I){1&we&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1,"calculator works!"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(2,"div")(3,"span")(4,"h1"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(6,"div",0)(7,"mat-grid-list",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(8,CalculatorComponent_mat_grid_tile_8_Template,3,1,"mat-grid-tile",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()),2&we&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij("\xa0",I.result,"\xa0"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",I.buttons))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_1__.sg,_angular_material_button__WEBPACK_IMPORTED_MODULE_2__.lW,_angular_material_grid_list__WEBPACK_IMPORTED_MODULE_3__.Il,_angular_material_grid_list__WEBPACK_IMPORTED_MODULE_3__.DX]}),CalculatorComponent})()},4593:(je,we,I)=>{"use strict";var v=I(6895),l=I(4650);class x extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends x{static makeCurrent(){(0,v.HT)(new ee)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function K(){return te=te||document.querySelector("base"),te?te.getAttribute("href"):null}();return null==t?null:function H(n){R=R||document.createElement("a"),R.setAttribute("href",n);const e=R.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){te=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,v.Mx)(document.cookie,e)}}let R,te=null;const $=new l.OlP("TRANSITION_ID"),Y=[{provide:l.ip1,useFactory:function j(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=(0,v.q)(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[$,v.K0,l.zs3],multi:!0}];let ne=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Z=new l.OlP("EventManagerPlugins");let J=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class De{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=(0,v.q)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ce=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),W=(()=>{class n extends Ce{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(_e),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(_e))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function _e(n){(0,v.q)().remove(n)}const z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P=/%COMP%/g,q="%COMP%",ye=`_nghost-${q}`,se=`_ngcontent-${q}`;function re(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?re(n,r,t):(r=r.replace(P,n),t.push(r))}return t}function ae(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Se=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Je(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new tn(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=re(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J),l.LFG(W),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Je{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(z[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(kt(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(kt(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=z[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=z[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ae(i)):this.eventManager.addEventListener(e,t,ae(i))}}function kt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tn extends Je{constructor(e,t,i,r){super(e),this.component=i;const s=re(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function oe(n){return se.replace(P,n)}(r+"-"+i.id),this.hostAttr=function de(n){return ye.replace(P,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class _t extends Je{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=re(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sn=(()=>{class n extends De{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bn=["alt","control","meta","shift"],In={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let di=(()=>{class n extends De{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Bn.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),c+=y+".")}),c+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=c,f}static matchEventFullKeyCode(t,i){let r=In[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Bn.forEach(c=>{c!==r&&(0,An[c])(t)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ve=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:v.bD},{provide:l.g9A,useValue:function bn(){ee.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function Un(){return(0,l.RDi)(document),document},deps:[]}]),L=new l.OlP(""),k=[{provide:l.rWj,useClass:class Q{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(f){c=c||f,s--,0==s&&i(c)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?(0,v.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ee=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function wn(){return new l.qLn},deps:[]},{provide:Z,useClass:sn,multi:!0,deps:[v.K0,l.R0b,l.Lbi]},{provide:Z,useClass:di,multi:!0,deps:[v.K0]},{provide:Se,useClass:Se,deps:[J,W,l.AFp]},{provide:l.FYo,useExisting:Se},{provide:Ce,useExisting:W},{provide:W,useClass:W,deps:[v.K0]},{provide:J,useClass:J,deps:[Z,l.R0b]},{provide:v.JF,useClass:ne,deps:[]},[]];let Ke=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:$,useExisting:l.AFp},Y]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(L,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Ee,...k],imports:[v.ez,l.hGG]}),n})(),cn=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function rn(){return new cn((0,l.LFG)(v.K0))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let He=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Ae),i},providedIn:"root"}),n})(),Ae=(()=>{class n extends He{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ne(n){return new Ae(n.get(v.K0))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Re=I(8996),Pe=I(9646),wt=I(1135);const fi=(0,I(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ii=I(9841),Ds=I(7272),En=I(9751),Wi=I(8421);function ho(n){return new En.y(e=>{(0,Wi.Xf)(n()).subscribe(e)})}var Sn=I(9635),qn=I(576);function Br(n,e){const t=(0,qn.m)(n)?n:()=>n,i=r=>r.error(t());return new En.y(e?r=>e.schedule(i,0,r):i)}var Sr=I(515),Di=I(727),$n=I(4482),ui=I(5403);function ds(){return(0,$n.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ui.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class qi extends En.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,$n.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Di.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ui.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Di.w0.EMPTY)}return e}refCount(){return ds()(this)}}var Gt=I(7579),Pt=I(4004);function en(n,e){return(0,$n.e)((t,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();t.subscribe((0,ui.x)(i,f=>{r?.unsubscribe();let y=0;const E=s++;(0,Wi.Xf)(n(f,E)).subscribe(r=(0,ui.x)(i,T=>i.next(e?e(f,T,E,y++):T),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var hi=I(5698),Ki=I(8675),zn=I(9300),Si=I(5577);function hs(n){return(0,$n.e)((e,t)=>{let i=!1;e.subscribe((0,ui.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function fs(n=Ur){return(0,$n.e)((e,t)=>{let i=!1;e.subscribe((0,ui.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Ur(){return new fi}var gi=I(4671);function Ar(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,zn.h)((r,s)=>n(r,s,i)):gi.y,(0,hi.q)(1),t?hs(e):fs(()=>new fi))}function pi(n,e){return(0,qn.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}var Wn=I(8505);function Vr(n){return(0,$n.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,ui.x)(t,void 0,void 0,c=>{s=(0,Wi.Xf)(n(c,Vr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function la(n,e,t,i,r){return(s,c)=>{let d=t,f=e,y=0;s.subscribe((0,ui.x)(c,E=>{const T=y++;f=d?n(f,E,T):(d=!0,E),i&&c.next(f)},r&&(()=>{d&&c.next(f),c.complete()})))}}function js(n,e){return(0,$n.e)(la(n,e,arguments.length>=2,!0))}function rr(n){return n<=0?()=>Sr.E:(0,$n.e)((e,t)=>{let i=[];e.subscribe((0,ui.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Du(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,zn.h)((r,s)=>n(r,s,i)):gi.y,rr(1),t?hs(e):fs(()=>new fi))}function xc(n){return(0,Pt.U)(()=>n)}function No(n){return(0,$n.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var ca=I(8189);const Yt="primary",ua=Symbol("RouteTitle");class sf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Mr(n){return new sf(n)}function af(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Jr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Gs(n[r],e[r]))return!1;return!0}function Gs(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Rd(n){return Array.prototype.concat.apply([],n)}function Oc(n){return n.length>0?n[n.length-1]:null}function sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function $s(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Re.D)(Promise.resolve(n)):(0,Pe.of)(n)}const Su={exact:function Ss(n,e,t){if(!Zi(n.segments,e.segments)||!Oo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ss(n.children[i],e.children[i],t))return!1;return!0},subset:fo},Ba={exact:function Is(n,e){return Jr(n,e)},subset:function zs(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gs(n[t],e[t]))},ignored:()=>!0};function Au(n,e,t){return Su[t.paths](n.root,e.root,t.matrixParams)&&Ba[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fo(n,e,t){return da(n,e,e.segments,t)}function da(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Zi(r,t)||e.hasChildren()||!Oo(r,t,i))}if(n.segments.length===t.length){if(!Zi(n.segments,t)||!Oo(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!fo(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Zi(n.segments,r)&&Oo(n.segments,r,i)&&n.children[Yt])&&da(n.children[Yt],e,s,i)}}function Oo(n,e,t){return e.every((i,r)=>Ba[t](n[r].parameters,i.parameters))}class Ws{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mr(this.queryParams)),this._queryParamMap}toString(){return _r.serialize(this)}}class kn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,sr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}}class qs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Mr(this.parameters)),this._parameterMap}toString(){return Po(this)}}function Zi(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Ua},providedIn:"root"}),n})();class Ua{parse(e){const t=new mn(e);return new Ws(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Va(e.root,!0)}`,i=function Kn(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ko(t)}=${ko(r)}`).join("&"):`${ko(t)}=${ko(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function kd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _r=new Ua;function Nl(n){return n.segments.map(e=>Po(e)).join("/")}function Va(n,e){if(!n.hasChildren())return Nl(n);if(e){const t=n.children[Yt]?Va(n.children[Yt],!1):"",i=[];return sr(n.children,(r,s)=>{s!==Yt&&i.push(`${s}:${Va(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Hr(n,e){let t=[];return sr(n.children,(i,r)=>{r===Yt&&(t=t.concat(e(i,r)))}),sr(n.children,(i,r)=>{r!==Yt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Yt?[Va(n.children[Yt],!1)]:[`${r}:${Va(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yt]?`${Nl(n)}/${t[0]}`:`${Nl(n)}/(${t.join("//")})`}}function Ai(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ko(n){return Ai(n).replace(/%3B/gi,";")}function xr(n){return Ai(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function or(n){return decodeURIComponent(n)}function Ha(n){return or(n.replace(/\+/g,"%20"))}function Po(n){return`${xr(n.path)}${function Zs(n){return Object.keys(n).map(e=>`;${xr(e)}=${xr(n[e])}`).join("")}(n.parameters)}`}const Ol=/^[^\/()?;=#]+/;function As(n){const e=n.match(Ol);return e?e[0]:""}const Rl=/^[^=?&#]+/,kl=/^[^&#]+/;class mn{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Yt]=new kn(e,t)),i}parseSegment(){const e=As(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new qs(or(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=As(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=As(this.remaining);r&&(i=r,this.capture(i))}e[or(t)]=or(i)}parseQueryParam(e){const t=function ps(n){const e=n.match(Rl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Mi(n){const e=n.match(kl);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Ha(t),s=Ha(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=As(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Yt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Yt]:new kn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function ha(n){return n.segments.length>0?new kn([],{[Yt]:n}):n}function Pl(n){const e={};for(const i of Object.keys(n.children)){const s=Pl(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Fl(n){if(1===n.numberOfChildren&&n.children[Yt]){const e=n.children[Yt];return new kn(n.segments.concat(e.segments),e.children)}return n}(new kn(n.segments,e))}function Ms(n){return n instanceof Ws}function ht(n,e,t,i,r){if(0===t.length)return Ys(e.root,e.root,e.root,i,r);const s=function Fo(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $a(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return sr(s.outlets,(f,y)=>{d[y]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new $a(t,e,i)}(t);return s.toRoot()?Ys(e.root,e.root,new kn([],{}),i,r):function c(f){const y=function Wa(n,e,t,i){if(n.isAbsolute)return new ar(e.root,!0,0);if(-1===i)return new ar(t,t===e.root,0);return function Ll(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new ar(i,!1,r-s)}(t,i+(Mn(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,f),E=y.processChildren?Qs(y.segmentGroup,y.index,s.commands):Bl(y.segmentGroup,y.index,s.commands);return Ys(e.root,y.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function Mn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function go(n){return"object"==typeof n&&null!=n&&n.outlets}function Ys(n,e,t,i,r){let c,s={};i&&sr(i,(f,y)=>{s[y]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),c=n===e?t:xi(n,e,t);const d=ha(Pl(c));return new Ws(d,s,r)}function xi(n,e,t){const i={};return sr(n.children,(r,s)=>{i[s]=r===e?t:xi(r,e,t)}),new kn(n.segments,i)}class $a{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Mn(i[0]))throw new l.vHH(4003,!1);const r=i.find(go);if(r&&r!==Oc(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ar{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Bl(n,e,t){if(n||(n=new kn([],{})),0===n.segments.length&&n.hasChildren())return Qs(n,e,t);const i=function ki(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],d=t[i];if(go(d))break;const f=`${d}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&y&&"object"==typeof y&&void 0===y.outlets){if(!xs(f,y,c))return s;i+=2}else{if(!xs(f,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new kn(n.segments.slice(0,i.pathIndex),{});return s.children[Yt]=new kn(n.segments.slice(i.pathIndex),n.children),Qs(s,0,r)}return i.match&&0===r.length?new kn(n.segments,{}):i.match&&!n.hasChildren()?Xr(n,e,t):i.match?Qs(n,0,r):Xr(n,e,t)}function Qs(n,e,t){if(0===t.length)return new kn(n.segments,{});{const i=function kc(n){return go(n[0])?n[0].outlets:{[Yt]:n}}(t),r={};return sr(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=Bl(n.children[c],e,s))}),sr(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new kn(n.segments,r)}}function Xr(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(go(s)){const f=Pc(s.outlets);return new kn(i,f)}if(0===r&&Mn(t[0])){i.push(new qs(n.segments[e].path,mo(t[0]))),r++;continue}const c=go(s)?s.outlets[Yt]:`${s}`,d=r<t.length-1?t[r+1]:null;c&&d&&Mn(d)?(i.push(new qs(c,mo(d))),r+=2):(i.push(new qs(c,{})),r++)}return new kn(i,{})}function Pc(n){const e={};return sr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Xr(new kn([],{}),0,t))}),e}function mo(n){const e={};return sr(n,(t,i)=>e[i]=`${t}`),e}function xs(n,e,t){return n==t.path&&Jr(e,t.parameters)}class _o{constructor(e,t){this.id=e,this.url=t}}class Lo extends _o{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fa extends _o{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pa extends _o{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qa extends _o{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ka extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fc extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Za extends _o{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lc extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ul extends _o{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bc{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uc{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xe{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ye(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ye(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=nt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return nt(e,this._root).map(t=>t.value)}}function Ye(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ye(n,t);if(i)return i}return null}function nt(n,e){if(n===e.value)return[e];for(const t of e.children){const i=nt(n,t);if(i.length)return i.unshift(e),i}return[]}class Rt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fn(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Xn extends xe{constructor(e,t){super(e),this.snapshot=t,es(this,e)}toString(){return this.snapshot.toString()}}function Jn(n,e){const t=function Hn(n,e){const c=new gs([],{},{},"",{},Yt,e,null,n.root,-1,{});return new ms("",new Rt(c,[]))}(n,e),i=new wt.X([new qs("",{})]),r=new wt.X({}),s=new wt.X({}),c=new wt.X({}),d=new wt.X(""),f=new Ti(i,r,c,d,s,Yt,e,t.root);return f.snapshot=t.root,new Xn(new Rt(f,[]),t)}class Ti{constructor(e,t,i,r,s,c,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,Pt.U)(y=>y[ua]))??(0,Pe.of)(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>Mr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>Mr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oi(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Ni(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class gs{constructor(e,t,i,r,s,c,d,f,y,E,T,B){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.[ua],this.routeConfig=f,this._urlSegment=y,this._lastPathIndex=E,this._correctedLastPathIndex=B??E,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ms extends xe{constructor(e,t){super(t),this.url=e,es(this,t)}toString(){return yo(this._root)}}function es(n,e){e.value._routerState=n,e.children.forEach(t=>es(n,t))}function yo(n){const e=n.children.length>0?` { ${n.children.map(yo).join(", ")} } `:"";return`${n.value}${e}`}function ts(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jr(e.params,t.params)||n.params.next(t.params),function Nc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _s(n,e){const t=Jr(n.params,e.params)&&function Ks(n,e){return Zi(n,e)&&n.every((t,i)=>Jr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_s(n.parent,e.parent))}function ga(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Ui(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ga(n,i,r);return ga(n,i)})}(n,e,t);return new Rt(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>ga(n,d)),c}}const i=function Mu(n){return new Ti(new wt.X(n.url),new wt.X(n.params),new wt.X(n.queryParams),new wt.X(n.fragment),new wt.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>ga(n,s));return new Rt(i,r)}}const Pd="ngNavigationCancelingError";function lf(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Fd(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Fd(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Pd]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Hc(n){return jc(n)&&Ms(n.url)}function jc(n){return n&&n[Pd]}class Ya{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qa,this.attachRef=null}}let Qa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Ya,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ja=!1;let xu=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||Yt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Ja);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Ja);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Ja);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,Ja);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new cf(t,d,r.injector);if(i&&function yr(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(c);this.activated=r.createComponent(y,r.length,f)}else this.activated=r.createComponent(c,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Qa),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class cf{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ti?this.route:e===Qa?this.childContexts:this.parent.get(e,t)}}let Hl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[xu],encapsulation:2}),n})();function jl(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Uo(n){const e=n.children&&n.children.map(Uo),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Yt&&(t.component=Hl),t}function Nr(n){return n.outlet||Yt}function Ru(n,e){const t=n.filter(i=>Nr(i)===e);return t.push(...n.filter(i=>Nr(i)!==e)),t}function ma(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tg{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ts(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Fn(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),sr(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fn(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fn(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Fn(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new G(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Vc(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(ts(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),ts(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=ma(r.snapshot),f=d?.get(l._Vd)??null;c.attachRef=null,c.route=r,c.resolver=f,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class _a{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $l{constructor(e,t){this.component=e,this.route=t}}function ya(n,e,t){const i=n._root;return bo(i,e?e._root:null,t,[i.value])}function va(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function bo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fn(e);return n.children.forEach(c=>{(function ba(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const f=function Ld(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zi(n.url,e.url)||!Jr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_s(n,e)||!Jr(n.queryParams,e.queryParams);default:return!_s(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new _a(i)):(s.data=c.data,s._resolvedData=c._resolvedData),bo(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new $l(d.outlet.component,c))}else c&&wa(e,d,r),r.canActivateChecks.push(new _a(i)),bo(n,null,s.component?d?d.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),sr(s,(c,d)=>wa(c,t.getContext(d),r)),r}function wa(n,e,t){const i=Fn(n),r=n.value;sr(i,(s,c)=>{wa(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new $l(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function wo(n){return"function"==typeof n}function Js(n){return n instanceof fi||"EmptyError"===n?.name}const Eo=Symbol("INITIAL_VALUE");function Xs(){return en(n=>(0,ii.a)(n.map(e=>e.pipe((0,hi.q)(1),(0,Ki.O)(Eo)))).pipe((0,Pt.U)(e=>{for(const t of e)if(!0!==t){if(t===Eo)return Eo;if(!1===t||t instanceof Ws)return t}return!0}),(0,zn.h)(e=>e!==Eo),(0,hi.q)(1)))}function ig(n){return(0,Sn.z)((0,Wn.b)(e=>{if(Ms(e))throw lf(0,e)}),(0,Pt.U)(e=>!0===e))}const rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wc(n,e,t,i,r){const s=pf(n,e,t);return s.matched?function ff(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,Pe.of)(!0);const s=r.map(c=>{const d=va(c,n);return $s(function Pu(n){return n&&wo(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))});return(0,Pe.of)(s).pipe(Xs(),ig())}(i=jl(e,i),e,t).pipe((0,Pt.U)(c=>!0===c?s:{...rg})):(0,Pe.of)(s)}function pf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||af)(t,n,e);if(!r)return{...rg};const s={};sr(r.posParams,(d,f)=>{s[f]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function gf(n,e,t,i,r="corrected"){if(t.length>0&&function ql(n,e,t){return t.some(i=>tl(n,e,i)&&Nr(i)!==Yt)}(n,t,i)){const c=new kn(e,function Bd(n,e,t,i){const r={};r[Yt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Nr(s)!==Yt){const c=new kn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Nr(s)]=c}return r}(n,e,i,new kn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function sg(n,e,t){return t.some(i=>tl(n,e,i))}(n,t,i)){const c=new kn(n.segments,function dr(n,e,t,i,r,s){const c={};for(const d of i)if(tl(n,t,d)&&!r[Nr(d)]){const f=new kn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[Nr(d)]=f}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new kn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function tl(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function is(n,e,t,i){return!!(Nr(n)===i||i!==Yt&&tl(e,t,n))&&("**"===n.path||pf(e,n,t).matched)}function Os(n,e,t){return 0===e.length&&!n.children[t]}const qc=!1;class Vo{constructor(e){this.segmentGroup=e||null}}class Ho{constructor(e){this.urlTree=e}}function Da(n){return Br(new Vo(n))}function og(n){return Br(new Ho(n))}class Lu{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=gf(this.urlTree.root,[],[],this.config).segmentGroup,t=new kn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Yt).pipe((0,Pt.U)(s=>this.createUrlTree(Pl(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vr(s=>{if(s instanceof Ho)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Vo?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Yt).pipe((0,Pt.U)(r=>this.createUrlTree(Pl(r),e.queryParams,e.fragment))).pipe(Vr(r=>{throw r instanceof Vo?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,qc)}createUrlTree(e,t,i){const r=ha(e);return new Ws(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Pt.U)(s=>new kn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Re.D)(r).pipe(pi(s=>{const c=i.children[s],d=Ru(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,Pt.U)(f=>({segment:f,outlet:s})))}),js((s,c)=>(s[c.outlet]=c.segment,s),{}),Du())}expandSegment(e,t,i,r,s,c){return(0,Re.D)(i).pipe(pi(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,c).pipe(Vr(y=>{if(y instanceof Vo)return(0,Pe.of)(null);throw y}))),Ar(d=>!!d),Vr((d,f)=>{if(Js(d))return Os(t,r,s)?(0,Pe.of)(new kn([],{})):Da(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,c,d){return is(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):Da(t):Da(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?og(s):this.lineralizeSegments(i,s).pipe((0,Si.z)(c=>{const d=new kn(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:d,consumedSegments:f,remainingSegments:y,positionalParamSegments:E}=pf(t,r,s);if(!d)return Da(t);const T=this.applyRedirectCommands(f,r.redirectTo,E);return r.redirectTo.startsWith("/")?og(T):this.lineralizeSegments(r,T).pipe((0,Si.z)(B=>this.expandSegment(e,t,i,B.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=jl(i,e),i.loadChildren?(i._loadedRoutes?(0,Pe.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Pt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new kn(r,{})))):(0,Pe.of)(new kn(r,{}))):Wc(t,i,r,e).pipe(en(({matched:c,consumedSegments:d,remainingSegments:f})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Si.z)(E=>{const T=E.injector??e,B=E.routes,{segmentGroup:X,slicedSegments:ge}=gf(t,d,f,B),Te=new kn(X.segments,X.children);if(0===ge.length&&Te.hasChildren())return this.expandChildren(T,B,Te).pipe((0,Pt.U)(bt=>new kn(d,bt)));if(0===B.length&&0===ge.length)return(0,Pe.of)(new kn(d,{}));const Ue=Nr(i)===s;return this.expandSegment(T,Te,B,ge,Ue?Yt:s,!0).pipe((0,Pt.U)(dt=>new kn(d.concat(dt.segments),dt.children)))})):Da(t)))}getChildConfig(e,t,i){return t.children?(0,Pe.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Pe.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function B_(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,Pe.of)(!0);const s=r.map(c=>{const d=va(c,n);return $s(function uf(n){return n&&wo(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))});return(0,Pe.of)(s).pipe(Xs(),ig())}(e,t,i).pipe((0,Si.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Wn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Fu(n){return Br(Fd(qc,3))}())):(0,Pe.of)({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Pe.of)(i);if(r.numberOfChildren>1||!r.children[Yt])return Br(new l.vHH(4e3,qc));r=r.children[Yt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ws(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return sr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return sr(t.children,(d,f)=>{c[f]=this.createSegmentGroup(e,d,i,r)}),new kn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,qc);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Ia{}class Vd{constructor(e,t,i,r,s,c,d,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const e=gf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Yt).pipe((0,Pt.U)(t=>{if(null===t)return null;const i=new gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Rt(i,t),s=new ms(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=oi(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Re.D)(Object.keys(i.children)).pipe(pi(r=>{const s=i.children[r],c=Ru(t,r);return this.processSegmentGroup(e,c,s,r)}),js((r,s)=>r&&s?(r.push(...s),r):null),function Tu(n,e=!1){return(0,$n.e)((t,i)=>{let r=0;t.subscribe((0,ui.x)(i,s=>{const c=n(s,r++);(c||e)&&i.next(s),!c&&i.complete()}))})}(r=>null!==r),hs(null),Du(),(0,Pt.U)(r=>{if(null===r)return null;const s=jd(r);return function Hd(n){n.sort((e,t)=>e.value.outlet===Yt?-1:t.value.outlet===Yt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,Re.D)(t).pipe(pi(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,s)),Ar(c=>!!c),Vr(c=>{if(Js(c))return Os(i,r,s)?(0,Pe.of)([]):(0,Pe.of)(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!is(t,i,r,s))return(0,Pe.of)(null);let c;if("**"===t.path){const d=r.length>0?Oc(r).parameters:{},f=il(i)+r.length,y=new gs(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eo(t),Nr(t),t.component??t._loadedComponent??null,t,Kl(i),f,Uu(t),f);c=(0,Pe.of)({snapshot:y,consumedSegments:[],remainingSegments:[]})}else c=Wc(i,t,r,e).pipe((0,Pt.U)(({matched:d,consumedSegments:f,remainingSegments:y,parameters:E})=>{if(!d)return null;const T=il(i)+f.length;return{snapshot:new gs(f,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eo(t),Nr(t),t.component??t._loadedComponent??null,t,Kl(i),T,Uu(t),T),consumedSegments:f,remainingSegments:y}}));return c.pipe(en(d=>{if(null===d)return(0,Pe.of)(null);const{snapshot:f,consumedSegments:y,remainingSegments:E}=d;e=t._injector??e;const T=t._loadedInjector??e,B=function Zc(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:X,slicedSegments:ge}=gf(i,y,E,B.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution);if(0===ge.length&&X.hasChildren())return this.processChildren(T,B,X).pipe((0,Pt.U)(Ue=>null===Ue?null:[new Rt(f,Ue)]));if(0===B.length&&0===ge.length)return(0,Pe.of)([new Rt(f,[])]);const Te=Nr(t)===s;return this.processSegment(T,B,X,ge,Te?Yt:s).pipe((0,Pt.U)(Ue=>null===Ue?null:[new Rt(f,Ue)]))}))}}function U_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jd(n){const e=[],t=new Set;for(const i of n){if(!U_(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=jd(i.children);e.push(new Rt(i.value,r))}return e.filter(i=>!t.has(i))}function Kl(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function il(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function eo(n){return n.data||{}}function Uu(n){return n.resolve||{}}function $o(n){return"string"==typeof n.title||null===n.title}function Hu(n){return en(e=>{const t=n(e);return t?(0,Re.D)(t).pipe((0,Pt.U)(()=>e)):(0,Pe.of)(e)})}let Vi=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Yt);return i}getResolvedTitleForRoute(t){return t.data[ua]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(_f)},providedIn:"root"}),n})(),_f=(()=>{class n extends Vi{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class F{}class Ie extends class ie{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Qe=new l.OlP("",{providedIn:"root",factory:()=>({})}),xt=new l.OlP("ROUTES");let Jt=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Pe.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=$s(t.loadComponent()).pipe((0,Wn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),No(()=>{this.componentLoaders.delete(t)})),r=new qi(i,()=>new Gt.x).pipe(ds());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Pe.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Pt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,y,E=!1;Array.isArray(d)?y=d:(f=d.create(t).injector,y=Rd(f.get(xt,[],l.XFs.Self|l.XFs.Optional)));return{routes:y.map(Uo),injector:f}}),No(()=>{this.childrenLoaders.delete(i)})),c=new qi(s,()=>new Gt.x).pipe(ds());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return $s(t()).pipe((0,Si.z)(i=>i instanceof l.YKP||Array.isArray(i)?(0,Pe.of)(i):(0,Re.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class un{}class On{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Bi(n){throw n}function Or(n,e,t){return e.parse("/")}const Ql={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function sl(){const n=(0,l.f3M)(Ro),e=(0,l.f3M)(Qa),t=(0,l.f3M)(v.Ye),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),s=(0,l.f3M)(xt,{optional:!0})??[],c=(0,l.f3M)(Qe,{optional:!0})??{},d=(0,l.f3M)(_f),f=(0,l.f3M)(Vi,{optional:!0}),y=(0,l.f3M)(un,{optional:!0}),E=(0,l.f3M)(F,{optional:!0}),T=new mi(null,n,e,t,i,r,Rd(s));return y&&(T.urlHandlingStrategy=y),E&&(T.routeReuseStrategy=E),T.titleStrategy=f??d,function rl(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,T),T}let mi=(()=>{class n{constructor(t,i,r,s,c,d,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gt.x,this.errorHandler=Bi,this.malformedUriErrorHandler=Or,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Pe.of)(void 0),this.urlHandlingStrategy=new On,this.routeReuseStrategy=new Ie,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Jt),this.configLoader.onLoadEndListener=B=>this.triggerEvent(new Bc(B)),this.configLoader.onLoadStartListener=B=>this.triggerEvent(new Vl(B)),this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const T=c.get(l.R0b);this.isNgZoneEnabled=T instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function Iu(){return new Ws(new kn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Jn(this.currentUrlTree,this.rootComponentType),this.transitions=new wt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe((0,zn.h)(r=>0!==r.id),(0,Pt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),en(r=>{let s=!1,c=!1;return(0,Pe.of)(r).pipe((0,Wn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),en(d=>{const f=this.browserUrlTree.toString(),y=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return al(d.source)&&(this.browserUrlTree=d.extractedUrl),(0,Pe.of)(d).pipe(en(T=>{const B=this.transitions.getValue();return i.next(new Lo(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),B!==this.transitions.getValue()?Sr.E:Promise.resolve(T)}),function ys(n,e,t,i){return en(r=>function nl(n,e,t,i,r){return new Lu(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Pt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wn.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function Vu(n,e,t,i,r,s){return(0,Si.z)(c=>function Kc(n,e,t,i,r,s,c="emptyOnly",d="legacy"){return new Vd(n,e,t,i,r,c,d,s).recognize().pipe(en(f=>null===f?function Bu(n){return new En.y(e=>e.error(n))}(new Ia):(0,Pe.of)(f)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,s).pipe((0,Pt.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wn.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(X,T)}this.browserUrlTree=T.urlAfterRedirects}const B=new Ka(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);i.next(B)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:X,source:ge,restoredState:Te,extras:Ue}=d,rt=new Lo(B,this.serializeUrl(X),ge,Te);i.next(rt);const dt=Jn(X,this.rootComponentType).snapshot;return r={...d,targetSnapshot:dt,urlAfterRedirects:X,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}},(0,Pe.of)(r)}return this.rawUrlTree=d.rawUrl,d.resolve(null),Sr.E}),(0,Wn.b)(d=>{const f=new Fc(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Pt.U)(d=>r={...d,guards:ya(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function zc(n,e){return(0,Si.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?(0,Pe.of)({...t,guardsResult:!0}):function el(n,e,t,i){return(0,Re.D)(n).pipe((0,Si.z)(r=>function ng(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Pe.of)(!0);const c=s.map(d=>{const f=ma(e)??r,y=va(d,f);return $s(function zl(n){return n&&wo(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):f.runInContext(()=>y(n,e,t,i))).pipe(Ar())});return(0,Pe.of)(c).pipe(Xs())}(r.component,r.route,t,e,i)),Ar(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Si.z)(d=>d&&function Ea(n){return"boolean"==typeof n}(d)?function Ca(n,e,t,i){return(0,Re.D)(e).pipe(pi(r=>(0,Ds.z)(function bi(n,e){return null!==n&&e&&e(new Uc(n)),(0,Pe.of)(!0)}(r.route.parent,i),function Wl(n,e){return null!==n&&e&&e(new A(n)),(0,Pe.of)(!0)}(r.route,i),function L_(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function $c(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ho(()=>{const d=c.guards.map(f=>{const y=ma(c.node)??t,E=va(f,y);return $s(function ku(n){return n&&wo(n.canActivateChild)}(E)?E.canActivateChild(i,n):y.runInContext(()=>E(i,n))).pipe(Ar())});return(0,Pe.of)(d).pipe(Xs())}));return(0,Pe.of)(s).pipe(Xs())}(n,r.path,t),function F_(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Pe.of)(!0);const r=i.map(s=>ho(()=>{const c=ma(e)??t,d=va(s,c);return $s(function df(n){return n&&wo(n.canActivate)}(d)?d.canActivate(e,n):c.runInContext(()=>d(e,n))).pipe(Ar())}));return(0,Pe.of)(r).pipe(Xs())}(n,r.route,t))),Ar(r=>!0!==r,!0))}(i,s,n,e):(0,Pe.of)(d)),(0,Pt.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Wn.b)(d=>{if(r.guardsResult=d.guardsResult,Ms(d.guardsResult))throw lf(0,d.guardsResult);const f=new Za(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),(0,zn.h)(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Hu(d=>{if(d.guards.canActivateChecks.length)return(0,Pe.of)(d).pipe((0,Wn.b)(f=>{const y=new Lc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),en(f=>{let y=!1;return(0,Pe.of)(f).pipe(function jo(n,e){return(0,Si.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,Pe.of)(t);let s=0;return(0,Re.D)(r).pipe(pi(c=>function Gd(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!$o(r)&&(s[ua]=r.title),function Go(n,e,t,i){const r=function mf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,Pe.of)({});const s={};return(0,Re.D)(r).pipe((0,Si.z)(c=>function Yl(n,e,t,i){const r=ma(e)??i,s=va(n,r);return $s(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[c],e,t,i).pipe(Ar(),(0,Wn.b)(d=>{s[c]=d}))),rr(1),xc(s),Vr(c=>Js(c)?Sr.E:Br(c)))}(s,n,e,i).pipe((0,Pt.U)(c=>(n._resolvedData=c,n.data=oi(n,t).resolve,r&&$o(r)&&(n.data[ua]=r.title),null)))}(c.route,i,n,e)),(0,Wn.b)(()=>s++),rr(1),(0,Si.z)(c=>s===r.length?(0,Pe.of)(t):Sr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wn.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Wn.b)(f=>{const y=new Ul(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}))}),Hu(d=>{const f=y=>{const E=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Wn.b)(T=>{y.component=T}),(0,Pt.U)(()=>{})));for(const T of y.children)E.push(...f(T));return E};return(0,ii.a)(f(d.targetSnapshot.root)).pipe(hs(),(0,hi.q)(1))}),Hu(()=>this.afterPreactivation()),(0,Pt.U)(d=>{const f=function vo(n,e,t){const i=ga(n,e._root,t?t._root:void 0);return new Xn(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,Wn.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(i=>(new tg(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Wn.b)({next(){s=!0},complete(){s=!0}}),No(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Vr(d=>{if(c=!0,jc(d)){Hc(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new pa(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),Hc(d)){const y=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||al(r.source)};this.scheduleNavigation(y,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new qa(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(y){r.reject(y)}}return Sr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Uo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:f}=i,y=r||this.routerState.root,E=f?this.currentUrlTree.fragment:c;let T=null;switch(d){case"merge":T={...this.currentUrlTree.queryParams,...s};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=s||null}return null!==T&&(T=this.removeEmptyProps(T)),ht(y,this.currentUrlTree,t,T,E??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ms(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ol(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Ql}:!1===i?{...Jl}:i,Ms(t))return Au(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Au(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new fa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,f,y;c?(d=c.resolve,f=c.reject,y=c.promise):y=new Promise((B,X)=>{d=B,f=X});const E=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),T=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:E,targetPageId:T,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(B=>Promise.reject(B))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new pa(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return sl()},providedIn:"root"}),n})();function al(n){return"imperative"!==n}let zo=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Gt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mi),l.Y36(Ti),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Yc=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Gt.x,this.subscription=t.events.subscribe(s=>{s instanceof fa&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){return!!(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mi),l.Y36(Ti),l.Y36(v.S$))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),ag=(()=>{class n{constructor(t,i,r,s,c,d){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof fa&&this.update()})}ngAfterContentInit(){(0,Pe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Pe.of)(null)).pipe((0,ca.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Re.D)(t).pipe((0,ca.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function y0(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mi),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(zo,8),l.Y36(Yc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,zo,5),l.Suo(r,Yc,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.links=s),l.iGM(s=l.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class H_{}let $d=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe((0,zn.h)(t=>t instanceof fa),pi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,Re.D)(r).pipe((0,ca.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,Pe.of)(null);const s=r.pipe((0,Si.z)(c=>null===c?(0,Pe.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,Re.D)([s,c]).pipe((0,ca.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(H_),l.LFG(Jt))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cg=new l.OlP("");let ug=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Lo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof O&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new O(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Xl(n,e){return{\u0275kind:n,\u0275providers:e}}function hg(n){return[{provide:xt,multi:!0,useValue:n}]}function Qc(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(mi),r=n.get(yf);1===n.get(ec)&&i.initialNavigation(),n.get(ju,null,l.XFs.Optional)?.setUpPreloading(),n.get(cg,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const yf=new l.OlP("",{factory:()=>new Gt.x}),ec=new l.OlP("",{providedIn:"root",factory:()=>1});const ju=new l.OlP("");function fg(n){return Xl(0,[{provide:ju,useExisting:$d},{provide:H_,useExisting:n}])}const Sa=new l.OlP("ROUTER_FORROOT_GUARD"),S0=[v.Ye,{provide:Ro,useClass:Ua},{provide:mi,useFactory:sl},Qa,{provide:Ti,useFactory:function w0(n){return n.routerState.root},deps:[mi]},Jt];function pg(){return new l.PXZ("Router",mi)}let gg=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[S0,[],hg(t),{provide:Sa,useFactory:Gu,deps:[[mi,new l.FiY,new l.tp0]]},{provide:Qe,useValue:i||{}},i?.useHash?{provide:v.S$,useClass:v.Do}:{provide:v.S$,useClass:v.b0},{provide:cg,useFactory:()=>{const n=(0,l.f3M)(mi),e=(0,l.f3M)(v.EM),t=(0,l.f3M)(Qe);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ug(n,e,t)}},i?.preloadingStrategy?fg(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:pg},i?.initialNavigation?G_(i):[],[{provide:mg,useFactory:Qc},{provide:l.tb,multi:!0,useExisting:mg}]]}}static forChild(t){return{ngModule:n,providers:[hg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sa,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Hl]}),n})();function Gu(n){return"guarded"}function G_(n){return["disabled"===n.initialNavigation?Xl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(mi);return()=>{e.setUpLocationChangeListener()}}},{provide:ec,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xl(2,[{provide:ec,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(v.V_,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const c=e.get(mi),d=e.get(yf);(function r(s){e.get(mi).events.pipe((0,zn.h)(d=>d instanceof fa||d instanceof pa||d instanceof qa),(0,Pt.U)(d=>d instanceof fa||d instanceof pa&&(0===d.code||1===d.code)&&null),(0,zn.h)(d=>null!==d),(0,hi.q)(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),c.afterPreactivation=()=>(s(!0),i||d.closed?(0,Pe.of)(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const mg=new l.OlP(""),x0=[];let N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gg.forRoot(x0),gg]}),n})();var $u=I(4986),ai=I(5813);function _g(){return(0,$n.e)((n,e)=>{let t,i=!1;n.subscribe((0,ui.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var Wt,Wd=I(1884),Pi=I(2011),qo=(I(1277),I(3942)),it=I(5861),rs=I(9681),Rs=I(3475),Co=I(1877),me=I(2090),$_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tc={},Jc=Jc||{},xn=$_||self;function vg(){}function qd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vf="closure_uid_"+(1e9*Math.random()>>>0),bg=0;function z_(n,e,t){return n.call.apply(n.bind,arguments)}function bf(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function vr(n,e,t){return(vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?z_:bf).apply(null,arguments)}function nc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function jr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function wi(){this.s=this.s,this.o=this.o}wi.prototype.s=!1,wi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function O0(n){Object.prototype.hasOwnProperty.call(n,vf)&&n[vf]||(n[vf]=++bg)}(this)},wi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const W_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Zd(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function wg(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(qd(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function Gr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gr.prototype.h=function(){this.defaultPrevented=!0};var R0=function(){if(!xn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xn.addEventListener("test",vg,e),xn.removeEventListener("test",vg,e)}catch{}return n}();function Ef(n){return/^[\s\xa0]*$/.test(n)}var q_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Eg(n,e){return n<e?-1:n>e?1:0}function Xc(){var n=xn.navigator;return n&&(n=n.userAgent)?n:""}function ll(n){return-1!=Xc().indexOf(n)}function ic(n){return ic[" "](n),n}ic[" "]=vg;var Tg,n,K_=ll("Opera"),eu=ll("Trident")||ll("MSIE"),Dg=ll("Edge"),Cf=Dg||eu,Yd=ll("Gecko")&&!(-1!=Xc().toLowerCase().indexOf("webkit")&&!ll("Edge"))&&!(ll("Trident")||ll("MSIE"))&&!ll("Edge"),Df=-1!=Xc().toLowerCase().indexOf("webkit")&&!ll("Edge");function Qd(){var n=xn.document;return n?n.documentMode:void 0}e:{var Jd="",Xd=(n=Xc(),Yd?/rv:([^\);]+)(\)|;)/.exec(n):Dg?/Edge\/([\d\.]+)/.exec(n):eu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Df?/WebKit\/(\S+)/.exec(n):K_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xd&&(Jd=Xd?Xd[1]:""),eu){var ss=Qd();if(null!=ss&&ss>parseFloat(Jd)){Tg=String(ss);break e}}Tg=Jd}var zu={};var qu=xn.document&&eu&&(Qd()||parseInt(Tg,10))||void 0;function eh(n,e){if(Gr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Yd){e:{try{ic(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Tf[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&eh.X.h.call(this)}}jr(eh,Gr);var Tf={2:"touch",3:"pen",4:"mouse"};eh.prototype.h=function(){eh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),ks=0;function Sg(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++ks,this.ba=this.ea=!1}function Ku(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ag(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Z_(n){const e={};for(const t in n)e[t]=n[t];return e}const If="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hr(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<If.length;s++)t=If[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Zu(n){this.src=n,this.g={},this.h=0}function th(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=W_(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Ku(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Mg(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}Zu.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Mg(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new Sg(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var Ko="closure_lm_"+(1e6*Math.random()|0),cl={};function xg(n,e,t,i,r){if(i&&i.once)return nh(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xg(n,e[s],t,i,r);return null}return t=_(t),n&&n[sc]?n.N(e,t,Kd(i)?!!i.capture:!!i,r):Sf(n,e,t,!1,i,r)}function Sf(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Kd(r)?!!r.capture:!!r,d=b(n);if(d||(n[Ko]=d=new Zu(n)),(t=d.add(e,t,i,c,s)).proxy)return t;if(i=function k0(){const e=F0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)R0||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Yu(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function nh(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nh(n,e[s],t,i,r);return null}return t=_(t),n&&n[sc]?n.O(e,t,Kd(i)?!!i.capture:!!i,r):Sf(n,e,t,!0,i,r)}function P0(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)P0(n,e[s],t,i,r);else i=Kd(i)?!!i.capture:!!i,t=_(t),n&&n[sc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Mg(s=n.g[e],t,i,r))&&(Ku(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=b(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Mg(e,t,i,r)),(t=-1<n?e[n]:null)&&Ng(t))}function Ng(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[sc])th(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Yu(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=b(e))?(th(t,n),0==t.h&&(t.src=null,e[Ko]=null)):Ku(n)}}}function Yu(n){return n in cl?cl[n]:cl[n]="on"+n}function F0(n,e){if(n.ba)n=!0;else{e=new eh(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&Ng(n),n=t.call(i,e)}return n}function b(n){return(n=n[Ko])instanceof Zu?n:null}var g="__closure_events_fn_"+(1e9*Math.random()>>>0);function _(n){return"function"==typeof n?n:(n[g]||(n[g]=function(e){return n.handleEvent(e)}),n[g])}function C(){wi.call(this),this.i=new Zu(this),this.P=this,this.I=null}function V(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Gr(e,n);else if(e instanceof Gr)e.target=e.target||n;else{var r=e;hr(e=new Gr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=he(c,i,!0,e)&&r}if(r=he(c=e.g=n,i,!0,e)&&r,r=he(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=he(c=e.g=t[s],i,!1,e)&&r}function he(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ba&&c.capture==t){var d=c.listener,f=c.ha||c.src;c.ea&&th(n.i,c),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}jr(C,wi),C.prototype[sc]=!0,C.prototype.removeEventListener=function(n,e,t,i){P0(this,n,e,t,i)},C.prototype.M=function(){if(C.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Ku(t[i]);delete n.g[e],n.h--}}this.I=null},C.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},C.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Le=xn.JSON.stringify;function et(){var n=Qu;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vs,jt=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ln,n=>n.reset());class ln{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function on(n){xn.setTimeout(()=>{throw n},0)}function fr(n,e){vs||function Og(){var n=xn.Promise.resolve(void 0);vs=function(){n.then(L0)}}(),Rg||(vs(),Rg=!0),Qu.add(n,e)}var Rg=!1,Qu=new class Tt{constructor(){this.h=this.g=null}add(e,t){const i=jt.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function L0(){for(var n;n=et();){try{n.h.call(n.g)}catch(t){on(t)}var e=jt;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Rg=!1}function Af(n,e){C.call(this),this.h=n||1,this.g=e||xn,this.j=vr(this.lb,this),this.l=Date.now()}function Mf(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function kg(n,e,t){if("function"==typeof n)t&&(n=vr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vr(n.handleEvent,n)}return 2147483647<Number(e)?-1:xn.setTimeout(n,e||0)}function Y_(n){n.g=kg(()=>{n.g=null,n.i&&(n.i=!1,Y_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jr(Af,C),(Wt=Af.prototype).ca=!1,Wt.R=null,Wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),V(this,"tick"),this.ca&&(Mf(this),this.start()))}},Wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wt.M=function(){Af.X.M.call(this),Mf(this),delete this.g};class Pg extends wi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y_(this)}M(){super.M(),this.g&&(xn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tu(n){wi.call(this),this.h=n,this.g={}}jr(tu,wi);var xf=[];function ih(n,e,t,i){Array.isArray(t)||(t&&(xf[0]=t.toString()),t=xf);for(var r=0;r<t.length;r++){var s=xg(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Fg(n){Ag(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ng(e)},n),n.g={}}function Lg(){this.g=!0}function Ju(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Le(t)}catch{return e}}(n,t)+(i?" "+i:"")})}tu.prototype.M=function(){tu.X.M.call(this),Fg(this)},tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lg.prototype.Aa=function(){this.g=!1},Lg.prototype.info=function(){};var rh={},VC=null;function Ug(){return VC=VC||new C}function HC(n){Gr.call(this,rh.Pa,n)}function Vg(n){const e=Ug();V(e,new HC(e))}function jC(n,e){Gr.call(this,rh.STAT_EVENT,n),this.stat=e}function to(n){const e=Ug();V(e,new jC(e,n))}function Q_(n,e){Gr.call(this,rh.Qa,n),this.size=e}function Hg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xn.setTimeout(function(){n()},e)}rh.Pa="serverreachability",jr(HC,Gr),rh.STAT_EVENT="statevent",jr(jC,Gr),rh.Qa="timingevent",jr(Q_,Gr);var J_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},GC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function X_(){}function zC(){}X_.prototype.h=null;var Gg,$r={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function jg(){Gr.call(this,"d")}function ey(){Gr.call(this,"c")}function zr(){}function nu(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new tu(this),this.O=dA,this.T=new Af(n=Cf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new U0}function U0(){this.i=null,this.g="",this.h=!1}jr(jg,Gr),jr(ey,Gr),jr(zr,X_),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Gg=new zr;var dA=45e3,V0={},$g={};function H0(n,e,t){n.K=1,n.v=ny(os(e)),n.s=t,n.P=!0,j0(n,null)}function j0(n,e){n.F=Date.now(),zg(n),n.A=os(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),JC(t.i,"t",i),n.C=0,t=n.l.H,n.h=new U0,n.g=eb(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Pg(vr(n.La,n,n.g),n.N)),ih(n.S,n.g,"readystatechange",n.ib),e=n.H?Z_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vg(),function B0(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),f=0;f<d.length;f++){var y=d[f].split("=");if(1<y.length){var E=y[0];y=y[1];var T=E.split("_");c=2<=T.length&&"type"==T[1]?c+(E+"=")+y+"&":c+(E+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function WC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function G0(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=hA(n,t),r==$g){4==e&&(n.o=4,to(14),i=!1),Ju(n.j,n.m,null,"[Incomplete Response]");break}if(r==V0){n.o=4,to(15),Ju(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Ju(n.j,n.m,r,null),ul(n,r)}WC(n)&&r!=$g&&r!=V0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,to(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),J0(e),e.K=!0,to(11))):(Ju(n.j,n.m,t,"[Invalid Chunked Response]"),Aa(n),Wg(n))}function hA(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?$g:(t=Number(e.substring(t,i)),isNaN(t)?V0:(i+=1)+t>e.length?$g:(e=e.substr(i,t),n.C=i+t,e))}function zg(n){n.V=Date.now()+n.O,qC(n,n.O)}function qC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hg(vr(n.gb,n),e)}function ty(n){n.B&&(xn.clearTimeout(n.B),n.B=null)}function Wg(n){0==n.l.G||n.I||X0(n.l,n)}function Aa(n){ty(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Mf(n.T),Fg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ul(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||oy(t.h,n)))if(!n.J&&oy(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;fy(t),Qg(t)}Q0(t),to(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Hg(vr(t.cb,t),6e3));if(1>=sy(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else lh(t,11)}else if((n.J||t.g==n)&&fy(t),!Ef(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.T=y[0],y=y[1],2==t.G)if("c"==y[0]){t.I=y[1],t.ka=y[2];const E=y[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const T=y[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const B=y[5];null!=B&&"number"==typeof B&&0<B&&(t.J=i=1.5*B,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const X=n.g;if(X){const ge=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ge){var s=i.h;s.g||-1==ge.indexOf("spdy")&&-1==ge.indexOf("quic")&&-1==ge.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Kg(s,s.h),s.h=null))}if(i.D){const Te=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Te&&(i.za=Te,Hi(i.F,i.D,Te))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=Rn(i,i.H?i.ka:null,i.V),c.J){eD(i.h,c);var d=c,f=i.J;f&&d.setTimeout(f),d.B&&(ty(d),zg(d)),i.g=c}else Y0(i);0<t.i.length&&Jg(t)}else"stop"!=y[0]&&"close"!=y[0]||lh(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?lh(t,7):uD(t):"noop"!=y[0]&&t.l&&t.l.wa(y),t.A=0)}Vg()}catch{}}function gA(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function pA(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function fA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qd(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Wt=nu.prototype).setTimeout=function(n){this.O=n},Wt.ib=function(n){n=n.target;const e=this.L;e&&3==oc(n)?e.l():this.La(n)},Wt.La=function(n){try{if(n==this.g)e:{const E=oc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||Cf||this.g&&(this.h.h||this.g.fa()||lD(this.g)))){this.I||4!=E||7==e||Vg(),ty(this);var t=this.g.aa();this.Y=t;t:if(WC(this)){var i=lD(this.g);n="";var r=i.length,s=4==oc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Aa(this),Wg(this);var c="";break t}this.h.i=new xn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function cA(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ef(d)){var y=d;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,to(12),Aa(this),Wg(this);break e}Ju(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ul(this,t)}this.P?(G0(this,E,c),Cf&&this.i&&3==E&&(ih(this.S,this.T,"tick",this.hb),this.T.start())):(Ju(this.j,this.m,c,null),ul(this,c)),4==E&&Aa(this),this.i&&!this.I&&(4==E?X0(this.l,this):(this.i=!1,zg(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,to(12)):(this.o=0,to(13)),Aa(this),Wg(this)}}}catch{}},Wt.hb=function(){if(this.g){var n=oc(this.g),e=this.g.fa();this.C<e.length&&(ty(this),G0(this,n,e),this.i&&4!=n&&zg(this))}},Wt.cancel=function(){this.I=!0,Aa(this)},Wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Bg(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vg(),to(17)),Aa(this),this.o=2,Wg(this)):qC(this,this.V-n)};var mA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Nf){this.h=void 0!==e?e:n.h,Of(this,n.j),this.s=n.s,this.g=n.g,Rf(this,n.m),this.l=n.l,e=n.i;var t=new sh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ZC(this,t),this.o=n.o}else n&&(t=String(n).match(mA))?(this.h=!!e,Of(this,t[1]||"",!0),this.s=iu(t[2]||""),this.g=iu(t[3]||"",!0),Rf(this,t[4]),this.l=iu(t[5]||"",!0),ZC(this,t[6]||"",!0),this.o=iu(t[7]||"")):(this.h=!!e,this.i=new sh(null,this.h))}function os(n){return new Nf(n)}function Of(n,e,t){n.j=t?iu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Rf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ZC(n,e,t){e instanceof sh?(n.i=e,function yA(n,e){e&&!n.j&&(ru(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(QC(this,i),JC(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=qg(e,LR)),n.i=new sh(e,n.h))}function Hi(n,e,t){n.i.set(e,t)}function ny(n){return Hi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function iu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_A),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _A(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qg(e,iy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qg(e,iy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(qg(t,"/"==t.charAt(0)?YC:$0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qg(t,kf)),n.join("")};var iy=/[#\/\?@]/g,$0=/[#\?:]/g,YC=/[#\?]/g,LR=/[#\?@]/g,kf=/#/g;function sh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ru(n){n.g||(n.g=new Map,n.h=0,n.i&&function KC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function QC(n,e){ru(n),e=Pf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ry(n,e){return ru(n),e=Pf(n,e),n.g.has(e)}function JC(n,e,t){QC(n,e),0<t.length&&(n.i=null,n.g.set(Pf(n,e),Zd(t)),n.h+=t.length)}function Pf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function XC(n){this.l=n||bA,n=xn.PerformanceNavigationTiming?0<(n=xn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xn.g&&xn.g.Ga&&xn.g.Ga()&&xn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Wt=sh.prototype).add=function(n,e){ru(this),this.i=null,n=Pf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Wt.forEach=function(n,e){ru(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Wt.oa=function(){ru(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Wt.W=function(n){ru(this);let e=[];if("string"==typeof n)ry(this,n)&&(e=e.concat(this.g.get(Pf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Wt.set=function(n,e){return ru(this),this.i=null,ry(this,n=Pf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Wt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var bA=10;function z0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sy(n){return n.h?1:n.g?n.g.size:0}function oy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Kg(n,e){n.g?n.g.add(e):n.h=e}function eD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function tD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Zd(n.i)}function ay(){}function nD(){this.g=new ay}function oh(n,e,t){const i=t||"";try{gA(n,function(r,s){let c=r;Kd(r)&&(c=Le(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Zg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Yg(n){this.l=n.ac||null,this.j=n.jb||!1}function W0(n,e){C.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}XC.prototype.cancel=function(){if(this.i=tD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ay.prototype.stringify=function(n){return xn.JSON.stringify(n,void 0)},ay.prototype.parse=function(n){return xn.JSON.parse(n,void 0)},jr(Yg,X_),Yg.prototype.g=function(){return new W0(this.l,this.j)},Yg.prototype.i=function(n){return function(){return n}}({}),jr(W0,C);var Ff=0;function rD(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Lf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bf(n)}function Bf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Wt=W0.prototype).open=function(n,e){if(this.readyState!=Ff)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bf(this)},Wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lf(this)),this.readyState=Ff},Wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bf(this)),this.g&&(this.readyState=3,Bf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof xn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rD(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lf(this):Bf(this),3==this.readyState&&rD(this)}},Wt.Va=function(n){this.g&&(this.response=this.responseText=n,Lf(this))},Wt.Ua=function(n){this.g&&(this.response=n,Lf(this))},Wt.ga=function(){this.g&&Lf(this)},Wt.setRequestHeader=function(n,e){this.v.append(n,e)},Wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(W0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sD=xn.JSON.parse;function Yi(n){C.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=q0,this.K=this.L=!1}jr(Yi,C);var q0="",ly=/^https?$/i,cy=["POST","PUT"];function uy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,K0(n),Xu(n)}function K0(n){n.D||(n.D=!0,V(n,"complete"),V(n,"error"))}function dy(n){if(n.h&&typeof Jc<"u"&&(!n.C[1]||4!=oc(n)||2!=n.aa()))if(n.v&&4==oc(n))kg(n.Ha,0,n);else if(V(n,"readystatechange"),4==oc(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(mA)[1]||null;if(!r&&xn.self&&xn.self.location){var s=xn.self.location.protocol;r=s.substr(0,s.length-1)}i=!ly.test(r?r.toLowerCase():"")}t=i}if(t)V(n,"complete"),V(n,"success");else{n.m=6;try{var c=2<oc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",K0(n)}}finally{Xu(n)}}}function Xu(n,e){if(n.g){aD(n);const t=n.g,i=n.C[0]?vg:null;n.g=null,n.C=null,e||V(n,"ready");try{t.onreadystatechange=i}catch{}}}function aD(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xn.clearTimeout(n.A),n.A=null)}function oc(n){return n.g?n.g.readyState:0}function lD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case q0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function cD(n){let e="";return Ag(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function hy(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=cD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hi(n,e,t))}function ah(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Z0(n){this.Ca=0,this.i=[],this.j=new Lg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ah("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ah("baseRetryDelayMs",5e3,n),this.bb=ah("retryDelaySeedMs",1e4,n),this.$a=ah("forwardChannelMaxRetries",2,n),this.ta=ah("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new XC(n&&n.concurrentRequestLimit),this.Fa=new nD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function uD(n){if(dD(n),3==n.G){var e=n.U++,t=os(n.F);Hi(t,"SID",n.I),Hi(t,"RID",e),Hi(t,"TYPE","terminate"),no(n,t),(e=new nu(n,n.j,e,void 0)).K=2,e.v=ny(os(t)),t=!1,xn.navigator&&xn.navigator.sendBeacon&&(t=xn.navigator.sendBeacon(e.v.toString(),"")),!t&&xn.Image&&((new Image).src=e.v,t=!0),t||(e.g=eb(e.l,null),e.g.da(e.v)),e.F=Date.now(),zg(e)}mD(n)}function Qg(n){n.g&&(J0(n),n.g.cancel(),n.g=null)}function dD(n){Qg(n),n.u&&(xn.clearTimeout(n.u),n.u=null),fy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&xn.clearTimeout(n.m),n.m=null)}function Jg(n){z0(n.h)||n.m||(n.m=!0,fr(n.Ja,n),n.C=0)}function hD(n,e){var t;t=e?e.m:n.U++;const i=os(n.F);Hi(i,"SID",n.I),Hi(i,"RID",t),Hi(i,"AID",n.T),no(n,i),n.o&&n.s&&hy(i,n.o,n.s),t=new nu(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=fD(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Kg(n.h,t),H0(t,i,e)}function no(n,e){n.ia&&Ag(n.ia,function(t,i){Hi(e,i,t)}),n.l&&gA({},function(t,i){Hi(e,i,t)})}function fD(n,e,t){t=Math.min(n.i.length,t);var i=n.l?vr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let y=r[f].h;const E=r[f].g;if(y-=s,0>y)s=Math.max(0,r[f].h-100),d=!1;else try{oh(E,c,"req"+y+"_")}catch{i&&i(E)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Y0(n){n.g||n.u||(n.Z=1,fr(n.Ia,n),n.A=0)}function Q0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Hg(vr(n.Ia,n),gD(n,n.A)),n.A++,0))}function J0(n){null!=n.B&&(xn.clearTimeout(n.B),n.B=null)}function pD(n){n.g=new nu(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=os(n.sa);Hi(e,"RID","rpc"),Hi(e,"SID",n.I),Hi(e,"CI",n.L?"0":"1"),Hi(e,"AID",n.T),Hi(e,"TYPE","xmlhttp"),no(n,e),n.o&&n.s&&hy(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ny(os(e)),t.s=null,t.P=!0,j0(t,n)}function fy(n){null!=n.v&&(xn.clearTimeout(n.v),n.v=null)}function X0(n,e){var t=null;if(n.g==e){fy(n),J0(n),n.g=null;var i=2}else{if(!oy(n.h,e))return;t=e.D,eD(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;V(i=Ug(),new Q_(i,t)),Jg(n)}else Y0(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function wA(n,e){return!(sy(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Hg(vr(n.Ja,n,e),gD(n,n.C)),n.C++,0)))}(n,e)||2==i&&Q0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:lh(n,5);break;case 4:lh(n,10);break;case 3:lh(n,6);break;default:lh(n,2)}}function gD(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function lh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=vr(n.kb,n);t||(t=new Nf("//www.google.com/images/cleardot.gif"),xn.location&&"http"==xn.location.protocol||Of(t,"https"),ny(t)),function iD(n,e){const t=new Lg;if(xn.Image){const i=new Image;i.onload=nc(Zg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=nc(Zg,t,i,"TestLoadImage: error",!1,e),i.onabort=nc(Zg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=nc(Zg,t,i,"TestLoadImage: timeout",!1,e),xn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else to(2);n.G=0,n.l&&n.l.va(e),mD(n),dD(n)}function mD(n){if(n.G=0,n.la=[],n.l){const e=tD(n.h);(0!=e.length||0!=n.i.length)&&(wg(n.la,e),wg(n.la,n.i),n.h.i.length=0,Zd(n.i),n.i.length=0),n.l.ua()}}function Rn(n,e,t){var i=t instanceof Nf?os(t):new Nf(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Rf(i,i.m);else{var r=xn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Nf(null,void 0);i&&Of(s,i),e&&(s.g=e),r&&Rf(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Hi(i,t,e),Hi(i,"VER",n.ma),no(n,i),i}function eb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yi(t&&n.Da&&!n.ra?new Yg({jb:!0}):n.ra)).Ka(n.H),e}function tb(){}function Xg(){if(eu&&!(10<=Number(qu)))throw Error("Environmental error: no available transport.")}function Zo(n,e){C.call(this),this.g=new Z0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ef(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ef(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Uf(this)}function _D(n){jg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nb(){ey.call(this),this.status=1}function Uf(n){this.g=n}(Wt=Yi.prototype).Ka=function(n){this.L=n},Wt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gg.g(),this.C=function $C(n){return n.h||(n.h=n.i())}(this.u?this.u:Gg),this.g.onreadystatechange=vr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void uy(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=xn.FormData&&n instanceof xn.FormData,!(0<=W_(cy,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{aD(this),0<this.B&&((this.K=function oD(n){return eu&&function rc(){return function Cg(n){var e=zu;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=q_(String(Tg)).split("."),t=q_("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=Eg(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Eg(0==r[2].length,0==s[2].length)||Eg(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vr(this.qa,this)):this.A=kg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){uy(this,s)}},Wt.qa=function(){typeof Jc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,V(this,"timeout"),this.abort(8))},Wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,V(this,"complete"),V(this,"abort"),Xu(this))},Wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xu(this,!0)),Yi.X.M.call(this)},Wt.Ha=function(){this.s||(this.F||this.v||this.l?dy(this):this.fb())},Wt.fb=function(){dy(this)},Wt.aa=function(){try{return 2<oc(this)?this.g.status:-1}catch{return-1}},Wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Wt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sD(e)}},Wt.Ea=function(){return this.m},Wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Wt=Z0.prototype).ma=8,Wt.G=1,Wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new nu(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=Z_(s),hr(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fD(this,r,e),Hi(t=os(this.F),"RID",n),Hi(t,"CVER",22),this.D&&Hi(t,"X-HTTP-Session-Id",this.D),no(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(cD(s)))+"&"+e:this.o&&hy(t,this.o,s)),Kg(this.h,r),this.Ya&&Hi(t,"TYPE","init"),this.O?(Hi(t,"$req",e),Hi(t,"SID","null"),r.Z=!0,H0(r,t,null)):H0(r,t,e),this.G=2}}else 3==this.G&&(n?hD(this,n):0==this.i.length||z0(this.h)||hD(this))},Wt.Ia=function(){if(this.u=null,pD(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Hg(vr(this.eb,this),n)}},Wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,to(10),Qg(this),pD(this))},Wt.cb=function(){null!=this.v&&(this.v=null,Qg(this),Q0(this),to(19))},Wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),to(2)):(this.j.info("Failed to ping google.com"),to(1))},(Wt=tb.prototype).xa=function(){},Wt.wa=function(){},Wt.va=function(){},Wt.ua=function(){},Wt.Ra=function(){},Xg.prototype.g=function(n,e){return new Zo(n,e)},jr(Zo,C),Zo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;to(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Rn(n,null,n.V),Jg(n)},Zo.prototype.close=function(){uD(this.g)},Zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Le(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Jg(e)},Zo.prototype.M=function(){this.g.l=null,delete this.j,uD(this.g),delete this.g,Zo.X.M.call(this)},jr(_D,jg),jr(nb,ey),jr(Uf,tb),Uf.prototype.xa=function(){V(this.g,"a")},Uf.prototype.wa=function(n){V(this.g,new _D(n))},Uf.prototype.va=function(n){V(this.g,new nb)},Uf.prototype.ua=function(){V(this.g,"b")},Xg.prototype.createWebChannel=Xg.prototype.g,Zo.prototype.send=Zo.prototype.u,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,J_.NO_ERROR=0,J_.TIMEOUT=8,J_.HTTP_ERROR=6,GC.COMPLETE="complete",zC.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",C.prototype.listen=C.prototype.N,Yi.prototype.listenOnce=Yi.prototype.O,Yi.prototype.getLastError=Yi.prototype.Oa,Yi.prototype.getLastErrorCode=Yi.prototype.Ea,Yi.prototype.getStatus=Yi.prototype.aa,Yi.prototype.getResponseJson=Yi.prototype.Sa,Yi.prototype.getResponseText=Yi.prototype.fa,Yi.prototype.send=Yi.prototype.da,Yi.prototype.setWithCredentials=Yi.prototype.Ka;var yD=tc.createWebChannelTransport=function(){return new Xg},EA=tc.getStatEventTarget=function(){return Ug()},ib=tc.ErrorCode=J_,BR=tc.EventType=GC,vD=tc.Event=rh,rb=tc.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ch=tc.FetchXmlHttpFactory=Yg,py=tc.WebChannel=zC,sb=tc.XhrIo=Yi;const gy="@firebase/firestore";class as{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}as.UNAUTHENTICATED=new as(null),as.GOOGLE_CREDENTIALS=new as("google-credentials-uid"),as.FIRST_PARTY=new as("first-party-uid"),as.MOCK_USER=new as("mock-user");let em="9.14.0";const uh=new Co.Yd("@firebase/firestore");function bD(){return uh.logLevel}function Et(n,...e){if(uh.logLevel<=Co.in.DEBUG){const t=e.map(ed);uh.debug(`Firestore (${em}): ${n}`,...t)}}function Rr(n,...e){if(uh.logLevel<=Co.in.ERROR){const t=e.map(ed);uh.error(`Firestore (${em}): ${n}`,...t)}}function dh(n,...e){if(uh.logLevel<=Co.in.WARN){const t=e.map(ed);uh.warn(`Firestore (${em}): ${n}`,...t)}}function ed(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function zt(n="Unexpected state"){const e=`FIRESTORE (${em}) INTERNAL ASSERTION FAILED: `+n;throw Rr(e),new Error(e)}function vn(n,e){n||zt()}function Lt(n,e){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends me.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(as.UNAUTHENTICATED))}shutdown(){}}class TA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ED{constructor(e){this.t=e,this.currentUser=as.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let c=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Wr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable((0,it.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},f=y=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>f(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Wr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn("string"==typeof i.accessToken),new wD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vn(null===e||"string"==typeof e),new as(e)}}class IA{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=as.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class CD{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new IA(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(as.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ab{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Et("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn("string"==typeof t.token),this.A=t.token,new ob(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class DD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=lb(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Pn(n,e){return n<e?-1:n>e?1:0}function dl(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function cb(n){return n+"\0"}class ji{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ji.fromMillis(Date.now())}static fromDate(e){return ji.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ji(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pn(this.nanoseconds,e.nanoseconds):Pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new ji(0,0))}static max(){return new dn(new ji(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class io{constructor(e,t,i){void 0===t?t=0:t>e.length&&zt(),void 0===i?i=e.length-t:i>e.length-t&&zt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===io.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof io?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class li extends io{construct(e,t,i){return new li(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new li(t)}static emptyPath(){return new li([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends io{construct(e,t,i){return new Qi(e,t,i)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new vt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new vt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new vt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qi(t)}static emptyPath(){return new Qi([])}}class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(li.fromString(e))}static fromName(e){return new Mt(li.fromString(e).popFirst(5))}static empty(){return new Mt(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===li.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return li.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new li(e.slice()))}}class Vf{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function _y(n){return n.fields.find(e=>2===e.kind)}function su(n){return n.fields.filter(e=>2!==e.kind)}Vf.UNKNOWN_ID=-1;class tm{constructor(e,t){this.fieldPath=e,this.kind=t}}class td{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new td(0,ro.min())}}function nm(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=dn.fromTimestamp(1e9===i?new ji(t+1,0):new ji(t,i));return new ro(r,Mt.empty(),e)}function yy(n){return new ro(n.readTime,n.key,-1)}class ro{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ro(dn.min(),Mt.empty(),-1)}static max(){return new ro(dn.max(),Mt.empty(),-1)}}function im(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Mt.comparator(n.documentKey,e.documentKey),0!==t?t:Pn(n.largestBatchId,e.largestBatchId))}const AA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function nd(n){return ub.apply(this,arguments)}function ub(){return ub=(0,it.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==AA)throw n;Et("LocalStore","Unexpectedly lost primary lease")}),ub.apply(this,arguments)}class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xe?t:Xe.resolve(t)}catch(t){return Xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.reject(t)}static resolve(e){return new Xe((t,i)=>{t(e)})}static reject(e){return new Xe((t,i)=>{i(e)})}static waitFor(e){return new Xe((t,i)=>{let r=0,s=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&t()},f=>i(f))}),c=!0,s===r&&t()})}static or(e){let t=Xe.resolve(!1);for(const i of e)t=t.next(r=>r?Xe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Xe((i,r)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const y=f;t(e[y]).next(E=>{c[y]=E,++d,d===s&&i(c)},E=>r(E))}})}static doWhile(e,t){return new Xe((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class rm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Wr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new vy(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=SD(i.target.error);this.P.reject(new vy(e,r))}}static open(e,t,i,r){try{return new rm(t,e.transaction(r,i))}catch(s){throw new vy(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ID(t)}}class ac{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===ac.D((0,me.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Et("SimpleDb","Removing database:",e),hh(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,me.hl)())return!1;if(ac.N())return!0;const e=(0,me.z$)(),t=ac.D(e),i=0<t&&t<10,r=ac.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,it.Z)(function*(){return t.db||(Et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new vy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new vt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new vt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new vy(e,d))},s.onupgradeneeded=c=>{Et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{Et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,it.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const f=rm.open(s.db,e,c?"readonly":"readwrite",i),y=r(f).next(E=>(f.V(),E)).catch(E=>(f.abort(E),Xe.reject(E))).toPromise();return y.catch(()=>{}),yield f.v,y}catch(f){const y=f,E="FirebaseError"!==y.name&&d<3;if(Et("SimpleDb","Transaction failed with error:",y.message,"Retrying:",E),s.close(),!E)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class MA{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return hh(this.U.delete())}}class vy extends vt{constructor(e,t){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ou(n){return"IndexedDbTransactionError"===n.name}class ID{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Et("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Et("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),hh(i)}add(e){return Et("SimpleDb","ADD",this.store.name,e,e),hh(this.store.add(e))}get(e){return hh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Et("SimpleDb","DELETE",this.store.name,e),hh(this.store.delete(e))}count(){return Et("SimpleDb","COUNT",this.store.name),hh(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Xe((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Xe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){Et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new Xe((i,r)=>{t.onerror=s=>{const c=SD(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(e,t){const i=[];return new Xe((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const f=new MA(d),y=t(d.primaryKey,d.value,f);if(y instanceof Xe){const E=y.catch(T=>(f.done(),Xe.reject(T)));i.push(E)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>Xe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hh(n){return new Xe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=SD(i.target.error);t(r)}})}let by=!1;function SD(n){const e=ac.D((0,me.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return by||(by=!0,setTimeout(()=>{throw i},0)),i}}return n}class HR{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,it.Z)(function*(){t.task=null;try{Et("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){ou(i)?Et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield nd(i)}yield t.nt(6e4)}))}}class jR{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,it.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return Xe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Et("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,s)).next(d=>(Et("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=yy(s);im(c,i)>0&&(i=c)}),new ro(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Yo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function xA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Yo.at=-1;class br{constructor(e,t){this.comparator=e,this.root=t||Ps.EMPTY}insert(e,t){return new br(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new db(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new db(this.root,e,this.comparator,!1)}getReverseIterator(){return new db(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new db(this.root,e,this.comparator,!0)}}class db{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ps{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Ps.RED,this.left=r??Ps.EMPTY,this.right=s??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ps(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ps.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ps(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ci(this.comparator);return t.data=e,t}}class wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jf(n){return n.hasNext()?n.getNext():void 0}class Do{constructor(e){this.fields=e,e.sort(Qi.comparator)}static empty(){return new Do([])}unionWith(e){let t=new ci(Qi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Do(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new kr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function id(n){if(vn(!!n),"string"==typeof n){let e=0;const t=fb.exec(n);if(vn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ii(n.seconds),nanos:Ii(n.nanos)}}function Ii(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function rd(n){return"string"==typeof n?kr.fromBase64String(n):kr.fromUint8Array(n)}function pb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function AD(n){const e=n.mapValue.fields.__previous_value__;return pb(e)?AD(e):e}function Gf(n){const e=id(n.mapValue.fields.__local_write_time__.timestampValue);return new ji(e.seconds,e.nanos)}class OA{constructor(e,t,i,r,s,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class sd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}function od(n){return null==n}function lc(n){return 0===n&&1/n==-1/0}function Ey(n){return"number"==typeof n&&Number.isInteger(n)&&!lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$f={nullValue:"NULL_VALUE"};function cc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pb(n)?4:ND(n)?9007199254740991:10:zt()}function hl(n,e){if(n===e)return!0;const t=cc(n);if(t!==cc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gf(n).isEqual(Gf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=id(i.timestampValue),c=id(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,rd(n.bytesValue).isEqual(rd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ii(i.geoPointValue.latitude)===Ii(r.geoPointValue.latitude)&&Ii(i.geoPointValue.longitude)===Ii(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ii(i.integerValue)===Ii(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ii(i.doubleValue),c=Ii(r.doubleValue);return s===c?lc(s)===lc(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return dl(n.arrayValue.values||[],e.arrayValue.values||[],hl);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(xA(s)!==xA(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!hl(s[d],c[d])))return!1;return!0}(n,e);default:return zt()}var r}function zf(n,e){return void 0!==(n.values||[]).find(t=>hl(t,e))}function uc(n,e){if(n===e)return 0;const t=cc(n),i=cc(e);if(t!==i)return Pn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=Ii(r.integerValue||r.doubleValue),d=Ii(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return Cy(n.timestampValue,e.timestampValue);case 4:return Cy(Gf(n),Gf(e));case 5:return Pn(n.stringValue,e.stringValue);case 6:return function(r,s){const c=rd(r),d=rd(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let f=0;f<c.length&&f<d.length;f++){const y=Pn(c[f],d[f]);if(0!==y)return y}return Pn(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=Pn(Ii(r.latitude),Ii(s.latitude));return 0!==c?c:Pn(Ii(r.longitude),Ii(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let f=0;f<c.length&&f<d.length;++f){const y=uc(c[f],d[f]);if(y)return y}return Pn(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Qo.mapValue&&s===Qo.mapValue)return 0;if(r===Qo.mapValue)return 1;if(s===Qo.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),f=s.fields||{},y=Object.keys(f);d.sort(),y.sort();for(let E=0;E<d.length&&E<y.length;++E){const T=Pn(d[E],y[E]);if(0!==T)return T;const B=uc(c[d[E]],f[y[E]]);if(0!==B)return B}return Pn(d.length,y.length)}(n.mapValue,e.mapValue);default:throw zt()}}function Cy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pn(n,e);const t=id(n),i=id(e),r=Pn(t.seconds,i.seconds);return 0!==r?r:Pn(t.nanos,i.nanos)}function fh(n){return sm(n)}function sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=id(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?rd(n.bytesValue).toBase64():"referenceValue"in n?Mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=sm(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${sm(i.fields[d])}`;return s+"}"}(n.mapValue):zt();var e}function ph(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function MD(n){return!!n&&"integerValue"in n}function om(n){return!!n&&"arrayValue"in n}function gb(n){return!!n&&"nullValue"in n}function xD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function am(n){return!!n&&"mapValue"in n}function Wf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Wf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ND(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jo(n){return"nullValue"in n?$f:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ph(sd.empty(),Mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:zt()}function OD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ph(sd.empty(),Mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qo:zt()}function RD(n,e){const t=uc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function RA(n,e){const t=uc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class bs{constructor(e){this.value=e}static empty(){return new bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!am(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wf(t)}setAll(e){let t=Qi.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=Wf(c):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());am(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];am(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Hf(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new bs(Wf(this.value))}}function Dy(n){const e=[];return Hf(n.fields,(t,i)=>{const r=new Qi([t]);if(am(i)){const s=Dy(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new Do(e)}class Fi{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Fi(e,0,dn.min(),dn.min(),bs.empty(),0)}static newFoundDocument(e,t,i){return new Fi(e,1,t,dn.min(),i,0)}static newNoDocument(e,t){return new Fi(e,2,t,dn.min(),bs.empty(),0)}static newUnknownDocument(e,t){return new Fi(e,3,t,dn.min(),bs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kA{constructor(e,t=null,i=[],r=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function kD(n,e=null,t=[],i=[],r=null,s=null,c=null){return new kA(n,e,t,i,r,s,c)}function gh(n){const e=Lt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+fh(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fh(i)).join(",")),e.ht=t}return e.ht}function lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!yb(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!hl(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VD(n.startAt,e.startAt)&&VD(n.endAt,e.endAt)}function cm(n){return Mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ty(n,e){return n.filters.filter(t=>t instanceof ls&&t.field.isEqual(e))}function FD(n,e,t){let i=$f,r=!0;for(const s of Ty(n,e)){let c=$f,d=!0;switch(s.op){case"<":case"<=":c=Jo(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=$f}RD({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];RD({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function mb(n,e,t){let i=Qo,r=!0;for(const s of Ty(n,e)){let c=Qo,d=!0;switch(s.op){case">=":case">":c=OD(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Qo}RA({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];RA({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class ls extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new PA(e,t,i):"array-contains"===t?new FA(e,i):"in"===t?new GR(e,i):"not-in"===t?new BD(e,i):"array-contains-any"===t?new LA(e,i):new ls(e,t,i)}static lt(e,t,i){return"in"===t?new dc(e,i):new _b(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(uc(t,this.value)):null!==t&&cc(this.value)===cc(t)&&this.ft(uc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PA extends ls{constructor(e,t,i){super(e,t,i),this.key=Mt.fromName(i.referenceValue)}matches(e){const t=Mt.comparator(e.key,this.key);return this.ft(t)}}class dc extends ls{constructor(e,t){super(e,"in",t),this.keys=LD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _b extends ls{constructor(e,t){super(e,"not-in",t),this.keys=LD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Mt.fromName(i.referenceValue))}class FA extends ls{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return om(t)&&zf(t.arrayValue,this.value)}}class GR extends ls{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zf(this.value.arrayValue,t)}}class BD extends ls{constructor(e,t){super(e,"not-in",t)}matches(e){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zf(this.value.arrayValue,t)}}class LA extends ls{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!om(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zf(this.value.arrayValue,i))}}class ad{constructor(e,t){this.position=e,this.inclusive=t}}class qf{constructor(e,t="asc"){this.field=e,this.dir=t}}function yb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function UD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?Mt.comparator(Mt.fromName(c.referenceValue),t.key):uc(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function VD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hl(n.position[t],e.position[t]))return!1;return!0}class Ma{constructor(e,t=null,i=[],r=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this._t=null,this.wt=null}}function Iy(n,e,t,i,r,s,c,d){return new Ma(n,e,t,i,r,s,c,d)}function au(n){return new Ma(n)}function BA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function um(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function HD(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Sy(n){return null!==n.collectionGroup}function mh(n){const e=Lt(n);if(null===e._t){e._t=[];const t=HD(e),i=um(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new qf(t)),e._t.push(new qf(Qi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new qf(Qi.keyField(),s))}}}return e._t}function Fs(n){const e=Lt(n);if(!e.wt)if("F"===e.limitType)e.wt=kD(e.path,e.collectionGroup,mh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of mh(e))t.push(new qf(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new ad(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ad(e.startAt.position,e.startAt.inclusive):null;e.wt=kD(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function dm(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _h(n,e){return lm(Fs(n),Fs(e))&&n.limitType===e.limitType}function hc(n){return`${gh(Fs(n))}|lt:${n.limitType}`}function Kf(n){return`Query(target=${function PD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${fh(i.value)}`;var i}).join(", ")}]`),od(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>fh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>fh(t)).join(",")),`Target(${e})`}(Fs(n))}; limitType=${n.limitType})`}function Zf(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Mt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const d=UD(r,s,c);return r.inclusive?d<=0:d<0}(t.startAt,mh(t),i)||t.endAt&&!function(r,s,c){const d=UD(r,s,c);return r.inclusive?d>=0:d>0}(t.endAt,mh(t),i)));var t,i}function Yf(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jD(n){return(e,t)=>{let i=!1;for(const r of mh(n)){const s=vb(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function vb(n,e,t){const i=n.field.isKeyField()?Mt.comparator(e.key,t.key):function(r,s,c){const d=s.data.field(r),f=c.data.field(r);return null!==d&&null!==f?uc(d,f):zt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return zt()}}function bb(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function GD(n){return{integerValue:""+n}}function $D(n,e){return Ey(e)?GD(e):bb(n,e)}class ld{constructor(){this._=void 0}}function UA(n,e,t){return n instanceof hm?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof yh?WD(n,e):n instanceof vh?wb(n,e):function(i,r){const s=zD(i,r),c=qD(s)+qD(i.yt);return MD(s)&&MD(i.yt)?GD(c):bb(i.It,c)}(n,e)}function $R(n,e,t){return n instanceof yh?WD(n,e):n instanceof vh?wb(n,e):t}function zD(n,e){return n instanceof cd?MD(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class hm extends ld{}class yh extends ld{constructor(e){super(),this.elements=e}}function WD(n,e){const t=Ay(e);for(const i of n.elements)t.some(r=>hl(r,i))||t.push(i);return{arrayValue:{values:t}}}class vh extends ld{constructor(e){super(),this.elements=e}}function wb(n,e){let t=Ay(e);for(const i of n.elements)t=t.filter(r=>!hl(r,i));return{arrayValue:{values:t}}}class cd extends ld{constructor(e,t){super(),this.It=e,this.yt=t}}function qD(n){return Ii(n.integerValue||n.doubleValue)}function Ay(n){return om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fm{constructor(e,t){this.field=e,this.transform=t}}class HA{constructor(e,t){this.version=e,this.transformResults=t}}class Ji{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function My(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xy{}function pm(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wr(n.key,Ji.none()):new Qf(n.key,n.data,Ji.none());{const t=n.data,i=bs.empty();let r=new ci(Qi.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new fl(n.key,i,new Do(r.toArray()),Ji.none())}}function bh(n,e,t){n instanceof Qf?function(i,r,s){const c=i.value.clone(),d=pl(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fl?function(i,r,s){if(!My(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=pl(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(ZD(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ny(n,e,t,i){return n instanceof Qf?function(r,s,c,d){if(!My(r.precondition,s))return c;const f=r.value.clone(),y=Jf(r.fieldTransforms,d,s);return f.setAll(y),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof fl?function(r,s,c,d){if(!My(r.precondition,s))return c;const f=Jf(r.fieldTransforms,d,s),y=s.data;return y.setAll(ZD(r)),y.setAll(f),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,e,t,i):(c=t,My(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function gm(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=zD(i.transform,r||null);null!=s&&(null===t&&(t=bs.empty()),t.set(i.field,s))}return t||null}function KD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&dl(t,i,(r,s)=>function VA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof yh&&i instanceof yh||t instanceof vh&&i instanceof vh?dl(t.elements,i.elements,hl):t instanceof cd&&i instanceof cd?hl(t.yt,i.yt):t instanceof hm&&i instanceof hm);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Qf extends xy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fl extends xy{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function pl(n,e,t){const i=new Map;vn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,d=e.data.field(s.field);i.set(s.field,$R(c,d,t[r]))}return i}function Jf(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,UA(s,c,e))}return i}class wr extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lu extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Oy{constructor(e){this.count=e}}var _i,ri;function wh(n){switch(n){default:return zt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function Eh(n){if(void 0===n)return Rr("GRPC error has no .code"),tt.UNKNOWN;switch(n){case _i.OK:return tt.OK;case _i.CANCELLED:return tt.CANCELLED;case _i.UNKNOWN:return tt.UNKNOWN;case _i.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _i.INTERNAL:return tt.INTERNAL;case _i.UNAVAILABLE:return tt.UNAVAILABLE;case _i.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _i.NOT_FOUND:return tt.NOT_FOUND;case _i.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _i.ABORTED:return tt.ABORTED;case _i.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _i.DATA_LOSS:return tt.DATA_LOSS;default:return zt()}}(ri=_i||(_i={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";class Xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hf(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return NA(this.inner)}size(){return this.innerSize}}const Xf=new br(Mt.comparator);function qr(){return Xf}const Ch=new br(Mt.comparator);function fc(...n){let e=Ch;for(const t of n)e=e.insert(t.key,t);return e}function Dh(n){let e=Ch;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function so(){return ep()}function Eb(){return ep()}function ep(){return new Xo(n=>n.toString(),(n,e)=>n.isEqual(e))}const YD=new br(Mt.comparator),QD=new ci(Mt.comparator);function Ln(...n){let e=QD;for(const t of n)e=e.add(t);return e}const JD=new ci(Pn);function mm(){return JD}class tp{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,np.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new tp(dn.min(),r,mm(),qr(),Ln())}}class np{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new np(i,t,Ln(),Ln(),Ln())}}class Ry{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class XD{constructor(e,t){this.targetId=e,this.At=t}}class Cb{constructor(e,t,i=kr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class eT{constructor(){this.Rt=0,this.bt=Py(),this.Pt=kr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ln(),t=Ln(),i=Ln();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:zt()}}),new np(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=Py()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class tT{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=qr(),this.qt=ky(),this.Kt=new ci(Pn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(cm(s))if(0===i){const c=new Mt(s.path);this.jt(t,c,Fi.newNoDocument(c,dn.min()))}else vn(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&cm(d.target)){const f=new Mt(d.target.path);null!==this.Ut.get(f)||this.ee(c,f)||this.jt(c,f,Fi.newNoDocument(f,e))}s.Dt&&(t.set(c,s.xt()),s.Nt())}});let i=Ln();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(f=>{const y=this.Xt(f);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(e));const r=new tp(e,t,this.Kt,this.Ut,i);return this.Ut=qr(),this.qt=ky(),this.Kt=new ci(Pn),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new eT,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ci(Pn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Et("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new eT),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ky(){return new br(Mt.comparator)}function Py(){return new br(Mt.comparator)}const jA={asc:"ASCENDING",desc:"DESCENDING"},Fy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ly{constructor(e,t){this.databaseId=e,this.gt=t}}function Th(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nT(n,e){return n.gt?e.toBase64():e.toUint8Array()}function By(n,e){return Th(n,e.toTimestamp())}function Er(n){return vn(!!n),dn.fromTimestamp(function(e){const t=id(e);return new ji(t.seconds,t.nanos)}(n))}function Uy(n,e){return(t=n,new li(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Db(n){const e=li.fromString(n);return vn(dT(e)),e}function Ih(n,e){return Uy(n.databaseId,e.path)}function gl(n,e){const t=Db(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Mt(iT(t))}function Vy(n,e){return Uy(n.databaseId,e)}function Hy(n){const e=Db(n);return 4===e.length?li.emptyPath():iT(e)}function ip(n){return new li(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iT(n){return vn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Tb(n,e,t){return{name:Ih(n,e),fields:t.value.mapValue.fields}}function Ib(n,e,t){const i=gl(n,e.name),r=Er(e.updateTime),s=new bs({mapValue:{fields:e.fields}}),c=Fi.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function _m(n,e){let t;if(e instanceof Qf)t={update:Tb(n,e.key,e.value)};else if(e instanceof wr)t={delete:Ih(n,e.key)};else if(e instanceof fl)t={update:Tb(n,e.key,e.data),updateMask:GA(e.fieldMask)};else{if(!(e instanceof lu))return zt();t={verify:Ih(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof hm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cd)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw zt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:By(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:zt()),t;var r}function jy(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ji.updateTime(Er(r.updateTime)):void 0!==r.exists?Ji.exists(r.exists):Ji.none():Ji.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(vn("REQUEST_TIME"===c.setToServerValue),d=new hm):"appendMissingElements"in c?d=new yh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new vh(c.removeAllFromArray.values||[]):"increment"in c?d=new cd(s,c.increment):zt();const f=Qi.fromServerFormat(c.fieldPath);return new fm(f,d)}(n,r)):[];var r;if(e.update){const r=gl(n,e.update.name),s=new bs({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Do((e.updateMask.fieldPaths||[]).map(y=>Qi.fromServerFormat(y)));return new fl(r,s,c,t,i)}return new Qf(r,s,t,i)}if(e.delete){const r=gl(n,e.delete);return new wr(r,t)}if(e.verify){const r=gl(n,e.verify);return new lu(r,t)}return zt()}function Gy(n,e){return{documents:[Vy(n,e.path)]}}function rp(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Vy(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vy(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const y=f.map(E=>function(T){if("=="===T.op){if(xD(T.value))return{unaryFilter:{field:Sh(T.field),op:"IS_NAN"}};if(gb(T.value))return{unaryFilter:{field:Sh(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(xD(T.value))return{unaryFilter:{field:Sh(T.field),op:"IS_NOT_NAN"}};if(gb(T.value))return{unaryFilter:{field:Sh(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(T.field),op:cT(T.op),value:T.value}}}(E));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(y=>{return{field:Sh((E=y).field),direction:lT(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(y=e.limit,n.gt||od(y)?y:{value:y});var y,d,f;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function Sb(n){let e=Hy(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){vn(1===i);const E=t.from[0];E.allDescendants?r=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=Ab(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new qf(Ah((T=E).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let d=null;t.limit&&(d=function(E){let T;return T="object"==typeof E?E.value:E,od(T)?null:T}(t.limit));let f=null;var E;t.startAt&&(f=new ad((E=t.startAt).values||[],!!E.before));let y=null;return t.endAt&&(y=function(E){return new ad(E.values||[],!E.before)}(t.endAt)),Iy(e,r,c,s,d,"F",f,y)}function Ab(n){return n?void 0!==n.unaryFilter?[zR(n)]:void 0!==n.fieldFilter?[uT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ab(e)).reduce((e,t)=>e.concat(t)):zt():[]}function lT(n){return jA[n]}function cT(n){return Fy[n]}function Sh(n){return{fieldPath:n.canonicalString()}}function Ah(n){return Qi.fromServerFormat(n.fieldPath)}function uT(n){return ls.create(Ah(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(n.fieldFilter.op),n.fieldFilter.value)}function zR(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ah(n.unaryFilter.field);return ls.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ah(n.unaryFilter.field);return ls.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ah(n.unaryFilter.field);return ls.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ah(n.unaryFilter.field);return ls.create(r,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}function GA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Pr(e)),e=$A(n.get(t),e);return Pr(e)}function $A(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Pr(n){return n+"\x01\x01"}function ml(n){const e=n.length;if(vn(e>=2),2===e)return vn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),li.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&zt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:zt()}s=c+2}return new li(i)}const hT=["userId","batchId"];function $y(n,e){return[n,Ls(e)]}function Mb(n,e,t){return[n,Ls(e),t]}const zA={},fT=["prefixPath","collectionGroup","readTime","documentId"],pT=["prefixPath","collectionGroup","documentId"],sp=["collectionGroup","readTime","prefixPath","documentId"],WA=["canonicalId","targetId"],qA=["targetId","path"],gT=["path","targetId"],KA=["collectionId","parent"],mT=["indexId","uid"],WR=["uid","sequenceNumber"],xb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Nb=["indexId","uid","orderedDocumentKey"],pc=["userId","collectionPath","documentId"],ZA=["userId","collectionPath","largestBatchId"],_T=["userId","collectionGroup","largestBatchId"],_l=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yl=[..._l,"documentOverlays"],xa=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ob=xa,yT=[...Ob,"indexConfiguration","indexState","indexEntries"];class Rb extends TD{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function cs(n,e){const t=Lt(n);return ac.M(t.ie,e)}class kb{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&bh(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ny(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ny(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Eb();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=t.has(r.key)?null:d;const f=pm(c,d);null!==f&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(dn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ln())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(t,i)=>KD(t,i))&&dl(this.baseMutations,e.baseMutations,(t,i)=>KD(t,i))}}class Pb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){vn(e.mutations.length===i.length);let r=YD;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new Pb(e,t,i,r)}}class ym{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Na{constructor(e,t,i,r,s=dn.min(),c=dn.min(),d=kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vT{constructor(e){this.re=e}}function wT(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Ih(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Th(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:ud(e.version)};else{if(!e.isUnknownDocument())return zt();i.unknownDocument={path:t.path.toArray(),version:ud(e.version)}}var r,s;return i}function vm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ud(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gc(n){const e=new ji(n.seconds,n.nanoseconds);return dn.fromTimestamp(e)}function Mh(n,e){const t=(e.baseMutations||[]).map(s=>jy(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>jy(n.re,s)),r=ji.fromMillis(e.localWriteTimeMs);return new kb(e.batchId,r,t,i)}function op(n){const e=gc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?gc(n.lastLimboFreeSnapshotVersion):dn.min();let i;var r;return void 0!==n.query.documents?(vn(1===(r=n.query).documents.length),i=Fs(au(Hy(r.documents[0])))):i=Fs(Sb(n.query)),new Na(i,n.targetId,0,n.lastListenSequenceNumber,e,t,kr.fromBase64String(n.resumeToken))}function Fb(n,e){const t=ud(e.snapshotVersion),i=ud(e.lastLimboFreeSnapshotVersion);let r;r=cm(e.target)?Gy(n.re,e.target):rp(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gh(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function bm(n){const e=Sb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dm(e,e.limit,"L"):e}function ap(n,e){return new ym(e.largestBatchId,jy(n.re,e.overlayMutation))}function Lb(n,e){const t=e.path.lastSegment();return[n,Ls(e.path.popLast()),t]}function Bb(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ud(i.readTime),documentKey:Ls(i.documentKey.path),largestBatchId:i.largestBatchId}}class ET{getBundleMetadata(e,t){return Ub(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:gc(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Ub(e).put({bundleId:(i=t).id,createTime:ud(Er(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Vb(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:bm(r.bundledQuery),readTime:gc(r.readTime)};var r})}saveNamedQuery(e,t){return Vb(e).put({name:(i=t).name,readTime:ud(Er(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Ub(n){return cs(n,"bundles")}function Vb(n){return cs(n,"namedQueries")}class wm{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new wm(e,t.uid||"")}getOverlay(e,t){return lp(e).get(Lb(this.userId,t)).next(i=>i?ap(this.It,i):null)}getOverlays(e,t){const i=so();return Xe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const d=new ym(t,c);r.push(this.ue(e,d))}),Xe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Ls(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(lp(e).Y("collectionPathOverlayIndex",d))}),Xe.waitFor(s)}getOverlaysForCollection(e,t,i){const r=so(),s=Ls(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return lp(e).W("collectionPathOverlayIndex",c).next(d=>{for(const f of d){const y=ap(this.It,f);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=so();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lp(e).Z({index:"collectionGroupOverlayIndex",range:d},(f,y,E)=>{const T=ap(this.It,y);s.size()<r||T.largestBatchId===c?(s.set(T.getKey(),T),c=T.largestBatchId):E.done()}).next(()=>s)}ue(e,t){return lp(e).put(function(i,r,s){const[c,d,f]=Lb(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:_m(i.re,s.mutation)}}(this.It,this.userId,t))}}function lp(n){return cs(n,"documentOverlays")}class dd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ii(e.integerValue));else if("doubleValue"in e){const i=Ii(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),lc(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(rd(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?ND(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):zt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),Mt.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function YA(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function CT(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=YA(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}dd.Te=new dd;class QA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=CT(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=CT(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class JA{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class XA{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Em{constructor(){this.Be=new QA,this.Le=new JA(this.Be),this.Ue=new XA(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class xh{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new xh(this.indexId,this.documentKey,this.arrayValue,i)}}function Nh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=DT(n.arrayValue,e.arrayValue),0!==t?t:(t=DT(n.directionalValue,e.directionalValue),0!==t?t:Mt.comparator(n.documentKey,e.documentKey)))}function DT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class eM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=_y(e);if(void 0!==t&&!this.ze(t))return!1;const i=su(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tM{constructor(){this.Ye=new Hb}addToCollectionParentIndex(e,t){return this.Ye.add(t),Xe.resolve()}getCollectionParents(e,t){return Xe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Xe.resolve()}deleteFieldIndex(e,t){return Xe.resolve()}getDocumentsMatchingTarget(e,t){return Xe.resolve(null)}getIndexType(e,t){return Xe.resolve(0)}getFieldIndexes(e,t){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,t){return Xe.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return Xe.resolve(ro.min())}updateCollectionGroup(e,t,i){return Xe.resolve()}updateIndexEntries(e,t){return Xe.resolve()}}class Hb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ci(li.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ci(li.comparator)).toArray()}}const zy=new Uint8Array(0);class nM{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Hb,this.Ze=new Xo(i=>gh(i),(i,r)=>lm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:Ls(r)};return TT(e).put(s)}return Xe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[cb(t),""],!1,!0);return TT(e).W(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(ml(c.parent))}return i})}addFieldIndex(e,t){const i=Wy(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=Dm(e);return s.next(d=>{c.put(Bb(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Wy(e),r=Dm(e),s=Cm(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Cm(e);let r=!0;const s=new Map;return Xe.forEach(this.tn(t),c=>this.en(e,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=Ln();const d=[];return Xe.forEach(s,(f,y)=>{var E;Et("IndexedDbIndexManager",`Using index ${E=f,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(bt=>`${bt.fieldPath}:${bt.kind}`).join(",")}`} to execute ${gh(t)}`);const T=function(bt,gt){const It=_y(gt);if(void 0===It)return null;for(const St of Ty(bt,It.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(y,f),B=function(bt,gt){const It=new Map;for(const St of su(gt))for(const qt of Ty(bt,St.fieldPath))switch(qt.op){case"==":case"in":It.set(St.fieldPath.canonicalString(),qt.value);break;case"not-in":case"!=":return It.set(St.fieldPath.canonicalString(),qt.value),Array.from(It.values())}return null}(y,f),X=function(bt,gt){const It=[];let St=!0;for(const qt of su(gt)){const Tn=0===qt.kind?FD(bt,qt.fieldPath,bt.startAt):mb(bt,qt.fieldPath,bt.startAt);It.push(Tn.value),St&&(St=Tn.inclusive)}return new ad(It,St)}(y,f),ge=function(bt,gt){const It=[];let St=!0;for(const qt of su(gt)){const Tn=0===qt.kind?mb(bt,qt.fieldPath,bt.endAt):FD(bt,qt.fieldPath,bt.endAt);It.push(Tn.value),St&&(St=Tn.inclusive)}return new ad(It,St)}(y,f),Te=this.nn(f,y,X),Ue=this.nn(f,y,ge),rt=this.sn(f,y,B),dt=this.rn(f.indexId,T,Te,X.inclusive,Ue,ge.inclusive,rt);return Xe.forEach(dt,bt=>i.J(bt,t.limit).next(gt=>{gt.forEach(It=>{const St=Mt.fromSegments(It.documentKey);c.has(St)||(c=c.add(St),d.push(St))})}))}).next(()=>d)}return Xe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,c,d){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),y=f/(null!=t?t.length:1),E=[];for(let T=0;T<f;++T){const B=t?this.on(t[T/y]):zy,X=this.un(e,B,i[T%y],r),ge=this.cn(e,B,s[T%y],c),Te=d.map(Ue=>this.un(e,B,Ue,!0));E.push(...this.createRange(X,ge,Te))}return E}un(e,t,i,r){const s=new xh(e,Mt.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new xh(e,Mt.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new eM(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;return Xe.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new ci(Qi.comparator),f=!1;for(const y of c.filters){const E=y;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?f=!0:d=d.add(E.field))}for(const y of c.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new Em;for(const r of su(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);dd.Te.ce(s,c)}return i.$e()}on(e){const t=new Em;return dd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Em;return dd.Te.ce(ph(this.databaseId,t),i.qe(function(r){const s=su(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new Em);let s=0;for(const c of su(e)){const d=i[s++];for(const f of r)if(this.ln(t,c.fieldPath)&&om(d))r=this.fn(r,c,d);else{const y=f.qe(c.kind);dd.Te.ce(d,y)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const f=new Em;f.seed(d.$e()),dd.Te.ce(c,f.qe(t.kind)),s.push(f)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof ls&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Wy(e),r=Dm(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const c=[];return Xe.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{c.push(function(y,E){const T=E?new td(E.sequenceNumber,new ro(gc(E.readTime),new Mt(ml(E.documentKey)),E.largestBatchId)):td.empty(),B=y.fields.map(([X,ge])=>new tm(Qi.fromServerFormat(X),ge));return new Vf(y.indexId,y.collectionGroup,B,T)}(d,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Pn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Wy(e),s=Dm(e);return this._n(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>Xe.forEach(d,f=>s.put(Bb(f.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return Xe.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Xe.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),Xe.forEach(d,f=>this.wn(e,r,f).next(y=>{const E=this.mn(s,f);return y.isEqual(E)?Xe.resolve():this.gn(e,s,f,y,E)}))))})}yn(e,t,i,r){return Cm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Cm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Cm(e);let s=new ci(Nh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(c,d)=>{s=s.add(new xh(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(e,t){let i=new ci(Nh);const r=this.an(t,e);if(null==r)return i;const s=_y(t);if(null!=s){const c=e.data.field(s.fieldPath);if(om(c))for(const d of c.arrayValue.values||[])i=i.add(new xh(t.indexId,e.key,this.on(d),r))}else i=i.add(new xh(t.indexId,e.key,zy,r));return i}gn(e,t,i,r,s){Et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,f,y,E,T){const B=d.getIterator(),X=f.getIterator();let ge=jf(B),Te=jf(X);for(;ge||Te;){let Ue=!1,rt=!1;if(ge&&Te){const dt=y(ge,Te);dt<0?rt=!0:dt>0&&(Ue=!0)}else null!=ge?rt=!0:Ue=!0;Ue?(E(Te),Te=jf(X)):rt?(T(ge),ge=jf(B)):(ge=jf(B),Te=jf(X))}}(r,s,Nh,d=>{c.push(this.yn(e,t,i,d))},d=>{c.push(this.pn(e,t,i,d))}),Xe.waitFor(c)}_n(e){let t=1;return Dm(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>Nh(c,d)).filter((c,d,f)=>!d||0!==Nh(c,f[d-1]));const r=[];r.push(e);for(const c of i){const d=Nh(c,e),f=Nh(c,t);if(0===d)r[0]=e.Ke();else if(d>0&&f<0)r.push(c),r.push(c.Ke());else if(f>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,zy,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,zy,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jb)}getMinOffset(e,t){return Xe.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||zt())).next(jb)}}function TT(n){return cs(n,"collectionParents")}function Cm(n){return cs(n,"indexEntries")}function Wy(n){return cs(n,"indexConfiguration")}function Dm(n){return cs(n,"indexState")}function jb(n){vn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;im(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ro(e.readTime,e.documentKey,t)}const Gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $b(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const f=i.Z({range:c},(E,T,B)=>(d++,B.delete()));s.push(f.next(()=>{vn(1===d)}));const y=[];for(const E of t.mutations){const T=Mb(e,E.key.path,t.batchId);s.push(r.delete(T)),y.push(E.key)}return Xe.waitFor(s).next(()=>y)}function Tm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw zt();e=n.noDocument}return JSON.stringify(e).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class Im{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){vn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Im(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cu(e).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Oh(e),c=cu(e);return c.add({}).next(d=>{vn("number"==typeof d);const f=new kb(d,t,i,r),y=function(B,X,ge){const Te=ge.baseMutations.map(rt=>_m(B.re,rt)),Ue=ge.mutations.map(rt=>_m(B.re,rt));return{userId:X,batchId:ge.batchId,localWriteTimeMs:ge.localWriteTime.toMillis(),baseMutations:Te,mutations:Ue}}(this.It,this.userId,f),E=[];let T=new ci((B,X)=>Pn(B.canonicalString(),X.canonicalString()));for(const B of r){const X=Mb(this.userId,B.key.path,d);T=T.add(B.key.path.popLast()),E.push(c.put(y)),E.push(s.put(X,zA))}return T.forEach(B=>{E.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.In[d]=f.keys()}),Xe.waitFor(E).next(()=>f)})}lookupMutationBatch(e,t){return cu(e).get(t).next(i=>i?(vn(i.userId===this.userId),Mh(this.It,i)):null)}Tn(e,t){return this.In[t]?Xe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return cu(e).Z({index:"userMutationsIndex",range:r},(c,d,f)=>{d.userId===this.userId&&(vn(d.batchId>=i),s=Mh(this.It,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return cu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cu(e).W("userMutationsIndex",t).next(i=>i.map(r=>Mh(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=$y(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Oh(e).Z({range:r},(c,d,f)=>{const[y,E,T]=c,B=ml(E);if(y===this.userId&&t.path.isEqual(B))return cu(e).get(T).next(X=>{if(!X)throw zt();vn(X.userId===this.userId),s.push(Mh(this.It,X))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ci(Pn);const r=[];return t.forEach(s=>{const c=$y(this.userId,s.path),d=IDBKeyRange.lowerBound(c),f=Oh(e).Z({range:d},(y,E,T)=>{const[B,X,ge]=y,Te=ml(X);B===this.userId&&s.path.isEqual(Te)?i=i.add(ge):T.done()});r.push(f)}),Xe.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=$y(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new ci(Pn);return Oh(e).Z({range:c},(f,y,E)=>{const[T,B,X]=f,ge=ml(B);T===this.userId&&i.isPrefixOf(ge)?ge.length===r&&(d=d.add(X)):E.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(cu(e).get(s).next(c=>{if(null===c)throw zt();vn(c.userId===this.userId),i.push(Mh(this.It,c))}))}),Xe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return $b(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Xe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Xe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Oh(e).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const f=ml(s[1]);r.push(f)}else d.done()}).next(()=>{vn(0===r.length)})})}containsKey(e,t){return zb(e,this.userId,t)}Rn(e){return qy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zb(n,e,t){const i=$y(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Oh(n).Z({range:s,X:!0},(d,f,y)=>{const[E,T,B]=d;E===e&&T===r&&(c=!0),y.done()}).next(()=>c)}function cu(n){return cs(n,"mutations")}function Oh(n){return cs(n,"documentMutations")}function qy(n){return cs(n,"mutationQueues")}class hd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new hd(0)}static vn(){return new hd(-1)}}class Rh{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new hd(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>dn.fromTimestamp(new ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cp(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(vn(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return cp(e).Z((c,d)=>{const f=op(d);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>Xe.waitFor(s)).next(()=>r)}forEachTarget(e,t){return cp(e).Z((i,r)=>{const s=op(r);t(s)})}Vn(e){return IT(e).get("targetGlobalKey").next(t=>(vn(null!==t),t))}Sn(e,t){return IT(e).put("targetGlobalKey",t)}Dn(e,t){return cp(e).put(Fb(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=gh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return cp(e).Z({range:r,index:"queryTargetsIndex"},(c,d,f)=>{const y=op(d);lm(t,y.target)&&(s=y,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=ea(e);return t.forEach(c=>{const d=Ls(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),Xe.waitFor(r)}removeMatchingKeys(e,t,i){const r=ea(e);return Xe.forEach(t,s=>{const c=Ls(s.path);return Xe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=ea(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ea(e);let s=Ln();return r.Z({range:i,X:!0},(c,d,f)=>{const y=ml(c[1]),E=new Mt(y);s=s.add(E)}).next(()=>s)}containsKey(e,t){const i=Ls(t.path),r=IDBKeyRange.bound([i],[cb(i)],!1,!0);let s=0;return ea(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],f,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}se(e,t){return cp(e).get(t).next(i=>i?op(i):null)}}function cp(n){return cs(n,"targets")}function IT(n){return cs(n,"targetGlobal")}function ea(n){return cs(n,"targetDocuments")}function iM([n,e],[t,i]){const r=Pn(n,t);return 0===r?Pn(e,i):r}class Wb{constructor(e){this.xn=e,this.buffer=new ci(iM),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();iM(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,it.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ou(i)?Et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield nd(i)}yield t.Fn(3e5)}))}}class ST{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Xe.resolve(Yo.at);const i=new Wb(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(Gb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gb):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,c,d,f,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(s=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),bD()<=Co.in.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${T} documents in `+(y-f)+`ms\nTotal Duration: ${y-E}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:T})))}}class AT{constructor(e,t){this.db=e,this.garbageCollector=new ST(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return qb(e,i)}removeReference(e,t,i){return qb(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return qb(e,t)}Gn(e,t){return function(i,r){let s=!1;return qy(i).tt(c=>zb(i,c,r).next(d=>(d&&(s=!0),Xe.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(c,d)=>{if(d<=t){const f=this.Gn(e,c).next(y=>{if(!y)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,dn.min()),ea(e).delete([0,Ls(c.path)])))});r.push(f)}}).next(()=>Xe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return qb(e,t)}Kn(e,t){const i=ea(e);let r,s=Yo.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:f,sequenceNumber:y})=>{0===c?(s!==Yo.at&&t(new Mt(ml(r)),s),s=y,r=f):s=Yo.at}).next(()=>{s!==Yo.at&&t(new Mt(ml(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qb(n,e){return ea(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ls(e.path),sequenceNumber:i}));var i}class hn{constructor(){this.changes=new Xo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Xe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rM{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ph(e).put(i)}removeEntry(e,t,i){return Ph(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],vm(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Fi.newInvalidDocument(t);return Ph(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fd(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:Fi.newInvalidDocument(t)};return Ph(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fd(t))},(r,s)=>{i={document:this.jn(t,s),size:Tm(s)}}).next(()=>i)}getEntries(e,t){let i=qr();return this.zn(e,t,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=qr(),r=new br(Mt.comparator);return this.zn(e,t,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,Tm(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return Xe.resolve();let r=new ci(cr);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(fd(r.first()),fd(r.last())),c=r.getIterator();let d=c.getNext();return Ph(e).Z({index:"documentKeyIndex",range:s},(f,y,E)=>{const T=Mt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&cr(d,T)<0;)i(d,null),d=c.getNext();d&&d.isEqual(T)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?E.j(fd(d)):E.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),vm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ph(e).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=qr();for(const f of c){const y=this.jn(Mt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=qr();const c=Sm(t,i),d=Sm(t,ro.max());return Ph(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(f,y,E)=>{const T=this.jn(Mt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(T.key,T),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(e){return new sM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kh(e).get("remoteDocumentGlobalKey").next(t=>(vn(!!t),t))}Qn(e,t){return kh(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function bT(n,e){let t;if(e.document)t=Ib(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Mt.fromSegments(e.noDocument.path),r=gc(e.noDocument.readTime);t=Fi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return zt();{const i=Mt.fromSegments(e.unknownDocument.path),r=gc(e.unknownDocument.version);t=Fi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ji(i[0],i[1]);return dn.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(dn.min()))return i}return Fi.newInvalidDocument(e)}}function MT(n){return new rM(n)}class sM extends hn{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xo(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ci((s,c)=>Pn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const f=wT(this.Yn.It,c);r=r.add(s.path.popLast()),i+=Tm(f)-d.size,t.push(this.Yn.addEntry(e,s,f))}else if(i-=d.size,this.trackRemovals){const f=wT(this.Yn.It,c.convertToNoDocument(dn.min()));t.push(this.Yn.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),Xe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function kh(n){return cs(n,"remoteDocumentGlobal")}function Ph(n){return cs(n,"remoteDocumentsV14")}function fd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Sm(n,e){const t=e.documentKey.path.toArray();return[n,vm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function cr(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Pn(t[s],i[s]),r)return r;return r=Pn(t.length,i.length),r||(r=Pn(t[t.length-2],i[i.length-2]),r||Pn(t[t.length-1],i[i.length-1]))}class KR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Kb{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Ny(i.mutation,r,Do.empty(),ji.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ln()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ln()){const r=so();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=fc();return s.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=so();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ln()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,r){let s=qr();const c=ep(),d=ep();return t.forEach((f,y)=>{const E=i.get(y.key);r.has(y.key)&&(void 0===E||E.mutation instanceof fl)?s=s.insert(y.key,y):void 0!==E&&(c.set(y.key,E.mutation.getFieldMask()),Ny(E.mutation,y,E.mutation.getFieldMask(),ji.now()))}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((y,E)=>c.set(y,E)),t.forEach((y,E)=>{var T;return d.set(y,new KR(E,null!==(T=c.get(y))&&void 0!==T?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ep();let r=new br((c,d)=>c-d),s=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const y=t.get(f);if(null===y)return;let E=i.get(f)||Do.empty();E=d.applyToLocalView(y,E),i.set(f,E);const T=(r.get(d.batchId)||Ln()).add(f);r=r.insert(d.batchId,T)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,E=f.value,T=Eb();E.forEach(B=>{if(!s.has(B)){const X=pm(t.get(B),i.get(B));null!==X&&T.set(B,X),s=s.add(B)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Xe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Mt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Sy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Xe.resolve(so());let d=-1,f=s;return c.next(y=>Xe.forEach(y,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),s.get(E)?Xe.resolve():this.getBaseDocument(e,E,T).next(B=>{f=f.insert(E,B)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,f,y,Ln())).next(E=>({batchId:d,changes:Dh(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mt(t)).next(i=>{let r=fc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=fc();return this.indexManager.getCollectionParents(e,r).next(c=>Xe.forEach(c,d=>{const f=(y=t,E=d.child(r),new Ma(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,E;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(y=>{y.forEach((E,T)=>{s=s.insert(E,T)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const y=f.getKey();null===r.get(y)&&(r=r.insert(y,Fi.newInvalidDocument(y)))});let c=fc();return r.forEach((d,f)=>{const y=s.get(d);void 0!==y&&Ny(y.mutation,f,Do.empty(),ji.now()),Zf(t,f)&&(c=c.insert(d,f))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):Xe.resolve(Fi.newInvalidDocument(t))}}class xT{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Xe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Er(i.createTime)}),Xe.resolve()}getNamedQuery(e,t){return Xe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:bm(i.bundledQuery),readTime:Er(i.readTime)}),Xe.resolve();var i}}class oM{constructor(){this.overlays=new br(Mt.comparator),this.es=new Map}getOverlay(e,t){return Xe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=so();return Xe.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),Xe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),Xe.resolve()}getOverlaysForCollection(e,t,i){const r=so(),s=t.length+1,c=new Mt(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return Xe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new br((y,E)=>y-E);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=s.get(y.largestBatchId);null===E&&(E=so(),s=s.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=so(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=r)););return Xe.resolve(d)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ym(t,i));let s=this.es.get(t);void 0===s&&(s=Ln(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class Ky{constructor(){this.ns=new ci(Kr.ss),this.rs=new ci(Kr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Kr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Kr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Mt(new li([])),i=new Kr(t,e),r=new Kr(t,e+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Mt(new li([])),i=new Kr(t,e),r=new Kr(t,e+1);let s=Ln();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Kr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Kr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Mt.comparator(e.key,t.key)||Pn(e._s,t._s)}static os(e,t){return Pn(e._s,t._s)||Mt.comparator(e.key,t.key)}}class NT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ci(Kr.ss)}checkEmpty(e){return Xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const c=new kb(s,t,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Kr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Xe.resolve(c)}lookupMutationBatch(e,t){return Xe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return Xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kr(t,0),r=new Kr(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),Xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ci(Pn);return t.forEach(r=>{const s=new Kr(r,0),c=new Kr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),Xe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Mt.isDocumentKey(s)||(s=s.child(""));const c=new Kr(new Mt(s),0);let d=new ci(Pn);return this.gs.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(f._s)),!0)},c),Xe.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){vn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Xe.forEach(t.mutations,r=>{const s=new Kr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Kr(t,0),r=this.gs.firstAfterOrEqual(i);return Xe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Xe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OT{constructor(e){this.Es=e,this.docs=new br(Mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Xe.resolve(i?i.document.mutableCopy():Fi.newInvalidDocument(t))}getEntries(e,t){let i=qr();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Fi.newInvalidDocument(r))}),Xe.resolve(i)}getAllFromCollection(e,t,i){let r=qr();const s=new Mt(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||im(yy(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return Xe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){zt()}As(e,t){return Xe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new aM(this)}getSize(e){return Xe.resolve(this.size)}}class aM extends hn{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),Xe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class lM{constructor(e){this.persistence=e,this.Rs=new Xo(t=>gh(t),lm),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ky,this.targetCount=0,this.vs=hd.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Xe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new hd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Xe.resolve()}updateTargetData(e,t){return this.Dn(t),Xe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),Xe.waitFor(s).next(()=>r)}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return Xe.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),Xe.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),Xe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Xe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return Xe.resolve(i)}containsKey(e,t){return Xe.resolve(this.Ps.containsKey(t))}}class RT{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Yo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new lM(this),this.indexManager=new tM,this.remoteDocumentCache=new OT(i=>this.referenceDelegate.xs(i)),this.It=new vT(t),this.Ns=new xT(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new NT(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Et("MemoryPersistence","Starting transaction:",e);const r=new Am(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return Xe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class Am extends TD{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Fs=new Ky,this.$s=null}static Bs(e){return new Zy(e)}get Ls(){if(this.$s)return this.$s;throw zt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),Xe.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),Xe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Xe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.Ls,i=>{const r=Mt.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,dn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Xe.or([()=>Xe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class cM{constructor(e){this.It=e}$(e,t,i,r){const s=new rm("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hT,{unique:!0}),d.createObjectStore("documentMutations"),kT(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=Xe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),kT(e)),c=c.next(()=>function(d){const f=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dn.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,f){return f.store("mutations").W().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hT,{unique:!0});const E=f.store("mutations"),T=y.map(B=>E.put(B));return Xe.waitFor(T)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:pc});f.createIndex("collectionPathOverlayIndex",ZA,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",_T,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:fT});f.createIndex("documentKeyIndex",pT),f.createIndex("collectionGroupIndex",sp)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:mT}).createIndex("sequenceNumberIndex",WR,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:xb}).createIndex("documentKeyIndex",Nb,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=Tm(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>Xe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>Xe.forEach(d,f=>{vn(f.userId===s.userId);const y=Mh(this.It,f);return $b(e,s.userId,y).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const f=new li(c),y=[0,Ls(f)];s.push(t.get(y).next(E=>E?Xe.resolve():t.put({targetId:0,path:Ls(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Xe.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:KA});const i=t.store("collectionParents"),r=new Hb,s=c=>{if(r.add(c)){const d=c.lastSegment(),f=c.popLast();return i.put({collectionId:d,parent:Ls(f)})}};return t.store("remoteDocuments").Z({X:!0},(c,d)=>{const f=new li(c);return s(f.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,d,f],y)=>{const E=ml(d);return s(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=op(r),c=Fb(this.It,s);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=t.store("remoteDocumentsV14"),f=(y=c,y.document?new Mt(li.fromString(y.document.name).popFirst(5)):y.noDocument?Mt.fromSegments(y.noDocument.path):y.unknownDocument?Mt.fromSegments(y.unknownDocument.path):zt()).path.toArray();var y;const E={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(E))}).next(()=>Xe.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=MT(this.It),s=new RT(Zy.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(f=>{var y;let E=null!==(y=d.get(f.userId))&&void 0!==y?y:Ln();Mh(this.It,f).keys().forEach(T=>E=E.add(T)),d.set(f.userId,E)}),Xe.forEach(d,(f,y)=>{const E=new as(y),T=wm.oe(this.It,E),B=s.getIndexManager(E),X=Im.oe(E,this.It,B,s.referenceDelegate);return new Kb(r,X,T,B).recalculateAndSaveOverlaysForDocumentKeys(new Rb(t,Yo.at),f).next()})})}}function kT(n){n.createObjectStore("targetDocuments",{keyPath:qA}).createIndex("documentTargetsIndex",gT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",WA,{unique:!0}),n.createObjectStore("targetGlobal")}const up="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yy{constructor(e,t,i,r,s,c,d,f,y,E,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=y,this.Ys=E,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=B=>Promise.resolve(),!Yy.C())throw new vt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AT(this,r),this.ii=t+"main",this.It=new vT(f),this.ri=new ac(this.ii,this.Xs,new cM(this.It)),this.Cs=new Rh(this.referenceDelegate,this.It),this.remoteDocumentCache=MT(this.It),this.Ns=new ET,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,up);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Yo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,it.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,it.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,it.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ou(e))return Et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return dp(e).get("owner").next(t=>Xe.resolve(this.mi(t)))}gi(e){return Mm(e).delete(this.clientId)}yi(){var e=this;return(0,it.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=cs(i,"clientMetadata");return r.W().next(s=>{const c=e.Ii(s,18e5),d=s.filter(f=>-1===c.indexOf(f));return Xe.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Xe.resolve(!0):dp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,up);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mm(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,it.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Rb(t,Yo.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Mm(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Im.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nM(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return wm.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Et("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.Xs)?yT:14===c?Ob:13===c?xa:12===c?yl:11===c?_l:void zt();var c;let d;return this.ri.runTransaction(e,r,s,f=>(d=new Rb(f,this.Ss?this.Ss.next():Yo.at),"readwrite-primary"===t?this.fi(d).next(y=>!!y||this.di(d)).next(y=>{if(!y)throw Rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new vt(tt.FAILED_PRECONDITION,AA);return i(d)}).next(y=>this.wi(d).next(()=>y)):this.Vi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(e){return dp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new vt(tt.FAILED_PRECONDITION,up)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dp(e).put("owner",t)}static C(){return ac.C()}_i(e){const t=dp(e);return t.get("owner").next(i=>this.mi(i)?(Et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Xe.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Rr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,me.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Et("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Rr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dp(n){return cs(n,"owner")}function Mm(n){return cs(n,"clientMetadata")}function Zb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Fh{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Ln(),r=Ln();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Fh(e,t.fromCache,i,r)}}class hp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(BA(t))return Xe.resolve(null);let i=Fs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=dm(t,null,"F"),i=Fs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=Ln(...s);return this.Ni.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const y=this.Fi(t,d);return this.$i(t,y,c,f.readTime)?this.ki(e,dm(t,null,"F")):this.Bi(e,y,t,f)}))})))}Oi(e,t,i,r){return BA(t)||r.isEqual(dn.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const c=this.Fi(t,s);return this.$i(t,c,i,r)?this.Mi(e,t):(bD()<=Co.in.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kf(t)),this.Bi(e,c,t,nm(r,-1)))})}Fi(e,t){let i=new ci(jD(e));return t.forEach((r,s)=>{Zf(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return bD()<=Co.in.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",Kf(t)),this.Ni.getDocumentsMatchingQuery(e,t,ro.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class uM{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new br(Pn),this.qi=new Xo(s=>gh(s),lm),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kb(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function PT(n,e,t,i){return new uM(n,e,t,i)}function FT(n,e){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,it.Z)(function*(n,e){const t=Lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let f=Ln();for(const y of r){c.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}for(const y of s){d.push(y.batchId);for(const E of y.mutations)f=f.add(E.key)}return t.localDocuments.getDocuments(i,f).next(y=>({ji:y,removedBatchIds:c,addedBatchIds:d}))})})}),Qy.apply(this,arguments)}function LT(n,e){const t=Lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,f,y){const E=f.batch,T=E.keys();let B=Xe.resolve();return T.forEach(X=>{B=B.next(()=>y.getEntry(d,X)).next(ge=>{const Te=f.docVersions.get(X);vn(null!==Te),ge.version.compareTo(Te)<0&&(E.applyToRemoteDocument(ge,f),ge.isValidDocument()&&(ge.setReadTime(f.commitVersion),y.addEntry(ge)))})}),B.next(()=>c.mutationQueue.removeMutationBatch(d,E))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Ln();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Yb(n){const e=Lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function dM(n,e){const t=Lt(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const d=[];e.targetChanges.forEach((E,T)=>{const B=r.get(T);if(!B)return;d.push(t.Cs.removeMatchingKeys(s,E.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(s,E.addedDocuments,T)));let X=B.withSequenceNumber(s.currentSequenceNumber);var ge,Te,Ue;e.targetMismatches.has(T)?X=X.withResumeToken(kr.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):E.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(E.resumeToken,i)),r=r.insert(T,X),Te=X,Ue=E,(0===(ge=B).resumeToken.approximateByteSize()||Te.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,X))});let f=qr(),y=Ln();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,E))}),d.push(Qb(s,c,e.documentUpdates).next(E=>{f=E.Wi,y=E.zi})),!i.isEqual(dn.min())){const E=t.Cs.getLastRemoteSnapshotVersion(s).next(T=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(E)}return Xe.waitFor(d).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,y)).next(()=>f)}).then(s=>(t.Ui=r,s))}function Qb(n,e,t){let i=Ln(),r=Ln();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=qr();return t.forEach((d,f)=>{const y=s.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(dn.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||0===f.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Et("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)}),{Wi:c,zi:r}})}function hM(n,e){const t=Lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fp(n,e){const t=Lt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,Xe.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new Na(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function xm(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=(0,it.Z)(function*(n,e,t){const i=Lt(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ou(c))throw c;Et("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),BT.apply(this,arguments)}function Jb(n,e,t){const i=Lt(n);let r=dn.min(),s=Ln();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,f,y){const E=Lt(d),T=E.qi.get(y);return void 0!==T?Xe.resolve(E.Ui.get(T)):E.Cs.getTargetData(f,y)}(i,c,Fs(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(f=>{s=f})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:dn.min(),t?s:Ln())).next(d=>(Nm(i,Yf(e),d),{documents:d,Hi:s})))}function fM(n,e){const t=Lt(n),i=Lt(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(c=>c?c.target:null))}function Xb(n,e){const t=Lt(n),i=t.Ki.get(e)||dn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,nm(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Nm(t,e,r),r))}function Nm(n,e,t){let i=n.Ki.get(e)||dn.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function ew(){return ew=(0,it.Z)(function*(n,e,t,i){const r=Lt(n);let s=Ln(),c=qr();for(const y of t){const E=e.Ji(y.metadata.name);y.document&&(s=s.add(E));const T=e.Yi(y);T.setReadTime(e.Xi(y.metadata.readTime)),c=c.insert(E,T)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield fp(r,(y=i,Fs(au(li.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>Qb(y,d,c).next(E=>(d.apply(y),E)).next(E=>r.Cs.removeMatchingKeysForTargetId(y,f.targetId).next(()=>r.Cs.addMatchingKeys(y,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,E.Wi,E.zi)).next(()=>E.Wi)))}),ew.apply(this,arguments)}function UT(n,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,it.Z)(function*(n,e,t=Ln()){const i=yield fp(n,Fs(bm(e.bundledQuery))),r=Lt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Er(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken(kr.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),Lh.apply(this,arguments)}function VT(n,e){return`firestore_clients_${n}_${e}`}function HT(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function tw(n,e){return`firestore_targets_${n}_${e}`}class Jy{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new vt(r.error.code,r.error.message))),c?new Jy(e,t,r.state,s):(Rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Om{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new vt(i.error.code,i.error.message))),s?new Om(e,i.state,r):(Rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=mm();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=Ey(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new Rm(e,s):(Rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class nw{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nw(t.clientId,t.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class iw{constructor(){this.activeTargetIds=mm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bh{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new br(Pn),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=VT(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new iw),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,it.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(VT(e.persistenceKey,r));if(s){const c=Rm.Zi(r,s);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(tw(this.persistenceKey,e));if(i){const r=Om.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tw(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Et("SharedClientState","READ",e,t),t}setItem(e,t){Et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,it.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let c=Yo.at;if(null!=s)try{const d=JSON.parse(s);vn("number"==typeof d),c=d}catch(d){Rr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Yo.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new Jy(this.currentUser,e,t,i),s=HT(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=HT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=tw(this.persistenceKey,e),s=new Om(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return Rm.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return Jy.Zi(new as(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Om.Zi(r,t)}yr(e){return nw.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,it.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=mm();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class jT{constructor(){this.Lr=new iw,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new iw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GT{qr(e){}shutdown(){}}class $T{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gM{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class WT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const c=this.ho(e,t);Et("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(e,c,d,i).then(f=>(Et("RestConnection","Received: ",f),f),f=>{throw dh("RestConnection",`${e} failed with error: `,f,"url: ",c,"request:",i),f})}_o(e,t,i,r,s,c){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+em,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${zT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,c)=>{const d=new sb;d.setWithCredentials(!0),d.listenOnce(BR.COMPLETE,()=>{var y;try{switch(d.getLastErrorCode()){case ib.NO_ERROR:const E=d.getResponseJson();Et("Connection","XHR received:",JSON.stringify(E)),s(E);break;case ib.TIMEOUT:Et("Connection",'RPC "'+e+'" timed out'),c(new vt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case ib.HTTP_ERROR:const T=d.getStatus();if(Et("Connection",'RPC "'+e+'" failed with status:',T,"response text:",d.getResponseText()),T>0){let B=d.getResponseJson();Array.isArray(B)&&(B=B[0]);const X=null===(y=B)||void 0===y?void 0:y.error;if(X&&X.status&&X.message){const ge=function(Te){const Ue=Te.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Ue)>=0?Ue:tt.UNKNOWN}(X.status);c(new vt(ge,X.message))}else c(new vt(tt.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new vt(tt.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{Et("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);d.send(t,"POST",f,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yD(),c=EA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new ch({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const f=r.join("");Et("Connection","Creating WebChannel: "+f,d);const y=s.createWebChannel(f,d);let E=!1,T=!1;const B=new gM({Hr:ge=>{T?Et("Connection","Not sending because WebChannel is closed:",ge):(E||(Et("Connection","Opening WebChannel transport."),y.open(),E=!0),Et("Connection","WebChannel sending:",ge),y.send(ge))},Jr:()=>y.close()}),X=(ge,Te,Ue)=>{ge.listen(Te,rt=>{try{Ue(rt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return X(y,py.EventType.OPEN,()=>{T||Et("Connection","WebChannel transport opened.")}),X(y,py.EventType.CLOSE,()=>{T||(T=!0,Et("Connection","WebChannel transport closed"),B.io())}),X(y,py.EventType.ERROR,ge=>{T||(T=!0,dh("Connection","WebChannel transport errored:",ge),B.io(new vt(tt.UNAVAILABLE,"The operation could not be completed")))}),X(y,py.EventType.MESSAGE,ge=>{var Te;if(!T){const Ue=ge.data[0];vn(!!Ue);const rt=Ue,dt=rt.error||(null===(Te=rt[0])||void 0===Te?void 0:Te.error);if(dt){Et("Connection","WebChannel received error:",dt);const bt=dt.status;let gt=function(St){const qt=_i[St];if(void 0!==qt)return Eh(qt)}(bt),It=dt.message;void 0===gt&&(gt=tt.INTERNAL,It="Unknown error status: "+bt+" with message "+dt.message),T=!0,B.io(new vt(gt,It)),y.close()}else Et("Connection","WebChannel received:",Ue),B.ro(Ue)}}),X(c,vD.STAT_EVENT,ge=>{ge.stat===rb.PROXY?Et("Connection","Detected buffering proxy"):ge.stat===rb.NOPROXY&&Et("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.so()},0),B}}function qT(){return typeof window<"u"?window:null}function pp(){return typeof document<"u"?document:null}function km(n){return new Ly(n,!0)}class Xy{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class rw{constructor(e,t,i,r,s,c,d,f){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Xy(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,it.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,it.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,it.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new vt(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,it.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mM extends rw{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function sT(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:zt(),r=e.targetChange.targetIds||[],s=function(f,y){return f.gt?(vn(void 0===y||"string"==typeof y),kr.fromBase64String(y||"")):(vn(void 0===y||y instanceof Uint8Array),kr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(f){const y=void 0===f.code?tt.UNKNOWN:Eh(f.code);return new vt(y,f.message||"")}(c);t=new Cb(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=gl(n,i.document.name),s=Er(i.document.updateTime),c=new bs({mapValue:{fields:i.document.fields}}),d=Fi.newFoundDocument(r,s,c);t=new Ry(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=gl(n,i.document),s=i.readTime?Er(i.readTime):dn.min(),c=Fi.newNoDocument(r,s);t=new Ry([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=gl(n,i.document);t=new Ry([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return zt();{const i=e.filter,s=new Oy(i.count||0);t=new XD(i.targetId,s)}}var f;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return dn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?dn.min():s.readTime?Er(s.readTime):dn.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=ip(this.It),t.addTarget=function(r,s){let c;const d=s.target;return c=cm(d)?{documents:Gy(r,d)}:{query:rp(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=nT(r,s.resumeToken):s.snapshotVersion.compareTo(dn.min())>0&&(c.readTime=Th(r,s.snapshotVersion.toTimestamp())),c}(this.It,e);const i=function aT(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=ip(this.It),t.removeTarget=e,this.Bo(t)}}class _M extends rw{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function oT(n,e){return n&&n.length>0?(vn(void 0!==e),n.map(t=>function(i,r){let s=Er(i.updateTime?i.updateTime:r);return s.isEqual(dn.min())&&(s=Er(r)),new HA(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Er(e.commitTime);return this.listener.Zo(i,t)}return vn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ip(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_m(this.It,i))};this.Bo(t)}}class yM extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(tt.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new vt(tt.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class KT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Rr(t),this.ou=!1):Et("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class vM{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,it.Z)(function*(){var f;uu(c)&&(Et("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,it.Z)(function*(y){const E=Lt(y);E._u.add(4),yield gp(E),E.gu.set("Unknown"),E._u.delete(4),yield Pm(E)}),function(y){return f.apply(this,arguments)})(c))}))}),this.gu=new KT(i,r)}}function Pm(n){return aw.apply(this,arguments)}function aw(){return aw=(0,it.Z)(function*(n){if(uu(n))for(const e of n.wu)yield e(!0)}),aw.apply(this,arguments)}function gp(n){return lw.apply(this,arguments)}function lw(){return lw=(0,it.Z)(function*(n){for(const e of n.wu)yield e(!1)}),lw.apply(this,arguments)}function ev(n,e){const t=Lt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),nv(t)?tv(t):yp(t).ko()&&cw(t,e))}function Fm(n,e){const t=Lt(n),i=yp(t);t.du.delete(e),i.ko()&&uw(t,e),0===t.du.size&&(i.ko()?i.Fo():uu(t)&&t.gu.set("Unknown"))}function cw(n,e){n.yu.Mt(e.targetId),yp(n).zo(e)}function uw(n,e){n.yu.Mt(e),yp(n).Ho(e)}function tv(n){n.yu=new tT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),yp(n).start(),n.gu.uu()}function nv(n){return uu(n)&&!yp(n).No()&&n.du.size>0}function uu(n){return 0===Lt(n)._u.size}function iv(n){n.yu=void 0}function ZT(n){return dw.apply(this,arguments)}function dw(){return dw=(0,it.Z)(function*(n){n.du.forEach((e,t)=>{cw(n,e)})}),dw.apply(this,arguments)}function bM(n,e){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,it.Z)(function*(n,e){iv(n),nv(n)?(n.gu.hu(e),tv(n)):n.gu.set("Unknown")}),Lm.apply(this,arguments)}function hw(n,e,t){return rv.apply(this,arguments)}function rv(){return rv=(0,it.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Cb&&2===e.state&&e.cause)try{yield(i=(0,it.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield mp(n,i)}else if(e instanceof Ry?n.yu.Gt(e):e instanceof XD?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(dn.min()))try{const i=yield Yb(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.du.get(f);y&&r.du.set(f,y.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken(kr.EMPTY_BYTE_STRING,f.snapshotVersion)),uw(r,d);const y=new Na(f.target,d,1,f.sequenceNumber);cw(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Et("RemoteStore","Failed to raise snapshot:",i),yield mp(n,i)}var i}),rv.apply(this,arguments)}function mp(n,e,t){return fw.apply(this,arguments)}function fw(){return fw=(0,it.Z)(function*(n,e,t){if(!ou(e))throw e;n._u.add(1),yield gp(n),n.gu.set("Offline"),t||(t=()=>Yb(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){Et("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Pm(n)}))}),fw.apply(this,arguments)}function YT(n,e){return e().catch(t=>mp(n,t,e))}function pd(n){return pw.apply(this,arguments)}function pw(){return pw=(0,it.Z)(function*(n){const e=Lt(n),t=gd(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;QT(e);)try{const r=yield hM(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,_p(e,r)}catch(r){yield mp(e,r)}gw(e)&&JT(e)}),pw.apply(this,arguments)}function QT(n){return uu(n)&&n.fu.length<10}function _p(n,e){n.fu.push(e);const t=gd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function gw(n){return uu(n)&&!gd(n).No()&&n.fu.length>0}function JT(n){gd(n).start()}function ZR(n){return sv.apply(this,arguments)}function sv(){return sv=(0,it.Z)(function*(n){gd(n).eu()}),sv.apply(this,arguments)}function mw(n){return _w.apply(this,arguments)}function _w(){return _w=(0,it.Z)(function*(n){const e=gd(n);for(const t of n.fu)e.Xo(t.mutations)}),_w.apply(this,arguments)}function yw(n,e,t){return vw.apply(this,arguments)}function vw(){return vw=(0,it.Z)(function*(n,e,t){const i=n.fu.shift(),r=Pb.from(i,e,t);yield YT(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield pd(n)}),vw.apply(this,arguments)}function XT(n,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,it.Z)(function*(n,e){var t;e&&gd(n).Yo&&(yield(t=(0,it.Z)(function*(i,r){if(wh(s=r.code)&&s!==tt.ABORTED){const c=i.fu.shift();gd(i).Mo(),yield YT(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield pd(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),gw(n)&&JT(n)}),Bm.apply(this,arguments)}function bw(n,e){return ov.apply(this,arguments)}function ov(){return ov=(0,it.Z)(function*(n,e){const t=Lt(n);t.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const i=uu(t);t._u.add(3),yield gp(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Pm(t)}),ov.apply(this,arguments)}function av(n,e){return lv.apply(this,arguments)}function lv(){return lv=(0,it.Z)(function*(n,e){const t=Lt(n);e?(t._u.delete(2),yield Pm(t)):e||(t._u.add(2),yield gp(t),t.gu.set("Unknown"))}),lv.apply(this,arguments)}function yp(n){return n.pu||(n.pu=function(e,t,i){const r=Lt(e);return r.su(),new mM(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:ZT.bind(null,n),Zr:bM.bind(null,n),Wo:hw.bind(null,n)}),n.wu.push(function(){var e=(0,it.Z)(function*(t){t?(n.pu.Mo(),nv(n)?tv(n):n.gu.set("Unknown")):(yield n.pu.stop(),iv(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function gd(n){return n.Iu||(n.Iu=function(e,t,i){const r=Lt(e);return r.su(),new _M(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:ZR.bind(null,n),Zr:XT.bind(null,n),tu:mw.bind(null,n),Zo:yw.bind(null,n)}),n.wu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Iu.Mo(),yield pd(n)):(yield n.Iu.stop(),n.fu.length>0&&(Et("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class ww{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,d=new ww(e,t,c,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(n,e){if(Rr("AsyncQueue",`${e}: ${n}`),ou(n))return new vt(tt.UNAVAILABLE,`${e}: ${n}`);throw n}class Uh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Mt.comparator(t.key,i.key):(t,i)=>Mt.comparator(t.key,i.key),this.keyedMap=fc(),this.sortedSet=new br(this.comparator)}static emptySet(e){return new Uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Uh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class wM{constructor(){this.Tu=new br(Mt.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):zt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vh{constructor(e,t,i,r,s,c,d,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Vh(e,t,Uh.emptySet(t),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class EM{constructor(){this.Au=void 0,this.listeners=[]}}class CM{constructor(){this.queries=new Xo(e=>hc(e),_h),this.onlineState="Unknown",this.Ru=new Set}}function eI(n,e){return tI.apply(this,arguments)}function tI(){return tI=(0,it.Z)(function*(n,e){const t=Lt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new EM),r)try{s.Au=yield t.onListen(i)}catch(c){const d=vp(c,`Initialization of query '${Kf(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&cv(t)}),tI.apply(this,arguments)}function Ew(n,e){return Cw.apply(this,arguments)}function Cw(){return Cw=(0,it.Z)(function*(n,e){const t=Lt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Cw.apply(this,arguments)}function DM(n,e){const t=Lt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&cv(t)}function nI(n,e,t){const i=Lt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function cv(n){n.Ru.forEach(e=>{e.next()})}class uv{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Vh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class TM{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class iI{constructor(e){this.It=e}Ji(e){return gl(this.It,e)}Yi(e){return e.metadata.exists?Ib(this.It,e.document,!1):Fi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Er(e)}}class IM{constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rI(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=li.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new iI(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||Ln()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,it.Z)(function*(){const t=yield function pM(n,e,t,i){return ew.apply(this,arguments)}(e.localStore,new iI(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield UT(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function rI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sI{constructor(e){this.key=e}}class oI{constructor(e){this.key=e}}class bp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ln(),this.mutatedKeys=Ln(),this.Gu=jD(e),this.Qu=new Uh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new wM,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((E,T)=>{const B=r.get(E),X=Zf(this.query,T)?T:null,ge=!!B&&this.mutatedKeys.has(B.key),Te=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Ue=!1;B&&X?B.data.isEqual(X.data)?ge!==Te&&(i.track({type:3,doc:X}),Ue=!0):this.Hu(B,X)||(i.track({type:2,doc:X}),Ue=!0,(f&&this.Gu(X,f)>0||y&&this.Gu(X,y)<0)&&(d=!0)):!B&&X?(i.track({type:0,doc:X}),Ue=!0):B&&!X&&(i.track({type:1,doc:B}),Ue=!0,(f||y)&&(d=!0)),Ue&&(X?(c=c.add(X),s=Te?s.add(E):s.delete(E)):(c=c.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{Qu:c,zu:i,$i:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((y,E)=>function(T,B){const X=ge=>{switch(ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return X(T)-X(B)}(y.type,E.type)||this.Gu(y.doc,E.doc)),this.Ju(i);const c=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,f=d!==this.qu;return this.qu=d,0!==s.length||f?{snapshot:new Vh(this.query,e.Qu,r,s,e.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new wM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ln(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new oI(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new sI(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=Ln();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Vh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class aI{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lI{constructor(e){this.key=e,this.nc=!1}}class cI{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Xo(d=>hc(d),_h),this.rc=new Map,this.oc=new Set,this.uc=new br(Mt.comparator),this.cc=new Map,this.ac=new Ky,this.hc={},this.lc=new Map,this.fc=hd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function uI(n,e){return dv.apply(this,arguments)}function dv(){return dv=(0,it.Z)(function*(n,e){const t=bv(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const c=yield fp(t.localStore,Fs(e));t.isPrimaryClient&&ev(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield hv(t,e,i,"current"===d,c.resumeToken)}return r}),dv.apply(this,arguments)}function hv(n,e,t,i,r){return Dw.apply(this,arguments)}function Dw(){return Dw=(0,it.Z)(function*(n,e,t,i,r){n._c=(T,B,X)=>{return(ge=(0,it.Z)(function*(Te,Ue,rt,dt){let bt=Ue.view.Wu(rt);bt.$i&&(bt=yield Jb(Te.localStore,Ue.query,!1).then(({documents:St})=>Ue.view.Wu(St,bt)));const gt=dt&&dt.targetChanges.get(Ue.targetId),It=Ue.view.applyChanges(bt,Te.isPrimaryClient,gt);return xw(Te,Ue.targetId,It.Xu),It.snapshot}),function(Te,Ue,rt,dt){return ge.apply(this,arguments)})(n,T,B,X);var ge};const s=yield Jb(n.localStore,e,!0),c=new bp(e,s.Hi),d=c.Wu(s.documents),f=np.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=c.applyChanges(d,n.isPrimaryClient,f);xw(n,t,y.Xu);const E=new aI(e,t,c);return n.ic.set(e,E),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),y.snapshot}),Dw.apply(this,arguments)}function YR(n,e){return fv.apply(this,arguments)}function fv(){return fv=(0,it.Z)(function*(n,e){const t=Lt(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!_h(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Fm(t.remoteStore,i.targetId),du(t,i.targetId)}).catch(nd))):(du(t,i.targetId),yield xm(t.localStore,i.targetId,!0))}),fv.apply(this,arguments)}function Tw(){return Tw=(0,it.Z)(function*(n,e,t){const i=wv(n);try{const r=yield function(s,c){const d=Lt(s),f=ji.now(),y=c.reduce((B,X)=>B.add(X.key),Ln());let E,T;return d.persistence.runTransaction("Locally write mutations","readwrite",B=>{let X=qr(),ge=Ln();return d.Gi.getEntries(B,y).next(Te=>{X=Te,X.forEach((Ue,rt)=>{rt.isValidDocument()||(ge=ge.add(Ue))})}).next(()=>d.localDocuments.getOverlayedDocuments(B,X)).next(Te=>{E=Te;const Ue=[];for(const rt of c){const dt=gm(rt,E.get(rt.key).overlayedDocument);null!=dt&&Ue.push(new fl(rt.key,dt,Dy(dt.value.mapValue),Ji.exists(!0)))}return d.mutationQueue.addMutationBatch(B,f,Ue,c)}).next(Te=>{T=Te;const Ue=Te.applyToLocalDocumentSet(E,ge);return d.documentOverlayCache.saveOverlays(B,Te.batchId,Ue)})}).then(()=>({batchId:T.batchId,changes:Dh(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let f=s.hc[s.currentUser.toKey()];f||(f=new br(Pn)),f=f.insert(c,d),s.hc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield vl(i,r.changes),yield pd(i.remoteStore)}catch(r){const s=vp(r,"Failed to persist write");t.reject(s)}}),Tw.apply(this,arguments)}function hI(n,e){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,it.Z)(function*(n,e){const t=Lt(n);try{const i=yield dM(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.cc.get(s);c&&(vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?vn(c.nc):r.removedDocuments.size>0&&(vn(c.nc),c.nc=!1))}),yield vl(t,i,e)}catch(i){yield nd(i)}}),Iw.apply(this,arguments)}function wp(n,e,t){const i=Lt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,c)=>{const d=c.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=Lt(s);d.onlineState=c;let f=!1;d.queries.forEach((y,E)=>{for(const T of E.listeners)T.bu(c)&&(f=!0)}),f&&cv(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function SM(n,e,t){return Um.apply(this,arguments)}function Um(){return Um=(0,it.Z)(function*(n,e,t){const i=Lt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let c=new br(Mt.comparator);c=c.insert(s,Fi.newNoDocument(s,dn.min()));const d=Ln().add(s),f=new tp(dn.min(),new Map,new ci(Pn),c,d);yield hI(i,f),i.uc=i.uc.remove(s),i.cc.delete(e),gv(i)}else yield xm(i.localStore,e,!1).then(()=>du(i,e,t)).catch(nd)}),Um.apply(this,arguments)}function mc(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,it.Z)(function*(n,e){const t=Lt(n),i=e.batch.batchId;try{const r=yield LT(t.localStore,e);Ep(t,i,null),Mw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield vl(t,r)}catch(r){yield nd(r)}}),Sw.apply(this,arguments)}function pv(n,e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,it.Z)(function*(n,e,t){const i=Lt(n);try{const r=yield function(s,c){const d=Lt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return d.mutationQueue.lookupMutationBatch(f,c).next(E=>(vn(null!==E),y=E.keys(),d.mutationQueue.removeMutationBatch(f,E))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y)).next(()=>d.localDocuments.getDocuments(f,y))})}(i.localStore,e);Ep(i,e,t),Mw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield vl(i,r)}catch(r){yield nd(r)}}),Hh.apply(this,arguments)}function Aw(){return Aw=(0,it.Z)(function*(n,e){const t=Lt(n);uu(t.remoteStore)||Et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Lt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=vp(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Aw.apply(this,arguments)}function Mw(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Ep(n,e,t){const i=Lt(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function du(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||fI(n,i)})}function fI(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Fm(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),gv(n))}function xw(n,e,t){for(const i of t)i instanceof sI?(n.ac.addReference(i.key,e),pI(n,i)):i instanceof oI?(Et("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||fI(n,i.key)):zt()}function pI(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Et("SyncEngine","New document in limbo: "+t),n.oc.add(i),gv(n))}function gv(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Mt(li.fromString(e)),i=n.fc.next();n.cc.set(i,new lI(t)),n.uc=n.uc.insert(t,i),ev(n.remoteStore,new Na(Fs(au(t.path)),i,2,Yo.at))}}function vl(n,e,t){return mv.apply(this,arguments)}function mv(){return mv=(0,it.Z)(function*(n,e,t){const i=Lt(n),r=[],s=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,f)=>{c.push(i._c(f,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const E=Fh.Ci(f.targetId,y);s.push(E)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,it.Z)(function*(f,y){const E=Lt(f);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Xe.forEach(y,B=>Xe.forEach(B.Si,X=>E.persistence.referenceDelegate.addReference(T,B.targetId,X)).next(()=>Xe.forEach(B.Di,X=>E.persistence.referenceDelegate.removeReference(T,B.targetId,X)))))}catch(T){if(!ou(T))throw T;Et("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const B=T.targetId;if(!T.fromCache){const X=E.Ui.get(B),Te=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);E.Ui=E.Ui.insert(B,Te)}}}),function(f,y){return d.apply(this,arguments)})(i.localStore,s))}),mv.apply(this,arguments)}function MM(n,e){return Nw.apply(this,arguments)}function Nw(){return Nw=(0,it.Z)(function*(n,e){const t=Lt(n);if(!t.currentUser.isEqual(e)){Et("SyncEngine","User change. New user:",e.toKey());const i=yield FT(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(d=>{d.reject(new vt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield vl(t,i.ji)}var r}),Nw.apply(this,arguments)}function QR(n,e){const t=Lt(n),i=t.cc.get(e);if(i&&i.nc)return Ln().add(i.key);{let r=Ln();const s=t.rc.get(e);if(!s)return r;for(const c of s){const d=t.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function Ow(n,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,it.Z)(function*(n,e){const t=Lt(n),i=yield Jb(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&xw(t,e.targetId,r.Xu),r}),Vm.apply(this,arguments)}function gI(n,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,it.Z)(function*(n,e){const t=Lt(n);return Xb(t.localStore,e).then(i=>vl(t,i))}),Hm.apply(this,arguments)}function Rw(n,e,t,i){return kw.apply(this,arguments)}function kw(){return kw=(0,it.Z)(function*(n,e,t,i){const r=Lt(n),s=yield function(c,d){const f=Lt(c),y=Lt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",E=>y.Tn(E,d).next(T=>T?f.localDocuments.getDocuments(E,T):Xe.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield pd(r.remoteStore):"acknowledged"===t||"rejected"===t?(Ep(r,e,i||null),Mw(r,e),d=e,Lt(Lt(r.localStore).mutationQueue).An(d)):zt(),yield vl(r,s)):Et("SyncEngine","Cannot apply mutation batch with id: "+e)}),kw.apply(this,arguments)}function Pw(){return Pw=(0,it.Z)(function*(n,e){const t=Lt(n);if(bv(t),wv(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield mI(t,i.toArray());t.dc=!0,yield av(t.remoteStore,!0);for(const s of r)ev(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(du(t,c),xm(t.localStore,c,!0))),Fm(t.remoteStore,c)}),yield r,yield mI(t,i),function(s){const c=Lt(s);c.cc.forEach((d,f)=>{Fm(c.remoteStore,f)}),c.ac.fs(),c.cc=new Map,c.uc=new br(Mt.comparator)}(t),t.dc=!1,yield av(t.remoteStore,!1)}}),Pw.apply(this,arguments)}function mI(n,e,t){return _v.apply(this,arguments)}function _v(){return _v=(0,it.Z)(function*(n,e,t){const i=Lt(n),r=[],s=[];for(const c of e){let d;const f=i.rc.get(c);if(f&&0!==f.length){d=yield fp(i.localStore,Fs(f[0]));for(const y of f){const E=i.ic.get(y),T=yield Ow(i,E);T.snapshot&&s.push(T.snapshot)}}else{const y=yield fM(i.localStore,c);d=yield fp(i.localStore,y),yield hv(i,yv(y),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),_v.apply(this,arguments)}function yv(n){return Iy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _I(n){const e=Lt(n);return Lt(Lt(e.localStore).persistence).vi()}function yI(n,e,t,i){return vv.apply(this,arguments)}function vv(){return vv=(0,it.Z)(function*(n,e,t,i){const r=Lt(n);if(r.dc)return void Et("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield Xb(r.localStore,Yf(s[0])),d=tp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,kr.EMPTY_BYTE_STRING);yield vl(r,c,d);break}case"rejected":yield xm(r.localStore,e,!0),du(r,e,i);break;default:zt()}}),vv.apply(this,arguments)}function vI(n,e,t){return Fw.apply(this,arguments)}function Fw(){return Fw=(0,it.Z)(function*(n,e,t){const i=bv(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Et("SyncEngine","Adding an already active target "+r);continue}const s=yield fM(i.localStore,r),c=yield fp(i.localStore,s);yield hv(i,yv(s),c.targetId,!1,c.resumeToken),ev(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield xm(i.localStore,r,!1).then(()=>{Fm(i.remoteStore,r),du(i,r)}).catch(nd))}}),Fw.apply(this,arguments)}function bv(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SM.bind(null,e),e.sc.Wo=DM.bind(null,e.eventManager),e.sc.wc=nI.bind(null,e.eventManager),e}function wv(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mc.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pv.bind(null,e),e}class Lw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,it.Z)(function*(){t.It=km(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return PT(this.persistence,new hp,e.initialUser,this.It)}yc(e){return new RT(Zy.Bs,this.It)}gc(e){return new jT}terminate(){var e=this;return(0,it.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bw extends Lw{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,it.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield wv(i.Ac.syncEngine),yield pd(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return PT(this.persistence,new hp,e.initialUser,this.It)}Tc(e,t){return new qR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new jR(t,this.persistence);return new HR(e.asyncQueue,i)}yc(e){const t=Zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new Yy(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,qT(),pp(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new jT}}class ao extends Bw{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,it.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof Bh&&(i.sharedClientState.syncEngine={Fr:Rw.bind(null,r),$r:yI.bind(null,r),Br:vI.bind(null,r),vi:_I.bind(null,r),Mr:gI.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,it.Z)(function*(c){yield function xM(n,e){return Pw.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}gc(e){const t=qT();if(!Bh.C(t))throw new vt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bh(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class md{initialize(e,t){var i=this;return(0,it.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wp(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=MM.bind(null,i.syncEngine),yield av(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CM}createDatastore(e){const t=km(e.databaseInfo.databaseId),i=new WT(e.databaseInfo);return new yM(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>wp(this.syncEngine,d,0),c=$T.C()?new $T:new GT,new vM(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,d,f,y){const E=new cI(i,r,s,c,d,f);return y&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,it.Z)(function*(t){const i=Lt(t);Et("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield gp(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Uw(n,e,t){if(!t)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bI(n,e,t,i){if(!0===e&&!0===i)throw new vt(tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OM(n){if(!Mt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RM(n){if(Mt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":zt()}function ei(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jm(n);throw new vt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Cp(n,e){if(e<=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const wI=new Map;class Ev{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new DA;switch(t.type){case"gapi":return new CD(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new vt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wI.get(e);t&&(Et("ComponentProvider","Removing Datastore"),wI.delete(e),t.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class Bs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class _c extends Bs{constructor(e,t,i){super(e,t,au(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new Mt(e))}withConverter(e){return new _c(this.firestore,e,this._path)}}function Cv(n,e,...t){if(n=(0,me.m9)(n),Uw("collection","path",e),n instanceof Gm){const i=li.fromString(e,...t);return RM(i),new _c(n,null,i)}{if(!(n instanceof Gi||n instanceof _c))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(li.fromString(e,...t));return RM(i),new _c(n.firestore,null,i)}}function $m(n,e,...t){if(n=(0,me.m9)(n),1===arguments.length&&(e=DD.R()),Uw("doc","path",e),n instanceof Gm){const i=li.fromString(e,...t);return OM(i),new Gi(n,null,new Mt(i))}{if(!(n instanceof Gi||n instanceof _c))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(li.fromString(e,...t));return OM(i),new Gi(n.firestore,n instanceof _c?n.converter:null,new Mt(i))}}function zm(n,e){return n=(0,me.m9)(n),e=(0,me.m9)(e),(n instanceof Gi||n instanceof _c)&&(e instanceof Gi||e instanceof _c)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Wm(n,e){return n=(0,me.m9)(n),e=(0,me.m9)(e),n instanceof Bs&&e instanceof Bs&&n.firestore===e.firestore&&_h(n._query,e._query)&&n.converter===e.converter}function kM(n,e=10240){let t=0;return{read:()=>(0,it.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,it.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class PM{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,it.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,it.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,it.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new TM(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,it.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,it.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,it.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class CI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,it.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new vt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,it.Z)(function*(s,c){const d=Lt(s),f=ip(d.It)+"/documents",y={documents:c.map(X=>Ih(d.It,X))},E=yield d._o("BatchGetDocuments",f,y,c.length),T=new Map;E.forEach(X=>{const ge=function rT(n,e){return"found"in e?function(t,i){vn(!!i.found);const r=gl(t,i.found.name),s=Er(i.found.updateTime),c=new bs({mapValue:{fields:i.found.fields}});return Fi.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){vn(!!i.missing),vn(!!i.readTime);const r=gl(t,i.missing),s=Er(i.readTime);return Fi.newNoDocument(r,s)}(n,e):zt()}(d.It,X);T.set(ge.key.toString(),ge)});const B=[];return c.forEach(X=>{const ge=T.get(X.toString());vn(!!ge),B.push(ge)}),B}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new wr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,it.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Mt.fromPath(r);e.mutations.push(new lu(s,e.precondition(s)))}),yield(i=(0,it.Z)(function*(r,s){const c=Lt(r),d=ip(c.It)+"/documents",f={writes:s.map(y=>_m(c.It,y))};yield c.ao("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zt();t=dn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new vt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dn.min())?Ji.exists(!1):Ji.updateTime(t):Ji.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dn.min()))throw new vt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ji.updateTime(t)}return Ji.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hw{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new Xy(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,it.Z)(function*(){const t=new CI(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!od(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!wh(t)}return!1}}class JR{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=as.UNAUTHENTICATED,this.clientId=DD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,it.Z)(function*(d){Et("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Et("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,it.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=vp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function DI(n,e){return TI.apply(this,arguments)}function TI(){return TI=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,it.Z)(function*(s){i.isEqual(s)||(yield FT(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),TI.apply(this,arguments)}function II(n,e){return jw.apply(this,arguments)}function jw(){return jw=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Gw(n);Et("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>bw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>bw(e.remoteStore,s)),n.onlineComponents=e}),jw.apply(this,arguments)}function Gw(n){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,it.Z)(function*(n){return n.offlineComponents||(Et("FirestoreClient","Using default OfflineComponentProvider"),yield DI(n,new Lw)),n.offlineComponents}),Dv.apply(this,arguments)}function Km(n){return $w.apply(this,arguments)}function $w(){return $w=(0,it.Z)(function*(n){return n.onlineComponents||(Et("FirestoreClient","Using default OnlineComponentProvider"),yield II(n,new md)),n.onlineComponents}),$w.apply(this,arguments)}function zw(n){return Gw(n).then(e=>e.persistence)}function Zm(n){return Gw(n).then(e=>e.localStore)}function Ww(n){return Km(n).then(e=>e.remoteStore)}function qw(n){return Km(n).then(e=>e.syncEngine)}function Tp(n){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,it.Z)(function*(n){const e=yield Km(n),t=e.eventManager;return t.onListen=uI.bind(null,e.syncEngine),t.onUnlisten=YR.bind(null,e.syncEngine),t}),Tv.apply(this,arguments)}function xI(n,e,t={}){const i=new Wr;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(r,s,c,d,f){const y=new qm({next:T=>{s.enqueueAndForget(()=>Ew(r,E));const B=T.docs.has(c);!B&&T.fromCache?f.reject(new vt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&T.fromCache&&d&&"server"===d.source?f.reject(new vt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new uv(au(c.path),y,{includeMetadataChanges:!0,Nu:!0});return eI(r,E)}(yield Tp(n),n.asyncQueue,e,t,i)})),i.promise}function UM(n,e,t={}){const i=new Wr;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(r,s,c,d,f){const y=new qm({next:T=>{s.enqueueAndForget(()=>Ew(r,E)),T.fromCache&&"server"===d.source?f.reject(new vt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new uv(c,y,{includeMetadataChanges:!0,Nu:!0});return eI(r,E)}(yield Tp(n),n.asyncQueue,e,t,i)})),i.promise}class tk{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Xy(this,"async_queue_retry"),this.Wc=()=>{const t=pp();t&&Et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=pp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=pp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Wr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,it.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ou(t))throw t;Et("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=ww.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&zt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,it.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function OI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class nk{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xi extends Gm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new tk,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yw(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||Yw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Yw(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new OA(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new JR(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Qw(n,e,t){const i=new Wr;return n.asyncQueue.enqueue((0,it.Z)(function*(){try{yield DI(n,t),yield II(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===tt.FAILED_PRECONDITION||c.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;dh("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function PI(n){if(n._initialized||n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yc(kr.fromBase64String(e))}catch(t){throw new vt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yc(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new vt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ip{constructor(e){this._methodName=e}}class Xw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pn(this._lat,e._lat)||Pn(this._long,e._long)}}const ak=/^__.*__$/;class GM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qf(e,this.data,t,this.fieldTransforms)}}class FI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class eE{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new eE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return xv(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(LI(this.sa)&&ak.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class $M{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||km(e)}da(e,t,i,r=!1){return new eE({sa:e,methodName:t,fa:i,path:Qi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function _d(n){const e=n._freezeSettings(),t=km(n._databaseId);return new $M(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ym(n,e,t,i,r,s={}){const c=n.da(s.merge||s.mergeFields?2:0,e,t,r);Mv("Data must be an object, but it was:",c,i);const d=Av(i,c);let f,y;if(s.merge)f=new Do(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const E=[];for(const T of s.mergeFields){const B=sE(e,T,t);if(!c.contains(B))throw new vt(tt.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);oE(E,B)||E.push(B)}f=new Do(E),y=c.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,y=c.fieldTransforms;return new GM(new bs(d),f,y)}class Sv extends Ip{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sv}}function Ra(n,e,t){return new eE({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class tE extends Ip{_toFieldTransform(e){return new fm(e.path,new hm)}isEqual(e){return e instanceof tE}}class nE extends Ip{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ra(this,e,!0),i=this._a.map(s=>jh(s,t)),r=new yh(i);return new fm(e.path,r)}isEqual(e){return this===e}}class zM extends Ip{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ra(this,e,!0),i=this._a.map(s=>jh(s,t)),r=new vh(i);return new fm(e.path,r)}isEqual(e){return this===e}}class ka extends Ip{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new cd(e.It,$D(e.It,this.wa));return new fm(e.path,t)}isEqual(e){return this===e}}function iE(n,e,t,i){const r=n.da(1,e,t);Mv("Data must be an object, but it was:",r,i);const s=[],c=bs.empty();Hf(i,(f,y)=>{const E=Jm(e,f,t);y=(0,me.m9)(y);const T=r.ca(E);if(y instanceof Sv)s.push(E);else{const B=jh(y,T);null!=B&&(s.push(E),c.set(E,B))}});const d=new Do(s);return new FI(c,d,r.fieldTransforms)}function Qm(n,e,t,i,r,s){const c=n.da(1,e,t),d=[sE(e,i,t)],f=[r];if(s.length%2!=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<s.length;B+=2)d.push(sE(e,s[B])),f.push(s[B+1]);const y=[],E=bs.empty();for(let B=d.length-1;B>=0;--B)if(!oE(y,d[B])){const X=d[B];let ge=f[B];ge=(0,me.m9)(ge);const Te=c.ca(X);if(ge instanceof Sv)y.push(X);else{const Ue=jh(ge,Te);null!=Ue&&(y.push(X),E.set(X,Ue))}}const T=new Do(y);return new FI(E,T,c.fieldTransforms)}function BI(n,e,t,i=!1){return jh(t,n.da(i?4:3,e))}function jh(n,e){if(rE(n=(0,me.m9)(n)))return Mv("Unsupported field value:",e,n),Av(n,e);if(n instanceof Ip)return function(t,i){if(!LI(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let d=jh(c,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,me.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $D(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ji.fromDate(t);return{timestampValue:Th(i.It,r)}}if(t instanceof ji){const r=new ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Th(i.It,r)}}if(t instanceof Xw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yc)return{bytesValue:nT(i.It,t._byteString)};if(t instanceof Gi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Uy(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${jm(t)}`)}(n,e)}function Av(n,e){const t={};return NA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hf(n,(i,r)=>{const s=jh(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function rE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ji||n instanceof Xw||n instanceof yc||n instanceof Gi||n instanceof Ip)}function Mv(n,e,t){if(!rE(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jm(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function sE(n,e,t){if((e=(0,me.m9)(e))instanceof Oa)return e._internalPath;if("string"==typeof e)return Jm(n,e);throw xv("Field path arguments must be of type string or ",n,!1,void 0,t)}const UI=new RegExp("[~\\*/\\[\\]]");function Jm(n,e,t){if(e.search(UI)>=0)throw xv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oa(...e.split("."))._internalPath}catch{throw xv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xv(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new vt(tt.INVALID_ARGUMENT,d+n+f)}function oE(n,e){return n.some(t=>t.isEqual(e))}class Xm{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aE extends Xm{data(){return super.data()}}function bl(n,e){return"string"==typeof e?Jm(n,e):e instanceof Oa?e._internalPath:e._delegate._internalPath}function lE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gh{}function Us(n,...e){for(const t of e)n=t._apply(n);return n}class WM extends Gh{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=_d(e.firestore),i=function(r,s,c,d,f,y,E){let T;if(f.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){fE(E,y);const X=[];for(const ge of E)X.push(hE(d,r,ge));T={arrayValue:{values:X}}}else T=hE(d,r,E)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||fE(E,y),T=BI(c,"where",E,"in"===y||"not-in"===y);const B=ls.create(f,y,T);return function(X,ge){if(ge.dt()){const Ue=HD(X);if(null!==Ue&&!Ue.isEqual(ge.field))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${ge.field.toString()}'`);const rt=um(X);null!==rt&&pE(0,ge.field,rt)}const Te=function(Ue,rt){for(const dt of Ue.filters)if(rt.indexOf(dt.op)>=0)return dt.op;return null}(X,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ge.op));if(null!==Te)throw new vt(tt.INVALID_ARGUMENT,Te===ge.op?`Invalid query. You cannot use more than one '${ge.op.toString()}' filter.`:`Invalid query. You cannot use '${ge.op.toString()}' filters with '${Te.toString()}' filters.`)}(r,B),B}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Bs(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new Ma(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class qM extends Gh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new qf(r,s);return function(d,f){if(null===um(d)){const y=HD(d);null!==y&&pE(0,y,f.field)}}(i,c),c}(e._query,this.ma,this.pa);return new Bs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ma(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class VI extends Gh{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new Bs(e.firestore,e.converter,dm(e._query,this.Ia,this.Ta))}}class YM extends Gh{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=dE(e,this.type,this.Ea,this.Aa);return new Bs(e.firestore,e.converter,(r=t,new Ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class cE extends Gh{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=dE(e,this.type,this.Ea,this.Aa);return new Bs(e.firestore,e.converter,(r=t,new Ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function dE(n,e,t,i){if(t[0]=(0,me.m9)(t[0]),t[0]instanceof Xm)return function(r,s,c,d,f){if(!d)throw new vt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const E of mh(r))if(E.field.isKeyField())y.push(ph(s,d.key));else{const T=d.data.field(E.field);if(pb(T))throw new vt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const B=E.field.canonicalString();throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}y.push(T)}return new ad(y,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=_d(n.firestore);return function(s,c,d,f,y,E){const T=s.explicitOrderBy;if(y.length>T.length)throw new vt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let X=0;X<y.length;X++){const ge=y[X];if(T[X].field.isKeyField()){if("string"!=typeof ge)throw new vt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof ge}`);if(!Sy(s)&&-1!==ge.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${ge}' contains a slash.`);const Te=s.path.child(li.fromString(ge));if(!Mt.isDocumentKey(Te))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${Te}' is not because it contains an odd number of segments.`);const Ue=new Mt(Te);B.push(ph(c,Ue))}else{const Te=BI(d,f,ge);B.push(Te)}}return new ad(B,E)}(n._query,n.firestore._databaseId,r,e,t,i)}}function hE(n,e,t){if("string"==typeof(t=(0,me.m9)(t))){if(""===t)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sy(e)&&-1!==t.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(li.fromString(t));if(!Mt.isDocumentKey(i))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ph(n,new Mt(i))}if(t instanceof Gi)return ph(n,t._key);throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(t)}.`)}function fE(n,e){if(!Array.isArray(n)||0===n.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pE(n,e,t){if(!t.isEqual(e))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Nv{convertValue(e,t="none"){switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zt()}}convertObject(e,t){const i={};return Hf(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new Xw(Ii(e.latitude),Ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=AD(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Gf(e));default:return null}}convertTimestamp(e){const t=id(e);return new ji(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=li.fromString(e);vn(dT(i));const r=new sd(i.get(1),i.get(3)),s=new Mt(i.popFirst(5));return r.isEqual(t)||Rr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function $h(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Ov extends Nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}class yd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hu extends Xm{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(bl("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Sp extends hu{data(e={}){return super.data(e)}}class fu{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sp(this._firestore,this._userDataWriter,i.key,i,new yd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Sp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new Sp(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return 0!==c.type&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:JM(c.type),doc:d,oldIndex:f,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function GI(n,e){return n instanceof hu&&e instanceof hu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof fu&&e instanceof fu&&n._firestore===e._firestore&&Wm(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class zh extends Nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function nx(n,e,t){n=ei(n,Gi);const i=ei(n.firestore,Xi),r=$h(n.converter,e,t);return Ap(i,[Ym(_d(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ji.none())])}function ix(n,e,t,...i){n=ei(n,Gi);const r=ei(n.firestore,Xi),s=_d(r);let c;return c="string"==typeof(e=(0,me.m9)(e))||e instanceof Oa?Qm(s,"updateDoc",n._key,e,t,i):iE(s,"updateDoc",n._key,e),Ap(r,[c.toMutation(n._key,Ji.exists(!0))])}function zI(n,...e){var t,i,r;n=(0,me.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||OI(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(OI(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(i=T.error)||void 0===i?void 0:i.bind(T),e[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let f,y,E;if(n instanceof Gi)y=ei(n.firestore,Xi),E=au(n._key.path),f={next:T=>{e[c]&&e[c](gE(y,n,T))},error:e[c+1],complete:e[c+2]};else{const T=ei(n,Bs);y=ei(T.firestore,Xi),E=T._query;const B=new zh(y);f={next:X=>{e[c]&&e[c](new fu(y,B,T,X))},error:e[c+1],complete:e[c+2]},lE(n._query)}return function(T,B,X,ge){const Te=new qm(ge),Ue=new uv(B,Te,X);return T.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return eI(yield Tp(T),Ue)})),()=>{Te.bc(),T.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return Ew(yield Tp(T),Ue)}))}}(Fr(y),E,d,f)}function Ap(n,e){return function(t,i){const r=new Wr;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function dI(n,e,t){return Tw.apply(this,arguments)}(yield qw(t),i,r)})),r.promise}(Fr(n),e)}function gE(n,e,t){const i=t.docs.get(e._key),r=new zh(n);return new hu(n,r,e._key,i,new yd(t.hasPendingWrites,t.fromCache),e.converter)}const WI={maxAttempts:5};class kv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_d(e)}set(e,t,i){this._verifyNotCommitted();const r=vc(e,this._firestore),s=$h(r.converter,t,i),c=Ym(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ji.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=vc(e,this._firestore);let c;return c="string"==typeof(t=(0,me.m9)(t))||t instanceof Oa?Qm(this._dataReader,"WriteBatch.update",s._key,t,i,r):iE(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,Ji.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=vc(e,this._firestore);return this._mutations=this._mutations.concat(new wr(t._key,Ji.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vc(n,e){if((n=(0,me.m9)(n)).firestore!==e)throw new vt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_d(e)}get(e){const t=vc(e,this._firestore),i=new Ov(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return zt();const s=r[0];if(s.isFoundDocument())return new Xm(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Xm(this._firestore,i,t._key,null,t.converter);throw zt()})}set(e,t,i){const r=vc(e,this._firestore),s=$h(r.converter,t,i),c=Ym(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=vc(e,this._firestore);let c;return c="string"==typeof(t=(0,me.m9)(t))||t instanceof Oa?Qm(this._dataReader,"Transaction.update",s._key,t,i,r):iE(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=vc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=vc(e,this._firestore),i=new zh(this._firestore);return super.get(e).then(r=>new hu(this._firestore,i,t._key,r._document,new yd(!1,!1),t.converter))}}function yE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vE(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function bE(){if(!function hb(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){em=rs.SDK_VERSION,(0,rs._registerComponent)(new Rs.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),c=new Xi(new ED(t.getProvider("auth-internal")),new ab(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new vt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,rs.registerVersion)(gy,"3.7.3",n),(0,rs.registerVersion)(gy,"3.7.3","esm2017")}();class xp{constructor(e){this._delegate=e}static fromBase64String(e){return bE(),new xp(yc.fromBase64String(e))}static fromUint8Array(e){return vE(),new xp(yc.fromUint8Array(e))}toBase64(){return bE(),this._delegate.toBase64()}toUint8Array(){return vE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wE(n){return function cx(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class KI{enableIndexedDbPersistence(e,t){return function Iv(n,e){PI(n=ei(n,Xi));const t=Fr(n),i=n._freezeSettings(),r=new md;return Qw(t,r,new Bw(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function RI(n){PI(n=ei(n,Xi));const e=Fr(n),t=n._freezeSettings(),i=new md;return Qw(e,i,new ao(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function rk(n){if(n._initialized&&!n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{yield(t=(0,it.Z)(function*(i){if(!ac.C())return Promise.resolve();const r=i+"main";yield ac.delete(r)}),function(i){return t.apply(this,arguments)})(Zb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fv{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof sd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Vw(n,e,t,i={}){var r;const s=(n=ei(n,Gm))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&dh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=as.MOCK_USER;else{c=(0,me.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new vt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new as(f)}n._authCredentials=new TA(new wD(c,d))}}(this._delegate,e,t,i)}enableNetwork(){return function kI(n){return function SI(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield zw(n),t=yield Ww(n);return e.setNetworkEnabled(!0),function(i){const r=Lt(i);return r._u.delete(0),Pm(r)}(t)}))}(Fr(n=ei(n,Xi)))}(this._delegate)}disableNetwork(){return function VM(n){return function AI(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield zw(n),t=yield Ww(n);return e.setNetworkEnabled(!1),(i=(0,it.Z)(function*(r){const s=Lt(r);s._u.add(0),yield gp(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Fr(n=ei(n,Xi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,bI("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Jw(n){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function AM(n,e){return Aw.apply(this,arguments)}(yield qw(e),t)})),t.promise}(Fr(n=ei(n,Xi)))}(this._delegate)}onSnapshotsInSync(e){return function Rv(n,e){return function NI(n,e){const t=new qm(e);return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return i=yield Tp(n),r=t,Lt(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return i=yield Tp(n),r=t,void Lt(i).Ru.delete(r);var i,r}))}}(Fr(n=ei(n,Xi)),OI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new t_(this,Cv(this._delegate,e))}catch(t){throw To(t,"collection()","Firestore.collection()")}}doc(e){try{return new wl(this,$m(this._delegate,e))}catch(t){throw To(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Io(this,function EI(n,e){if(n=ei(n,Gm),Uw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(n,null,(t=e,new Ma(li.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw To(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mE(n,e,t){n=ei(n,Xi);const i=Object.assign(Object.assign({},WI),t);return function(r){if(r.maxAttempts<1)throw new vt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const d=new Wr;return r.asyncQueue.enqueueAndForget((0,it.Z)(function*(){const f=yield function Kw(n){return Km(n).then(e=>e.datastore)}(r);new Hw(r.asyncQueue,f,c,s,d).run()})),d.promise}(Fr(n),r=>e(new sx(n,r)),i)}(this._delegate,t=>e(new Lv(this,t)))}batch(){return Fr(this._delegate),new YI(new kv(this._delegate,e=>Ap(this._delegate,e)))}loadBundle(e){return function sk(n,e){const t=Fr(n=ei(n,Xi)),i=new nk;return function XR(n,e,t,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,y){if(f instanceof Uint8Array)return kM(f,y);if(f instanceof ArrayBuffer)return kM(new Uint8Array(f),y);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new PM(f,c);var f}(t,km(e));n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){!function NM(n,e,t){const i=Lt(n);var r;(r=(0,it.Z)(function*(s,c,d){try{const f=yield c.getMetadata();if(yield function(B,X){const ge=Lt(B),Te=Er(X.createTime);return ge.persistence.runTransaction("hasNewerBundle","readonly",Ue=>ge.Ns.getBundleMetadata(Ue,X.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Te)>=0)}(s.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(B=f).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);d._updateProgress(rI(f));const y=new IM(f,s.localStore,c.It);let E=yield c.mc();for(;E;){const B=yield y.Fu(E);B&&d._updateProgress(B),E=yield c.mc()}const T=yield y.complete();return yield vl(s,T.Lu,void 0),yield function(B,X){const ge=Lt(B);return ge.persistence.runTransaction("Save bundle","readwrite",Te=>ge.Ns.saveBundleMetadata(Te,X))}(s.localStore,f),d._completeWith(T.progress),Promise.resolve(T.Bu)}catch(f){return dh("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var B}),function(s,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield qw(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function jM(n,e){return function ek(n,e){return n.asyncQueue.enqueue((0,it.Z)(function*(){return function(t,i){const r=Lt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield Zm(n),e)}))}(Fr(n=ei(n,Xi)),e).then(t=>t?new Bs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Io(this,t):null)}}class EE extends Nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new xp(new yc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wl.forKey(t,this.firestore,null)}}class Lv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new EE(e)}get(e){const t=qh(e);return this._delegate.get(t).then(i=>new e_(this._firestore,new hu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=qh(e);return i?(yE("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=qh(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=qh(e);return this._delegate.delete(t),this}}class YI{constructor(e){this._delegate=e}set(e,t,i){const r=qh(e);return i?(yE("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=qh(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=qh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wh{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Sp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bv(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Wh.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Wh(e,new EE(e),t),r.set(t,s)),s}}Wh.INSTANCES=new WeakMap;class wl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new EE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wl(t,new Gi(t._delegate,i,new Mt(e)))}static forKey(e,t,i){return new wl(t,new Gi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new t_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new t_(this.firestore,Cv(this._delegate,e))}catch(t){throw To(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,me.m9)(e))instanceof Gi&&zm(this._delegate,e)}set(e,t){t=yE("DocumentReference.set",t);try{return t?nx(this._delegate,e,t):nx(this._delegate,e)}catch(i){throw To(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?ix(this._delegate,e):ix(this._delegate,e,t,...i)}catch(r){throw To(r,"updateDoc()","DocumentReference.update()")}}delete(){return function hk(n){return Ap(ei(n.firestore,Xi),[new wr(n._key,Ji.none())])}(this._delegate)}onSnapshot(...e){const t=QI(e),i=JI(e,r=>new e_(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return zI(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function $I(n){n=ei(n,Gi);const e=ei(n.firestore,Xi),t=Fr(e),i=new zh(e);return function MI(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(i=(0,it.Z)(function*(r,s,c){try{const d=yield function(f,y){const E=Lt(f);return E.persistence.runTransaction("read document","readonly",T=>E.localDocuments.getDocument(T,y))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new vt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=vp(d,`Failed to get document '${s} from cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield Zm(n),e,t);var i})),t.promise}(t,n._key).then(r=>new hu(e,i,n._key,r,new yd(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function XM(n){n=ei(n,Gi);const e=ei(n.firestore,Xi);return xI(Fr(e),n._key,{source:"server"}).then(t=>gE(e,n,t))}(this._delegate):function uk(n){n=ei(n,Gi);const e=ei(n.firestore,Xi);return xI(Fr(e),n._key).then(t=>gE(e,n,t))}(this._delegate),t.then(i=>new e_(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new wl(this.firestore,this._delegate.withConverter(e?Wh.getInstance(this.firestore,e):null))}}function To(n,e,t){return n.message=n.message.replace(e,t),n}function QI(n){for(const e of n)if("object"==typeof e&&!wE(e))return e;return{}}function JI(n,e){var t,i;let r;return r=wE(n[0])?n[0]:wE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class e_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GI(this._delegate,e._delegate)}}class Bv extends e_{data(e){const t=this._delegate.data(e);return function my(n,e){n||zt()}(void 0!==t),t}}class Io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new EE(e)}where(e,t,i){try{return new Io(this.firestore,Us(this._delegate,function lk(n,e,t){const i=e,r=bl("where",n);return new WM(r,i,t)}(e,t,i)))}catch(r){throw To(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Io(this.firestore,Us(this._delegate,function KM(n,e="asc"){const t=e,i=bl("orderBy",n);return new qM(i,t)}(e,t)))}catch(i){throw To(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Io(this.firestore,Us(this._delegate,function ZM(n){return Cp("limit",n),new VI("limit",n,"F")}(e)))}catch(t){throw To(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Io(this.firestore,Us(this._delegate,function HI(n){return Cp("limitToLast",n),new VI("limitToLast",n,"L")}(e)))}catch(t){throw To(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Io(this.firestore,Us(this._delegate,function jI(...n){return new YM("startAt",n,!0)}(...e)))}catch(t){throw To(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Io(this.firestore,Us(this._delegate,function QM(...n){return new YM("startAfter",n,!1)}(...e)))}catch(t){throw To(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Io(this.firestore,Us(this._delegate,function ck(...n){return new cE("endBefore",n,!1)}(...e)))}catch(t){throw To(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Io(this.firestore,Us(this._delegate,function uE(...n){return new cE("endAt",n,!0)}(...e)))}catch(t){throw To(t,"endAt()","Query.endAt()")}}isEqual(e){return Wm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function tx(n){n=ei(n,Bs);const e=ei(n.firestore,Xi),t=Fr(e),i=new zh(e);return function BM(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(i=(0,it.Z)(function*(r,s,c){try{const d=yield Jb(r,s,!0),f=new bp(s,d.Hi),y=f.Wu(d.documents),E=f.applyChanges(y,!1);c.resolve(E.snapshot)}catch(d){const f=vp(d,`Failed to execute query '${s} against cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield Zm(n),e,t);var i})),t.promise}(t,n._query).then(r=>new fu(e,i,n,r))}(this._delegate):"server"===e?.source?function dk(n){n=ei(n,Bs);const e=ei(n.firestore,Xi),t=Fr(e),i=new zh(e);return UM(t,n._query,{source:"server"}).then(r=>new fu(e,i,n,r))}(this._delegate):function ex(n){n=ei(n,Bs);const e=ei(n.firestore,Xi),t=Fr(e),i=new zh(e);return lE(n._query),UM(t,n._query).then(r=>new fu(e,i,n,r))}(this._delegate),t.then(i=>new XI(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=QI(e),i=JI(e,r=>new XI(this.firestore,new fu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return zI(this._delegate,t,i)}withConverter(e){return new Io(this.firestore,this._delegate.withConverter(e?Wh.getInstance(this.firestore,e):null))}}class _k{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _k(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Bv(this._firestore,i))})}isEqual(e){return GI(this._delegate,e._delegate)}}class t_ extends Io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wl(this.firestore,e):null}doc(e){try{return new wl(this.firestore,void 0===e?$m(this._delegate):$m(this._delegate,e))}catch(t){throw To(t,"doc()","CollectionReference.doc()")}}add(e){return function fk(n,e){const t=ei(n.firestore,Xi),i=$m(n),r=$h(n.converter,e);return Ap(t,[Ym(_d(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ji.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new wl(this.firestore,t))}isEqual(e){return zm(this._delegate,e._delegate)}withConverter(e){return new t_(this.firestore,this._delegate.withConverter(e?Wh.getInstance(this.firestore,e):null))}}function qh(n){return ei(n,Gi)}class eS{constructor(...e){this._delegate=new Oa(...e)}static documentId(){return new eS(Qi.keyField().canonicalString())}isEqual(e){return(e=(0,me.m9)(e))instanceof Oa&&this._delegate._internalPath.isEqual(e._internalPath)}}class Np{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Pv(){return new tE("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Np(e)}static delete(){const e=function _E(){return new Sv("deleteField")}();return e._methodName="FieldValue.delete",new Np(e)}static arrayUnion(...e){const t=function pk(...n){return new nE("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Np(t)}static arrayRemove(...e){const t=function gk(...n){return new zM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Np(t)}static increment(e){const t=function mk(n){return new ka("increment",n)}(e);return t._methodName="FieldValue.increment",new Np(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yk={Firestore:Fv,GeoPoint:Xw,Timestamp:ji,Blob:xp,Transaction:Lv,WriteBatch:YI,DocumentReference:wl,DocumentSnapshot:e_,Query:Io,QueryDocumentSnapshot:Bv,QuerySnapshot:XI,CollectionReference:t_,FieldPath:eS,FieldValue:Np,setLogLevel:function ZI(n){!function CA(n){uh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function ux(n){(function vk(n,e){n.INTERNAL.registerComponent(new Rs.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},yk)))})(n,(e,t)=>new Fv(e,t,new KI)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(qo.Z);var vd=I(6451),o=I(5363),a=I(6063);class u extends Gt.x{constructor(e=1/0,t=1/0,i=a.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)d=f;d&&i.splice(0,d+1)}}}var h=I(3099);function p(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,h.B)({connector:()=>new u(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function m(n,e){return(0,qn.m)(e)?en(()=>n,e):en(()=>n)}var w=I(9468);I(5867);const n_=new Map,Uv={activated:!1,tokenObservers:[]},CE={initialized:!1,enabled:!1};function Zr(n){return n_.get(n)||Object.assign({},Uv)}function Rp(){return CE}class kH{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,it.Z)(function*(){t.stop();try{t.pending=new me.BH,yield function PH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new me.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ta=new me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wk(n){if(!Zr(n).activated)throw ta.create("use-before-activation",{appName:n.name})}function hx(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,it.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const X=yield c.getHeartbeatsHeader();X&&(s["X-Firebase-Client"]=X)}const d={method:"POST",body:JSON.stringify(e),headers:s};let f,y;try{f=yield fetch(n,d)}catch(X){throw ta.create("fetch-network-error",{originalErrorMessage:null===(i=X)||void 0===i?void 0:i.message})}if(200!==f.status)throw ta.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(X){throw ta.create("fetch-parse-error",{originalErrorMessage:null===(r=X)||void 0===r?void 0:r.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ta.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const T=1e3*Number(E[1]),B=Date.now();return{token:y.token,expireTimeMillis:B+T,issuedAtTimeMillis:B}}),fx.apply(this,arguments)}function UH(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const IE="firebase-app-check-store";let rS=null;function Ck(){return rS||(rS=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(ta.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(IE,{keyPath:"compositeKey"})}}catch(i){e(ta.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),rS)}function px(){return px=(0,it.Z)(function*(n,e){const i=(yield Ck()).transaction(IE,"readwrite"),s=i.objectStore(IE).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=f=>{c()},i.onerror=f=>{var y;d(ta.create("storage-set",{originalErrorMessage:null===(y=f.target.error)||void 0===y?void 0:y.message}))}})}),px.apply(this,arguments)}const SE=new Co.Yd("@firebase/app-check");function _x(n,e){return(0,me.hl)()?function GH(n,e){return function Dk(n,e){return px.apply(this,arguments)}(function Ik(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{SE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Sk(){return Rp().enabled}function Ak(){return vx.apply(this,arguments)}function vx(){return vx=(0,it.Z)(function*(){const n=Rp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vx.apply(this,arguments)}const ZH={error:"UNKNOWN_ERROR"};function YH(n){return me.US.encodeString(JSON.stringify(n),!1)}function sS(n){return bx.apply(this,arguments)}function bx(){return bx=(0,it.Z)(function*(n,e=!1){const t=n.app;wk(t);const i=Zr(t);let s,r=i.token;if(r&&!Vv(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(Vv(f)?r=f:yield _x(t,void 0))}if(!e&&r&&Vv(r))return{token:r.token};let d,c=!1;if(Sk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=hx(UH(t,yield Ak()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const f=yield i.exchangeTokenPromise;return yield _x(t,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Zr(t).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?SE.warn(f.message):SE.error(f),s=f}return r?s?d=Vv(r)?{token:r.token,internalError:s}:Nk(s):(d={token:r.token},i.token=r,yield _x(t,r)):d=Nk(s),c&&xk(t,d),d}),bx.apply(this,arguments)}function Ex(n,e){const t=Zr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Mk(n){const{app:e}=n,t=Zr(e);let i=t.tokenRefresher;i||(i=function QH(n){const{app:e}=n;return new kH((0,it.Z)(function*(){let i;if(i=Zr(e).token?yield sS(n,!0):yield sS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Zr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function xk(n,e){const t=Zr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Vv(n){return n.expireTimeMillis-Date.now()>0}function Nk(n){return{token:YH(ZH),error:n}}class JH{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Zr(this.app);for(const t of e)Ex(this.app,t.next);return Promise.resolve()}}const Uk="app-check-internal";!function hj(){(0,rs._registerComponent)(new Rs.wA("app-check",n=>function XH(n,e){return new JH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Uk).initialize()})),(0,rs._registerComponent)(new Rs.wA(Uk,n=>function ej(n){return{getToken:e=>sS(n,e),addTokenListener:e=>function wx(n,e,t,i){const{app:r}=n,s=Zr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Vv(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),Mk(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Mk(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ex(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,rs.registerVersion)("@firebase/app-check","0.5.17")}();class AE{constructor(){return(0,ai.vb)("app-check")}}typeof window<"u"&&window;var aS=I(127);const Sx=new l.OlP("angularfire2.auth.use-emulator"),Ax=new l.OlP("angularfire2.auth.settings"),Mx=new l.OlP("angularfire2.auth.tenant-id"),xx=new l.OlP("angularfire2.auth.langugage-code"),Nx=new l.OlP("angularfire2.auth.use-device-language"),Ox=new l.OlP("angularfire.auth.persistence"),Rx=(n,e,t,i,r,s,c,d)=>(0,Pi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),c)for(const[y,E]of Object.entries(c))f.settings[y]=E;return d&&f.setPersistence(d),f},[t,i,r,s,c,d]);let ME=(()=>{class n{constructor(t,i,r,s,c,d,f,y,E,T,B,X){const ge=new Gt.x,Te=(0,Pe.of)(void 0).pipe((0,o.Q)(c.outsideAngular),en(()=>s.runOutsideAngular(()=>Promise.resolve().then(I.bind(I,1277)))),(0,Pt.U)(()=>(0,Pi.on)(t,s,i)),(0,Pt.U)(Ue=>Rx(Ue,s,d,y,E,T,f,B)),p({bufferSize:1,refCount:!1}));if((0,v.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pe.of)(null);else{Te.pipe(Ar()).subscribe();const rt=Te.pipe(en(gt=>gt.getRedirectResult().then(It=>It,()=>null)),ai.iC,p({bufferSize:1,refCount:!1})),dt=Te.pipe(en(gt=>new En.y(It=>({unsubscribe:s.runOutsideAngular(()=>gt.onAuthStateChanged(St=>It.next(St),St=>It.error(St),()=>It.complete()))})))),bt=Te.pipe(en(gt=>new En.y(It=>({unsubscribe:s.runOutsideAngular(()=>gt.onIdTokenChanged(St=>It.next(St),St=>It.error(St),()=>It.complete()))}))));this.authState=rt.pipe(m(dt),(0,w.R)(c.outsideAngular),(0,o.Q)(c.insideAngular)),this.user=rt.pipe(m(bt),(0,w.R)(c.outsideAngular),(0,o.Q)(c.insideAngular)),this.idToken=this.user.pipe(en(gt=>gt?(0,Re.D)(gt.getIdToken()):(0,Pe.of)(null))),this.idTokenResult=this.user.pipe(en(gt=>gt?(0,Re.D)(gt.getIdTokenResult()):(0,Pe.of)(null))),this.credential=(0,vd.T)(rt,ge,this.authState.pipe((0,zn.h)(gt=>!gt))).pipe((0,Pt.U)(gt=>gt?.user?gt:null),(0,w.R)(c.outsideAngular),(0,o.Q)(c.insideAngular))}return(0,Pi.pX)(this,Te,s,{spy:{apply:(Ue,rt,dt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&dt.then(bt=>ge.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pi.Dh),l.LFG(Pi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ai.HU),l.LFG(Sx,8),l.LFG(Ax,8),l.LFG(Mx,8),l.LFG(xx,8),l.LFG(Nx,8),l.LFG(Ox,8),l.LFG(AE,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yj=(()=>{class n{constructor(){aS.Z.registerVersion("angularfire",ai.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ME]}),n})();function Hk(n,e){return function vj(n,e=$u.z){return new En.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function kx(n,e){return Hk(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function lS(n,e){return kx(n,e).pipe((0,Ki.O)(void 0),_g(),(0,Pt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const f=r.find(E=>E.doc.ref.isEqual(c.ref)),y=t?.payload.docs.find(E=>E.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function jk(n,e,t){return lS(n,t).pipe(js((i,r)=>function wj(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Ej(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Px(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Px(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Px(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,Wd.x)(),(0,Pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Px(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Gk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $k{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=lS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe((0,Ki.O)(void 0),_g(),(0,zn.h)(([i,r])=>r.length>0||!i),(0,Pt.U)(([i,r])=>r),ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(js((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Gk(e);return jk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return kx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ai.iC)}get(e){return(0,Re.D)(this.query.get(e)).pipe(ai.iC)}add(e){return this.ref.add(e)}doc(e){return new zk(this.ref.doc(e),this.afs)}}class zk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Kk(i,t);return new $k(r,s,this.afs)}snapshotChanges(){return function bj(n,e){return Hk(n,e).pipe((0,Ki.O)(void 0),_g(),(0,Pt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Re.D)(this.ref.get(e)).pipe(ai.iC)}}class Cj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,zn.h)(t=>t.length>0),ai.iC):lS(this.query,this.afs.schedulers.outsideAngular).pipe(ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(js((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Gk(e);return jk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return kx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),ai.iC)}get(e){return(0,Re.D)(this.query.get(e)).pipe(ai.iC)}}const Wk=new l.OlP("angularfire2.enableFirestorePersistence"),qk=new l.OlP("angularfire2.firestore.persistenceSettings"),Dj=new l.OlP("angularfire2.firestore.settings"),Tj=new l.OlP("angularfire2.firestore.use-emulator");function Kk(n,e=(t=>t)){return{query:e(n),ref:n}}let Zk=(()=>{class n{constructor(t,i,r,s,c,d,f,y,E,T,B,X,ge,Te,Ue,rt,dt){this.schedulers=f;const bt=(0,Pi.on)(t,d,i),gt=E;T&&Rx(bt,d,B,ge,Te,Ue,X,rt),[this.firestore,this.persistenceEnabled$]=(0,Pi.cc)(`${bt.name}.firestore`,"AngularFirestore",bt.name,()=>{const It=d.runOutsideAngular(()=>bt.firestore());if(s&&It.settings(s),gt&&It.useEmulator(...gt),r&&!(0,v.PM)(c)){const St=()=>{try{return(0,Re.D)(It.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(qt){return typeof console<"u"&&console.warn(qt),(0,Pe.of)(!1)}};return[It,d.runOutsideAngular(St)]}return[It,(0,Pe.of)(!1)]},[s,gt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=Kk(r,i),d=this.schedulers.ngZone.run(()=>s);return new $k(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new Cj(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new zk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pi.Dh),l.LFG(Pi.xv,8),l.LFG(Wk,8),l.LFG(Dj,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ai.HU),l.LFG(qk,8),l.LFG(Tj,8),l.LFG(ME,8),l.LFG(Sx,8),l.LFG(Ax,8),l.LFG(Mx,8),l.LFG(xx,8),l.LFG(Nx,8),l.LFG(Ox,8),l.LFG(AE,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ij=(()=>{class n{constructor(){aS.Z.registerVersion("angularfire",ai.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Wk,useValue:!0},{provide:qk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Zk]}),n})(),cS=(()=>{class n{constructor(t,i,r,s){this.afs=t,this.afAuth=i,this.router=r,this.ngZone=s,this.afAuth.authState.subscribe(c=>{c?(this.userData=c,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,i){return this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.SetUserData(r.user),this.afAuth.authState.subscribe(s=>{s&&this.router.navigate(["admin/main"])})}).catch(r=>{window.alert(r.message)})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{this.router.navigate(["admin/main"]),this.SetUserData(i.user)}).catch(i=>{window.alert(i)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["logoutview"])})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zk),l.LFG(ME),l.LFG(mi),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r_=I(4859),er=I(3238),ws=I(3353);const Sj=["*",[["mat-toolbar-row"]]],Aj=["*","mat-toolbar-row"],Mj=(0,er.pj)(class{constructor(n){this._elementRef=n}});let xj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Nj=(()=>{class n extends Mj{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ws.t4),l.Y36(v.K0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,xj,5),2&t){let s;l.iGM(s=l.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:Aj,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(Sj),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[er.BQ,er.BQ]}),n})();var Nn=I(1281),Rj=I(4742),Fx=I(3269),Yk=I(3268),kj=I(1810);function Qk(...n){const e=(0,Fx.jO)(n),{args:t,keys:i}=(0,Rj.D)(n),r=new En.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let f=c,y=c;for(let E=0;E<c;E++){let T=!1;(0,Wi.Xf)(t[E]).subscribe((0,ui.x)(s,B=>{T||(T=!0,y--),d[E]=B},()=>f--,void 0,()=>{(!f||!T)&&(y||s.next(i?(0,kj.n)(i,d):d),s.complete())}))}});return e?r.pipe((0,Yk.Z)(e)):r}class Jk{}class Xk{}class Kh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Kh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Kh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Kh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Pj{encodeKey(e){return eP(e)}encodeValue(e){return eP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Lj=/%(\d[a-f0-9])/gi,Bj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eP(n){return encodeURIComponent(n).replace(Lj,(e,t)=>Bj[t]??e)}function uS(n){return`${n}`}class kp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Fj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(c)||[];f.push(d),t.set(c,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(uS):[uS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new kp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(uS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(uS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Uj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function tP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nP(n){return typeof Blob<"u"&&n instanceof Blob}function iP(n){return typeof FormData<"u"&&n instanceof FormData}class xE{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Vj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Kh),this.context||(this.context=new Uj),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new kp,this.urlWithParams=t}serializeBody(){return null===this.body?null:tP(this.body)||nP(this.body)||iP(this.body)||function Hj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iP(this.body)?null:nP(this.body)?this.body.type||null:tP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,y=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((T,B)=>T.set(B,e.setHeaders[B]),f)),e.setParams&&(y=Object.keys(e.setParams).reduce((T,B)=>T.set(B,e.setParams[B]),y)),new xE(t,i,s,{params:y,headers:f,context:E,reportProgress:d,responseType:r,withCredentials:c})}}var us=(()=>((us=us||{})[us.Sent=0]="Sent",us[us.UploadProgress=1]="UploadProgress",us[us.ResponseHeader=2]="ResponseHeader",us[us.DownloadProgress=3]="DownloadProgress",us[us.Response=4]="Response",us[us.User=5]="User",us))();class Lx{constructor(e,t=200,i="OK"){this.headers=e.headers||new Kh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Bx extends Lx{constructor(e={}){super(e),this.type=us.ResponseHeader}clone(e={}){return new Bx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dS extends Lx{constructor(e={}){super(e),this.type=us.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dS({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class rP extends Lx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ux(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hS=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof xE)s=t;else{let f,y;f=r.headers instanceof Kh?r.headers:new Kh(r.headers),r.params&&(y=r.params instanceof kp?r.params:new kp({fromObject:r.params})),s=new xE(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=(0,Pe.of)(s).pipe(pi(f=>this.handler.handle(f)));if(t instanceof xE||"events"===r.observe)return c;const d=c.pipe((0,zn.h)(f=>f instanceof dS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Pt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Pt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Pt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,Pt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new kp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Ux(r,i))}post(t,i,r={}){return this.request("POST",t,Ux(r,i))}put(t,i,r={}){return this.request("PUT",t,Ux(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class sP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const oP=new l.OlP("HTTP_INTERCEPTORS");let jj=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Gj=/^\)\]\}',?\n/;let aP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new En.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((X,ge)=>r.setRequestHeader(X,ge.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const X=t.detectContentTypeHeader();null!==X&&r.setRequestHeader("Content-Type",X)}if(t.responseType){const X=t.responseType.toLowerCase();r.responseType="json"!==X?X:"text"}const s=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const X=r.statusText||"OK",ge=new Kh(r.getAllResponseHeaders()),Te=function $j(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new Bx({headers:ge,status:r.status,statusText:X,url:Te}),c},f=()=>{let{headers:X,status:ge,statusText:Te,url:Ue}=d(),rt=null;204!==ge&&(rt=typeof r.response>"u"?r.responseText:r.response),0===ge&&(ge=rt?200:0);let dt=ge>=200&&ge<300;if("json"===t.responseType&&"string"==typeof rt){const bt=rt;rt=rt.replace(Gj,"");try{rt=""!==rt?JSON.parse(rt):null}catch(gt){rt=bt,dt&&(dt=!1,rt={error:gt,text:rt})}}dt?(i.next(new dS({body:rt,headers:X,status:ge,statusText:Te,url:Ue||void 0})),i.complete()):i.error(new rP({error:rt,headers:X,status:ge,statusText:Te,url:Ue||void 0}))},y=X=>{const{url:ge}=d(),Te=new rP({error:X,status:r.status||0,statusText:r.statusText||"Unknown Error",url:ge||void 0});i.error(Te)};let E=!1;const T=X=>{E||(i.next(d()),E=!0);let ge={type:us.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(ge.total=X.total),"text"===t.responseType&&!!r.responseText&&(ge.partialText=r.responseText),i.next(ge)},B=X=>{let ge={type:us.UploadProgress,loaded:X.loaded};X.lengthComputable&&(ge.total=X.total),i.next(ge)};return r.addEventListener("load",f),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",T),null!==s&&r.upload&&r.upload.addEventListener("progress",B)),r.send(s),i.next({type:us.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",f),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",T),null!==s&&r.upload&&r.upload.removeEventListener("progress",B)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.JF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Vx=new l.OlP("XSRF_COOKIE_NAME"),Hx=new l.OlP("XSRF_HEADER_NAME");class lP{}let zj=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0),l.LFG(l.Lbi),l.LFG(Vx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),jx=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(lP),l.LFG(Hx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Wj=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(oP,[]);this.chain=i.reduceRight((r,s)=>new sP(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xk),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),qj=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:jx,useClass:jj}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Vx,useValue:t.cookieName}:[],t.headerName?{provide:Hx,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[jx,{provide:oP,useExisting:jx,multi:!0},{provide:lP,useClass:zj},{provide:Vx,useValue:"XSRF-TOKEN"},{provide:Hx,useValue:"X-XSRF-TOKEN"}]}),n})(),Kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hS,{provide:Jk,useClass:Wj},aP,{provide:Xk,useExisting:aP}],imports:[qj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const Zj=["*"];let fS;function NE(n){return function Yj(){if(void 0===fS&&(fS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(fS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return fS}()?.createHTML(n)||n}function cP(n){return Error(`Unable to find icon with the name "${n}"`)}function uP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class s_{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let pS=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new s_(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw dP(r);const d=NE(c);return this._addSvgIconConfig(t,i,new s_("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new s_(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw dP(i);const c=NE(s);return this._addSvgIconSetConfig(t,new s_("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw uP(t);const r=this._cachedIconsByUrl.get(i);return r?(0,Pe.of)(gS(r)):this._loadSvgIconFromConfig(new s_(t,null)).pipe((0,Wn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Pt.U)(s=>gS(s)))}getNamedSvgIcon(t,i=""){const r=hP(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Br(cP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,Pe.of)(gS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Pt.U)(i=>gS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,Pe.of)(r):Qk(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Vr(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),(0,Pe.of)(null)})))).pipe((0,Pt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw cP(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Wn.b)(i=>t.svgText=i),(0,Pt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,Pe.of)(null):this._fetchIcon(t).pipe((0,Wn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(NE("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(NE("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Qj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!c)throw uP(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const f=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,Pt.U)(y=>NE(y)),No(()=>this._inProgressUrlFetches.delete(c)),(0,h.B)());return this._inProgressUrlFetches.set(c,f),f}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(hP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return Xj(s)?new s_(s.url,null,s.options):new s_(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hS,8),l.LFG(He),l.LFG(v.K0,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gS(n){return n.cloneNode(!0)}function hP(n,e){return n+":"+e}function Xj(n){return!(!n.url||!n.options)}const e3=(0,er.pj)(class{constructor(n){this._elementRef=n}}),t3=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),n3=new l.OlP("mat-icon-location",{providedIn:"root",factory:function r3(){const n=(0,l.f3M)(v.K0),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),fP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],s3=fP.map(n=>`[${n}]`).join(", "),o3=/^url\(['"]?#(.*?)['"]?\)$/;let pP=(()=>{class n extends e3{constructor(t,i,r,s,c,d){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Di.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=(0,Nn.Ig)(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(s3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)fP.forEach(c=>{const d=i[s],f=d.getAttribute(c),y=f?f.match(o3):null;if(y){let E=r.get(d);E||(E=[],r.set(d,E)),E.push({name:c,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,hi.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(pS),l.$8M("aria-hidden"),l.Y36(n3),l.Y36(l.qLn),l.Y36(t3,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Zj,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[er.BQ,er.BQ]}),n})();var Pp=I(2693),Lr=I(9521),gP=I(4408);let Gx,l3=1;const mS={};function mP(n){return n in mS&&(delete mS[n],!0)}const c3={setImmediate(n){const e=l3++;return mS[e]=!0,Gx||(Gx=Promise.resolve()),Gx.then(()=>mP(e)&&n()),e},clearImmediate(n){mP(n)}},{setImmediate:u3,clearImmediate:d3}=c3,_S={setImmediate(...n){const{delegate:e}=_S;return(e?.setImmediate||u3)(...n)},clearImmediate(n){const{delegate:e}=_S;return(e?.clearImmediate||d3)(n)},delegate:void 0};var _P=I(7565);const $x=new class f3 extends _P.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class h3 extends gP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=_S.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(_S.clearImmediate(t),e._scheduled=void 0)}});var tr=I(2722),zx=I(5032);function yP(n,e){return e?t=>(0,Ds.z)(e.pipe((0,hi.q)(1),function p3(){return(0,$n.e)((n,e)=>{n.subscribe((0,ui.x)(e,zx.Z))})}()),t.pipe(yP(n))):(0,Si.z)((t,i)=>n(t,i).pipe((0,hi.q)(1),xc(t)))}var g3=I(3532);function yS(n=0,e,t=$u.P){let i=-1;return null!=e&&((0,g3.K)(e)?t=e:i=e),new En.y(r=>{let s=function m3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Wx(n,e=$u.z){const t=yS(n,e);return yP(()=>t)}class vP{}const Zh="*";function OE(n,e){return{type:7,name:n,definitions:e,options:{}}}function Hv(n,e=null){return{type:4,styles:e,timings:n}}function bP(n,e=null){return{type:2,steps:n,options:e}}function El(n){return{type:6,styles:n,offset:null}}function o_(n,e,t){return{type:0,name:n,styles:e,options:t}}function jv(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function wP(n){Promise.resolve().then(n)}class RE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class EP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?wP(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Kx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class y3 extends Kx{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class Zx extends Kx{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class v3 extends Kx{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class CP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof y3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Zx?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof v3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class b3 extends CP{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let w3=(()=>{class n extends CP{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(v.K0))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),DP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var a_=I(445),E3=I(1144);const C3=["addListener","removeListener"],D3=["addEventListener","removeEventListener"],T3=["on","off"];function lo(n,e,t,i){if((0,qn.m)(t)&&(i=t,t=void 0),i)return lo(n,e,t).pipe((0,Yk.Z)(i));const[r,s]=function A3(n){return(0,qn.m)(n.addEventListener)&&(0,qn.m)(n.removeEventListener)}(n)?D3.map(c=>d=>n[c](e,d,t)):function I3(n){return(0,qn.m)(n.addListener)&&(0,qn.m)(n.removeListener)}(n)?C3.map(TP(n,e)):function S3(n){return(0,qn.m)(n.on)&&(0,qn.m)(n.off)}(n)?T3.map(TP(n,e)):[];if(!r&&(0,E3.z)(n))return(0,Si.z)(c=>lo(c,e,t))((0,Wi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new En.y(c=>{const d=(...f)=>c.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function TP(n,e){return t=>i=>n[t](e,i)}const kE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=kE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Di.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=kE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=kE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class x3 extends _P.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class M3 extends gP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=kE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(kE.cancelAnimationFrame(t),e._scheduled=void 0)}});function IP(n,e=$u.z){return function O3(n){return(0,$n.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}c&&t.complete()},f=()=>{s=null,c&&t.complete()};e.subscribe((0,ui.x)(t,y=>{i=!0,r=y,s||(0,Wi.Xf)(n(y)).subscribe(s=(0,ui.x)(t,d,f))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>yS(n,e))}let k3=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Gt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new En.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(IP(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Pe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,zn.h)(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=(0,Nn.fI)(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>lo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ws.t4),l.LFG(v.K0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SP=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Gt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(IP(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ws.t4),l.LFG(l.R0b),l.LFG(v.K0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[a_.vT,Yx,a_.vT,Yx]}),n})();const MP=(0,ws.Mq)();class F3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=(0,Nn.HM)(-this._previousScrollPosition.left),e.style.top=(0,Nn.HM)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),MP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),MP&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class L3{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xP{enable(){}disable(){}attach(){}}function Qx(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function NP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class B3{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Qx(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let U3=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new xP,this.close=c=>new L3(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new F3(this._viewportRuler,this._document),this.reposition=c=>new B3(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(k3),l.LFG(SP),l.LFG(l.R0b),l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OP{constructor(e){if(this.scrollStrategy=new xP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class V3{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let RP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H3=(()=>{class n extends RP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j3=(()=>{class n extends RP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=(0,ws.sA)(s)},this._clickListener=s=>{const c=(0,ws.sA)(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let y=f.length-1;y>-1;y--){const E=f[y];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(c)||E.overlayElement.contains(d))break;const T=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(s)):T.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0),l.LFG(ws.t4),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kP=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||(0,ws.Oy)()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),(0,ws.Oy)()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0),l.LFG(ws.t4))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class G3{constructor(e,t,i,r,s,c,d,f,y,E=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=f,this._outsideClickDispatcher=y,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new Gt.x,this._attachments=new Gt.x,this._detachments=new Gt.x,this._locationChanges=Di.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Gt.x,this._outsidePointerEvents=new Gt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=(0,Nn.HM)(this._config.width),e.height=(0,Nn.HM)(this._config.height),e.minWidth=(0,Nn.HM)(this._config.minWidth),e.minHeight=(0,Nn.HM)(this._config.minHeight),e.maxWidth=(0,Nn.HM)(this._config.maxWidth),e.maxHeight=(0,Nn.HM)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=(0,Nn.Eq)(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,tr.R)((0,vd.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const PP="cdk-overlay-connected-position-bounding-box",$3=/([A-Za-z%]+)$/;class z3{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Gt.x,this._resizeSubscription=Di.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(PP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let f=this._getOriginPoint(e,r,d),y=this._getOverlayPoint(f,t,d),E=this._getOverlayFit(y,t,i,d);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(E,y,i)?s.push({position:d,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!c||c.overlayFit.visibleArea<E.visibleArea)&&(c={overlayFit:E,overlayPoint:y,originPoint:f,position:d,overlayRect:t})}if(s.length){let d=null,f=-1;for(const y of s){const E=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);E>f&&(f=E,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&l_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?c:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=LP(t);let{x:c,y:d}=e,f=this._getOffset(r,"x"),y=this._getOffset(r,"y");f&&(c+=f),y&&(d+=y);let B=0-d,X=d+s.height-i.height,ge=this._subtractOverflows(s.width,0-c,c+s.width-i.width),Te=this._subtractOverflows(s.height,B,X),Ue=ge*Te;return{visibleArea:Ue,isCompletelyWithinViewport:s.width*s.height===Ue,fitsInViewportVertically:Te===s.height,fitsInViewportHorizontally:ge==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=FP(this._overlayRef.getConfig().minHeight),d=FP(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=d&&d<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=LP(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),f=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let E=0,T=0;return E=r.width<=s.width?y||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,T=r.height<=s.height?f||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:E,y:T},{x:e.x+E,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new V3(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,d,E,T,B;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const X=Math.min(i.bottom-e.y+i.top,e.y),ge=this._lastBoundingBoxSize.height;s=2*X,c=e.y-X,s>ge&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-ge/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)B=i.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)T=e.x,E=i.right-e.x;else{const X=Math.min(i.right-e.x+i.left,e.x),ge=this._lastBoundingBoxSize.width;E=2*X,T=e.x-X,E>ge&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-ge/2)}return{top:c,left:T,bottom:d,right:B,width:E,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=(0,Nn.HM)(i.height),r.top=(0,Nn.HM)(i.top),r.bottom=(0,Nn.HM)(i.bottom),r.width=(0,Nn.HM)(i.width),r.left=(0,Nn.HM)(i.left),r.right=(0,Nn.HM)(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=(0,Nn.HM)(s)),c&&(r.maxWidth=(0,Nn.HM)(c))}this._lastBoundingBoxSize=i,l_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){l_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){l_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();l_(i,this._getExactOverlayY(t,e,E)),l_(i,this._getExactOverlayX(t,e,E))}else i.position="static";let d="",f=this._getOffset(t,"x"),y=this._getOffset(t,"y");f&&(d+=`translateX(${f}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=(0,Nn.HM)(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=(0,Nn.HM)(c.maxWidth):s&&(i.maxWidth="")),l_(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=(0,Nn.HM)(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=(0,Nn.HM)(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NP(e,i),isOriginOutsideView:Qx(e,i),isOverlayClipped:NP(t,i),isOverlayOutsideView:Qx(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&(0,Nn.Eq)(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function l_(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function FP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($3);return t&&"px"!==t?null:parseFloat(e)}return n||null}function LP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const BP="cdk-global-overlay-wrapper";class W3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(BP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,f=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),E=this._xPosition,T=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let X="",ge="",Te="";f?Te="flex-start":"center"===E?(Te="center",B?ge=T:X=T):B?"left"===E||"end"===E?(Te="flex-end",X=T):("right"===E||"start"===E)&&(Te="flex-start",ge=T):"left"===E||"start"===E?(Te="flex-start",X=T):("right"===E||"end"===E)&&(Te="flex-end",ge=T),e.position=this._cssPosition,e.marginLeft=f?"0":X,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=f?"0":ge,t.justifyContent=Te,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(BP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let q3=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new W3}flexibleConnectedTo(t){return new z3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SP),l.LFG(v.K0),l.LFG(ws.t4),l.LFG(kP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K3=0,vS=(()=>{class n{constructor(t,i,r,s,c,d,f,y,E,T,B,X){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=f,this._document=y,this._directionality=E,this._location=T,this._outsideClickDispatcher=B,this._animationsModuleType=X}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new OP(t);return c.direction=c.direction||this._directionality.value,new G3(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+K3++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new b3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U3),l.LFG(kP),l.LFG(l._Vd),l.LFG(q3),l.LFG(H3),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(v.K0),l.LFG(a_.Is),l.LFG(v.Ye),l.LFG(j3),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Q3={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[vS],useFactory:function Y3(n){return()=>n.scrollStrategies.reposition()}};let J3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vS,Q3],imports:[a_.vT,DP,AP,AP]}),n})();const X3=["mat-menu-item",""];function eG(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const UP=["*"];function tG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))})("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const bS={transformMenu:OE("transformMenu",[o_("void",El({opacity:0,transform:"scale(0.8)"})),jv("void => enter",Hv("120ms cubic-bezier(0, 0, 0.2, 1)",El({opacity:1,transform:"scale(1)"}))),jv("* => void",Hv("100ms 25ms linear",El({opacity:0})))]),fadeInItems:OE("fadeInItems",[o_("showing",El({opacity:1})),jv("void => *",[El({opacity:0}),Hv("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},nG=new l.OlP("MatMenuContent"),Jx=new l.OlP("MAT_MENU_PANEL"),iG=(0,er.Kr)((0,er.Id)(class{}));let wS=(()=>{class n extends iG{constructor(t,i,r,s,c){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new Gt.x,this._focused=new Gt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(v.K0),l.Y36(Pp.tE),l.Y36(Jx,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:X3,ngContentSelectors:UP,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,eG,2,0,"svg",1)),2&t&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[v.O5,er.wG],encapsulation:2,changeDetection:0}),n})();const VP=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function rG(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let sG=0,PE=(()=>{class n{constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=Di.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Gt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+sG++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=(0,Nn.Ig)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=(0,Nn.Ig)(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Pp.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,Ki.O)(this._directDescendantItems),en(t=>(0,vd.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,Ki.O)(this._directDescendantItems),en(i=>(0,vd.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case Lr.hY:(0,Lr.Vb)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case Lr.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case Lr.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(i===Lr.LH||i===Lr.JH)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe((0,hi.q)(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,Ki.O)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(VP),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,nG,5),l.Suo(r,wS,5),l.Suo(r,wS,4)),2&t){let s;l.iGM(s=l.CRH())&&(i.lazyContent=s.first),l.iGM(s=l.CRH())&&(i._allItems=s),l.iGM(s=l.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),oG=(()=>{class n extends PE{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(VP),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:Jx,useExisting:n}]),l.qOj],ngContentSelectors:UP,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,tG,3,6,"ng-template"))},dependencies:[v.mk],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[bS.transformMenu,bS.fadeInItems]},changeDetection:0}),n})();const HP=new l.OlP("mat-menu-scroll-strategy"),lG={provide:HP,deps:[vS],useFactory:function aG(n){return()=>n.scrollStrategies.reposition()}},jP=(0,ws.i$)({passive:!0});let cG=(()=>{class n{constructor(t,i,r,s,c,d,f,y,E){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=f,this._focusMonitor=y,this._ngZone=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Di.w0.EMPTY,this._hoverSubscription=Di.w0.EMPTY,this._menuCloseSubscription=Di.w0.EMPTY,this._handleTouchStart=T=>{(0,Pp.yG)(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof PE?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,jP),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,jP),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof PE&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,tr.R)(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof PE?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,zn.h)(r=>"void"===r.toState),(0,hi.q)(1),(0,tr.R)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new OP({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",c="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,c)):t.setPositionClasses(s,c)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[c,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[f,y]=[c,d],[E,T]=[r,s],B=0;if(this.triggersSubmenu()){if(T=r="before"===t.xPosition?"start":"end",s=E="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const X=this._parentMaterialMenu.items.first;this._parentInnerPadding=X?X._getHostElement().offsetTop:0}B="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(f="top"===c?"bottom":"top",y="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:f,overlayX:E,overlayY:c,offsetY:B},{originX:s,originY:f,overlayX:T,overlayY:c,offsetY:B},{originX:r,originY:y,overlayX:E,overlayY:d,offsetY:-B},{originX:s,originY:y,overlayX:T,overlayY:d,offsetY:-B}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Pe.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,zn.h)(c=>c!==this._menuItemInstance),(0,zn.h)(()=>this._menuOpen)):(0,Pe.of)();return(0,vd.T)(t,r,s,i)}_handleMousedown(t){(0,Pp.X6)(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(i===Lr.K5||i===Lr.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===Lr.SV&&"ltr"===this.dir||i===Lr.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,zn.h)(t=>t===this._menuItemInstance&&!t.disabled),Wx(0,$x)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof PE&&this.menu._isAnimating?this.menu._animationDone.pipe((0,hi.q)(1),Wx(0,$x),(0,tr.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Zx(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vS),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(HP),l.Y36(Jx,8),l.Y36(wS,10),l.Y36(a_.Is,8),l.Y36(Pp.tE),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),uG=(()=>{class n extends cG{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),dG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[lG],imports:[v.ez,er.BQ,er.si,J3,Yx,er.BQ]}),n})();function hG(n,e){1&n&&(l.TgZ(0,"a",14)(1,"button",15),l._uU(2,"Kirjaudu sis\xe4\xe4n"),l.qZA()())}function fG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"p",16),l._uU(2),l.qZA(),l.TgZ(3,"button",17),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.authService.SignOut())}),l._uU(4,"Kirjaudu ulos"),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.authService.userData.email)}}let pG=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(cS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-toolbar"]],decls:38,vars:3,consts:[["color","primary",1,"container",2,"background-color","#607D8B","border-bottom","0"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["routerLink","/homepage","routerLinkActive","active"],["mat-menu-item",""],["routerLink","/calculator","routerLinkActive","active"],["routerLink","/helloworld","routerLinkActive","active"],["routerLink","/feedback","routerLinkActive","active"],["routerLink","/templateddrivenform","routerLinkActive","active"],["routerLink","/reactiveform","routerLinkActive","active"],["routerLink","/finnkino","routerLinkActive","active"],[1,"toolbar-spacer"],["routerLink","/admin/login","routerLinkActive","active",4,"ngIf"],[4,"ngIf"],["routerLink","/admin/login","routerLinkActive","active"],["mat-flat-button","","color","primary"],[1,"k\xe4ytt\xe4j\xe4nimi"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(l.TgZ(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),l._uU(3,"format_align_justify"),l.qZA()(),l._uU(4," Front-end harjoitukset "),l.TgZ(5,"mat-menu",null,2)(7,"a",3)(8,"button",4)(9,"span"),l._uU(10,"Etusivu"),l.qZA()()(),l.TgZ(11,"a",5)(12,"button",4)(13,"span"),l._uU(14,"Calculator"),l.qZA()()(),l.TgZ(15,"a",6)(16,"button",4)(17,"span"),l._uU(18,"Hello World!"),l.qZA()()(),l.TgZ(19,"a",7)(20,"button",4)(21,"span"),l._uU(22,"Feedback"),l.qZA()()(),l.TgZ(23,"a",8)(24,"button",4)(25,"span"),l._uU(26,"Lomakeharjoitus 1"),l.qZA()()(),l.TgZ(27,"a",9)(28,"button",4)(29,"span"),l._uU(30,"Lomakeharjoitus 2"),l.qZA()()(),l.TgZ(31,"a",10)(32,"button",4)(33,"span"),l._uU(34,"Finnkino API"),l.qZA()()()(),l._UZ(35,"span",11),l.YNc(36,hG,3,0,"a",12),l.YNc(37,fG,5,1,"div",13),l.qZA()),2&t){const r=l.MAs(6);l.xp6(1),l.Q6J("matMenuTriggerFor",r),l.xp6(35),l.Q6J("ngIf",!i.authService.isLoggedIn),l.xp6(1),l.Q6J("ngIf",1==i.authService.isLoggedIn)}},dependencies:[v.O5,Yc,ag,r_.lW,Nj,pP,oG,wS,uG]}),n})(),gG=(()=>{class n{constructor(){this.title="AngularProjekti",this.name="Joonas"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:13,vars:0,consts:[["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css","integrity","sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS","crossorigin","anonymous"],[1,"container","banner"],["src","assets/resources/img/tempbanneripakattu.jpg"],[1,"container"],[1,"borderedDiv"]],template:function(t,i){1&t&&(l.TgZ(0,"head"),l._UZ(1,"link",0),l.qZA(),l.TgZ(2,"body")(3,"div",1),l._UZ(4,"img",2),l.qZA(),l.TgZ(5,"div"),l._UZ(6,"app-toolbar"),l.qZA(),l.TgZ(7,"div",3)(8,"div",4),l._UZ(9,"router-outlet"),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"p"),l._uU(12,"Joonas Nissinen | LAB-ammattikorkeakoulu | 2022"),l.qZA()()())},dependencies:[xu,pG]}),n})();function GP(n){return new l.vHH(3e3,!1)}function YG(){return typeof window<"u"&&typeof window.document<"u"}function Xx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Fp(n){switch(n.length){case 0:return new RE;case 1:return n[0];default:return new EP(n)}}function $P(n,e,t,i,r=new Map,s=new Map){const c=[],d=[];let f=-1,y=null;if(i.forEach(E=>{const T=E.get("offset"),B=T==f,X=B&&y||new Map;E.forEach((ge,Te)=>{let Ue=Te,rt=ge;if("offset"!==Te)switch(Ue=e.normalizePropertyName(Ue,c),rt){case"!":rt=r.get(Te);break;case Zh:rt=s.get(Te);break;default:rt=e.normalizeStyleValue(Te,Ue,rt,c)}X.set(Ue,rt)}),B||d.push(X),y=X,f=T}),c.length)throw function BG(n){return new l.vHH(3502,!1)}();return d}function eN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&tN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&tN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&tN(t,"destroy",n)))}}function tN(n,e,t){const s=nN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function nN(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Cl(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function zP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let iN=(n,e)=>!1,WP=(n,e,t)=>[],qP=null;function rN(n){const e=n.parentNode||n.host;return e===qP?null:e}(Xx()||typeof Element<"u")&&(YG()?(qP=(()=>document.documentElement)(),iN=(n,e)=>{for(;e;){if(e===n)return!0;e=rN(e)}return!1}):iN=(n,e)=>n.contains(e),WP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let c_=null,KP=!1;const ZP=iN,YP=WP;let QP=(()=>{class n{validateStyleProperty(t){return function JG(n){c_||(c_=function XG(){return typeof document<"u"?document.body:null}()||{},KP=!!c_.style&&"WebkitAppearance"in c_.style);let e=!0;return c_.style&&!function QG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in c_.style,!e&&KP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in c_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return ZP(t,i)}getParentElement(t){return rN(t)}query(t,i,r){return YP(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,d=[],f){return new RE(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),sN=(()=>{class n{}return n.NOOP=new QP,n})();const oN="ng-enter",ES="ng-leave",CS="ng-trigger",DS=".ng-trigger",XP="ng-animating",aN=".ng-animating";function Yh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lN(parseFloat(e[1]),e[2])}function lN(n,e){return"s"===e?1e3*n:n}function TS(n,e,t){return n.hasOwnProperty("duration")?n:function n$(n,e,t){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(GP()),{duration:0,delay:0,easing:""};r=lN(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=lN(parseFloat(f),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!t){let d=!1,f=e.length;r<0&&(e.push(function mG(){return new l.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function _G(){return new l.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,GP())}return{duration:r,delay:s,easing:c}}(n,e,t)}function FE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function eF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Lp(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function nF(n,e,t){return t?e+":"+t+";":""}function iF(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=nF(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nF(0,o$(t),n.style[t]));n.setAttribute("style",e)}function bd(n,e,t){n.style&&(e.forEach((i,r)=>{const s=uN(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),Xx()&&iF(n))}function u_(n,e){n.style&&(e.forEach((t,i)=>{const r=uN(i);n.style[r]=""}),Xx()&&iF(n))}function LE(n){return Array.isArray(n)?1==n.length?n[0]:bP(n):n}const cN=new RegExp("{{\\s*(.+?)\\s*}}","g");function rF(n){let e=[];if("string"==typeof n){let t;for(;t=cN.exec(n);)e.push(t[1]);cN.lastIndex=0}return e}function BE(n,e,t){const i=n.toString(),r=i.replace(cN,(s,c)=>{let d=e[c];return null==d&&(t.push(function vG(n){return new l.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function IS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const s$=/-+([a-z0-9])/g;function uN(n){return n.replace(s$,(...e)=>e[1].toUpperCase())}function o$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Dl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function bG(n){return new l.vHH(3004,!1)}()}}function sF(n,e){return window.getComputedStyle(n)[e]}function h$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function f$(n,e,t){if(":"==n[0]){const f=function p$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function kG(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function RG(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],c=i[3];e.push(oF(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(oF(c,r))}(i,t,e)):t.push(n),t}const xS=new Set(["true","1"]),NS=new Set(["false","0"]);function oF(n,e){const t=xS.has(n)||NS.has(n),i=xS.has(e)||NS.has(e);return(r,s)=>{let c="*"==n||n==r,d="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?xS.has(n):NS.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?xS.has(e):NS.has(e)),c&&d}}const g$=new RegExp("s*:selfs*,?","g");function dN(n,e,t,i){return new m$(n).build(e,t,i)}class m${constructor(e){this._driver=e}build(e,t,i){const r=new v$(t);return this._resetContextStyleTimingState(r),Dl(this,LE(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function EG(){return new l.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,y=f.name;y.toString().split(/\s*,\s*/).forEach(E=>{f.name=E,s.push(this.visitState(f,t))}),f.name=y}else if(1==d.type){const f=this.visitTransition(d,t);i+=f.queryCount,r+=f.depCount,c.push(f)}else t.errors.push(function CG(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{rF(f).forEach(y=>{c.hasOwnProperty(y)||s.add(y)})})}),s.size&&(IS(s.values()),t.errors.push(function DG(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Dl(this,LE(e.animation),t);return{type:1,matchers:h$(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:d_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Dl(this,i,t)),options:d_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const d=Dl(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:d_(e.options)}}visitAnimate(e,t){const i=function w$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return hN(TS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=hN(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=TS(t,e);return hN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:El({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=El(y)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,t);f.isEmptyStep=d,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===Zh?i.push(d):t.errors.push(new l.vHH(3002,!1)):i.push(eF(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let f of d.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,f)=>{const y=t.collectedStyles.get(t.currentQuerySelector),E=y.get(f);let T=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(t.errors.push(function IG(n,e,t,i,r){return new l.vHH(3010,!1)}()),T=!1),s=E.startTime),T&&y.set(f,{startTime:s,endTime:r}),t.options&&function r$(n,e,t){const i=e.params||{},r=rF(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function yG(n){return new l.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function SG(){return new l.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,f=!1,y=0;const E=e.steps.map(rt=>{const dt=this._makeStyleAst(rt,t);let bt=null!=dt.offset?dt.offset:function b$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(dt.styles),gt=0;return null!=bt&&(s++,gt=dt.offset=bt),f=f||gt<0||gt>1,d=d||gt<y,y=gt,c.push(gt),dt});f&&t.errors.push(function AG(){return new l.vHH(3012,!1)}()),d&&t.errors.push(function MG(){return new l.vHH(3200,!1)}());const T=e.steps.length;let B=0;s>0&&s<T?t.errors.push(function xG(){return new l.vHH(3202,!1)}()):0==s&&(B=1/(T-1));const X=T-1,ge=t.currentTime,Te=t.currentAnimateTimings,Ue=Te.duration;return E.forEach((rt,dt)=>{const bt=B>0?dt==X?1:B*dt:c[dt],gt=bt*Ue;t.currentTime=ge+Te.delay+gt,Te.duration=gt,this._validateStyleAst(rt,t),rt.offset=bt,i.styles.push(rt)}),i}visitReference(e,t){return{type:8,animation:Dl(this,LE(e.animation),t),options:d_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:d_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:d_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function _$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(g$,"")),n=n.replace(/@\*/g,DS).replace(/@\w+/g,t=>DS+"-"+t.slice(1)).replace(/:animating/g,aN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Cl(t.collectedStyles,t.currentQuerySelector,new Map);const d=Dl(this,LE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:d_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function NG(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:TS(e.timings,t.errors,!0);return{type:12,animation:Dl(this,LE(e.animation),t),timings:i,options:null}}}class v${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function d_(n){return n?(n=FE(n)).params&&(n.params=function y$(n){return n?FE(n):null}(n.params)):n={},n}function hN(n,e,t){return{duration:n,delay:e,easing:t}}function fN(n,e,t,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class OS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const D$=new RegExp(":enter","g"),I$=new RegExp(":leave","g");function pN(n,e,t,i,r,s=new Map,c=new Map,d,f,y=[]){return(new S$).buildKeyframes(n,e,t,i,r,s,c,d,f,y)}class S${buildKeyframes(e,t,i,r,s,c,d,f,y,E=[]){y=y||new OS;const T=new gN(e,t,y,r,s,E,[]);T.options=f;const B=f.delay?Yh(f.delay):0;T.currentTimeline.delayNextStep(B),T.currentTimeline.setStyles([c],null,T.errors,f),Dl(this,i,T);const X=T.timelines.filter(ge=>ge.containsAnimation());if(X.length&&d.size){let ge;for(let Te=X.length-1;Te>=0;Te--){const Ue=X[Te];if(Ue.element===t){ge=Ue;break}}ge&&!ge.allowOnlyTimelineStyles()&&ge.setStyles([d],null,T.errors,f)}return X.length?X.map(ge=>ge.buildKeyframes()):[fN(t,[],[],[],0,B,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const c="number"==typeof s?s:Yh(BE(s,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?Yh(i.duration):null,d=null!=i.delay?Yh(i.delay):null;return 0!==c&&e.forEach(f=>{const y=t.appendInstructionToTimeline(f,c,d);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Dl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=RS);const c=Yh(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Dl(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Yh(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),Dl(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return TS(t.params?BE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Yh(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=RS);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((y,E)=>{t.currentQueryIndex=E;const T=t.createSubContext(e.options,y);s&&T.delayNextStep(s),y===t.element&&(f=T.currentTimeline),Dl(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),d=c*(t.currentQueryTotal-1);let f=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const E=t.currentTimeline;f&&E.delayNextStep(f);const T=E.currentTime;Dl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-T+(r.startTime-i.currentTimeline.startTime)}}const RS={};class gN{constructor(e,t,i,r,s,c,d,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new kS(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Yh(i.duration)),null!=i.delay&&(r.delay=Yh(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=BE(s[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new gN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=RS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new A$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(D$,"."+this._enterClassName)).replace(I$,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!s&&0==d.length&&c.push(function OG(n){return new l.vHH(3014,!1)}()),d}}class kS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Zh),this._currentKeyframe.set(t,Zh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},c=function M$(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Zh)}else Lp(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,f]of c){const y=BE(f,s,i);this._pendingStyles.set(d,y),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Zh),this._updateStyle(d,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const y=Lp(d,new Map,this._backFill);y.forEach((E,T)=>{"!"===E?e.add(T):E===Zh&&t.add(T)}),i||y.set("offset",f/this.duration),r.push(y)});const s=e.size?IS(e.values()):[],c=t.size?IS(t.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return fN(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class A$ extends kS{constructor(e,t,i,r,s,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,d=t/c,f=Lp(e[0]);f.set("offset",0),s.push(f);const y=Lp(e[0]);y.set("offset",cF(d)),s.push(y);const E=e.length-1;for(let T=1;T<=E;T++){let B=Lp(e[T]);const X=B.get("offset");B.set("offset",cF((t+X*i)/c)),s.push(B)}i=c,t=0,r="",e=s}return fN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function cF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mN{}const x$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class N$ extends mN{normalizePropertyName(e,t){return uN(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(x$.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function wG(n,e){return new l.vHH(3005,!1)}())}return c+s}}function uF(n,e,t,i,r,s,c,d,f,y,E,T,B){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:f,preStyleProps:y,postStyleProps:E,totalTime:T,errors:B}}const _N={};class dF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function O$(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,c,d,f,y,E){const T=[],B=this.ast.options&&this.ast.options.params||_N,ge=this.buildStyles(i,d&&d.params||_N,T),Te=f&&f.params||_N,Ue=this.buildStyles(r,Te,T),rt=new Set,dt=new Map,bt=new Map,gt="void"===r,It={params:R$(Te,B),delay:this.ast.options?.delay},St=E?[]:pN(e,t,this.ast.animation,s,c,ge,Ue,It,y,T);let qt=0;if(St.forEach(yi=>{qt=Math.max(yi.duration+yi.delay,qt)}),T.length)return uF(t,this._triggerName,i,r,gt,ge,Ue,[],[],dt,bt,qt,T);St.forEach(yi=>{const Li=yi.element,mr=Cl(dt,Li,new Set);yi.preStyleProps.forEach(Tr=>mr.add(Tr));const uo=Cl(bt,Li,new Set);yi.postStyleProps.forEach(Tr=>uo.add(Tr)),Li!==t&&rt.add(Li)});const Tn=IS(rt.values());return uF(t,this._triggerName,i,r,gt,ge,Ue,St,Tn,dt,bt,qt)}}function R$(n,e){const t=FE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class k${constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=FE(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=BE(c,r,t));const f=this.normalizer.normalizePropertyName(d,t);c=this.normalizer.normalizeStyleValue(d,f,c,t),i.set(f,c)})}),i}}class F${constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new k$(r.style,r.options&&r.options.params||{},i))}),hF(this.states,"true","1"),hF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new dF(e,r,this.states))}),this.fallbackTransition=function L$(n,e,t){return new dF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function hF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const B$=new OS;class U${constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=dN(this._driver,t,i,[]);if(i.length)throw function UG(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=$P(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let c;const d=new Map;if(s?(c=pN(this._driver,t,s,oN,ES,new Map,new Map,i,B$,r),c.forEach(E=>{const T=Cl(d,E.element,new Map);E.postStyleProps.forEach(B=>T.set(B,null))})):(r.push(function VG(){return new l.vHH(3300,!1)}()),c=[]),r.length)throw function HG(n){return new l.vHH(3504,!1)}();d.forEach((E,T)=>{E.forEach((B,X)=>{E.set(X,this._driver.computeStyle(T,X,Zh))})});const y=Fp(c.map(E=>{const T=d.get(E.element);return this._buildPlayer(E,new Map,T)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function jG(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=nN(t,"","","");return eN(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const fF="ng-animate-queued",yN="ng-animate-disabled",$$=[],pF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},z$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bc="__ng_removed";class vN{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Z$(n){return n??null}(i?e.value:e),i){const s=FE(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const UE="void",bN=new vN(UE);class W${constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function GG(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function $G(n){return new l.vHH(3303,!1)}();if(!function Y$(n){return"start"==n||"done"==n}(i))throw function zG(n,e){return new l.vHH(3400,!1)}();const s=Cl(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const d=Cl(this._engine.statesByElement,e,new Map);return d.has(t)||(wc(e,CS),wc(e,CS+"-"+t),d.set(t,bN)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(c);f>=0&&s.splice(f,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function WG(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new wN(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(wc(e,CS),wc(e,CS+"-"+t),this._engine.statesByElement.set(e,d=new Map));let f=d.get(t);const y=new vN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&y.absorbOptions(f.options),d.set(t,y),f||(f=bN),y.value!==UE&&f.value===y.value){if(!function X$(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,y.params)){const Te=[],Ue=s.matchStyles(f.value,f.params,Te),rt=s.matchStyles(y.value,y.params,Te);Te.length?this._engine.reportError(Te):this._engine.afterFlush(()=>{u_(e,Ue),bd(e,rt)})}return}const B=Cl(this._engine.playersByElement,e,[]);B.forEach(Te=>{Te.namespaceId==this.id&&Te.triggerName==t&&Te.queued&&Te.destroy()});let X=s.matchTransition(f.value,y.value,e,y.params),ge=!1;if(!X){if(!r)return;X=s.fallbackTransition,ge=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:X,fromState:f,toState:y,player:c,isFallbackTransition:ge}),ge||(wc(e,fF),c.onStart(()=>{Gv(e,fF)})),c.onDone(()=>{let Te=this.players.indexOf(c);Te>=0&&this.players.splice(Te,1);const Ue=this._engine.playersByElement.get(e);if(Ue){let rt=Ue.indexOf(c);rt>=0&&Ue.splice(rt,1)}}),this.players.push(c),B.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,DS,!0);i.forEach(r=>{if(r[bc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const d=[];if(s.forEach((f,y)=>{if(c.set(y,f.value),this._triggers.has(y)){const E=this.trigger(e,y,UE,r);E&&d.push(E)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Fp(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const f=this._triggers.get(c).fallbackTransition,y=i.get(c)||bN,E=new vN(UE),T=new wN(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:f,fromState:y,toState:E,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[bc];(!s||s===pF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const f=nN(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,eN(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class q${constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new W$(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(t);for(;d;){const f=r.get(d);if(f){const y=i.indexOf(f);i.splice(y+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(PS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!PS(t))return;const s=t[bc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wc(e,yN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gv(e,yN))}removeNode(e,t,i,r){if(PS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[bc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return PS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,DS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,aN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[bc];if(t&&t.setForRemoval){if(e[bc]=pF,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(yN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Fp(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function qG(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new OS,r=[],s=new Map,c=[],d=new Map,f=new Map,y=new Map,E=new Set;this.disabledNodes.forEach(Vt=>{E.add(Vt);const Zt=this.driver.query(Vt,".ng-animate-queued",!0);for(let _n=0;_n<Zt.length;_n++)E.add(Zt[_n])});const T=this.bodyNode,B=Array.from(this.statesByElement.keys()),X=_F(B,this.collectedEnterElements),ge=new Map;let Te=0;X.forEach((Vt,Zt)=>{const _n=oN+Te++;ge.set(Zt,_n),Vt.forEach(Zn=>wc(Zn,_n))});const Ue=[],rt=new Set,dt=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const Zt=this.collectedLeaveElements[Vt],_n=Zt[bc];_n&&_n.setForRemoval&&(Ue.push(Zt),rt.add(Zt),_n.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(Zn=>rt.add(Zn)):dt.add(Zt))}const bt=new Map,gt=_F(B,Array.from(rt));gt.forEach((Vt,Zt)=>{const _n=ES+Te++;bt.set(Zt,_n),Vt.forEach(Zn=>wc(Zn,_n))}),e.push(()=>{X.forEach((Vt,Zt)=>{const _n=ge.get(Zt);Vt.forEach(Zn=>Gv(Zn,_n))}),gt.forEach((Vt,Zt)=>{const _n=bt.get(Zt);Vt.forEach(Zn=>Gv(Zn,_n))}),Ue.forEach(Vt=>{this.processLeaveNode(Vt)})});const It=[],St=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(t).forEach(_n=>{const Zn=_n.player,Ir=_n.element;if(It.push(Zn),this.collectedEnterElements.length){const Qr=Ir[bc];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(_n.triggerName)){const aa=Qr.previousTriggersValues.get(_n.triggerName),xo=this.statesByElement.get(_n.element);if(xo&&xo.has(_n.triggerName)){const m0=xo.get(_n.triggerName);m0.value=aa,xo.set(_n.triggerName,m0)}}return void Zn.destroy()}}const La=!T||!this.driver.containsElement(T,Ir),Cs=bt.get(Ir),xl=ge.get(Ir),Ri=this._buildInstruction(_n,i,xl,Cs,La);if(Ri.errors&&Ri.errors.length)return void St.push(Ri);if(La)return Zn.onStart(()=>u_(Ir,Ri.fromStyles)),Zn.onDestroy(()=>bd(Ir,Ri.toStyles)),void r.push(Zn);if(_n.isFallbackTransition)return Zn.onStart(()=>u_(Ir,Ri.fromStyles)),Zn.onDestroy(()=>bd(Ir,Ri.toStyles)),void r.push(Zn);const Cu=[];Ri.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||Cu.push(Qr)}),Ri.timelines=Cu,i.append(Ir,Ri.timelines),c.push({instruction:Ri,player:Zn,element:Ir}),Ri.queriedElements.forEach(Qr=>Cl(d,Qr,[]).push(Zn)),Ri.preStyleProps.forEach((Qr,aa)=>{if(Qr.size){let xo=f.get(aa);xo||f.set(aa,xo=new Set),Qr.forEach((m0,k_)=>xo.add(k_))}}),Ri.postStyleProps.forEach((Qr,aa)=>{let xo=y.get(aa);xo||y.set(aa,xo=new Set),Qr.forEach((m0,k_)=>xo.add(k_))})});if(St.length){const Vt=[];St.forEach(Zt=>{Vt.push(function KG(n,e){return new l.vHH(3505,!1)}())}),It.forEach(Zt=>Zt.destroy()),this.reportError(Vt)}const qt=new Map,Tn=new Map;c.forEach(Vt=>{const Zt=Vt.element;i.has(Zt)&&(Tn.set(Zt,Zt),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,qt))}),r.forEach(Vt=>{const Zt=Vt.element;this._getPreviousPlayers(Zt,!1,Vt.namespaceId,Vt.triggerName,null).forEach(Zn=>{Cl(qt,Zt,[]).push(Zn),Zn.destroy()})});const yi=Ue.filter(Vt=>vF(Vt,f,y)),Li=new Map;mF(Li,this.driver,dt,y,Zh).forEach(Vt=>{vF(Vt,f,y)&&yi.push(Vt)});const uo=new Map;X.forEach((Vt,Zt)=>{mF(uo,this.driver,new Set(Vt),f,"!")}),yi.forEach(Vt=>{const Zt=Li.get(Vt),_n=uo.get(Vt);Li.set(Vt,new Map([...Array.from(Zt?.entries()??[]),...Array.from(_n?.entries()??[])]))});const Tr=[],Nd=[],Od={};c.forEach(Vt=>{const{element:Zt,player:_n,instruction:Zn}=Vt;if(i.has(Zt)){if(E.has(Zt))return _n.onDestroy(()=>bd(Zt,Zn.toStyles)),_n.disabled=!0,_n.overrideTotalTime(Zn.totalTime),void r.push(_n);let Ir=Od;if(Tn.size>1){let Cs=Zt;const xl=[];for(;Cs=Cs.parentNode;){const Ri=Tn.get(Cs);if(Ri){Ir=Ri;break}xl.push(Cs)}xl.forEach(Ri=>Tn.set(Ri,Ir))}const La=this._buildAnimation(_n.namespaceId,Zn,qt,s,uo,Li);if(_n.setRealPlayer(La),Ir===Od)Tr.push(_n);else{const Cs=this.playersByElement.get(Ir);Cs&&Cs.length&&(_n.parentPlayer=Fp(Cs)),r.push(_n)}}else u_(Zt,Zn.fromStyles),_n.onDestroy(()=>bd(Zt,Zn.toStyles)),Nd.push(_n),E.has(Zt)&&r.push(_n)}),Nd.forEach(Vt=>{const Zt=s.get(Vt.element);if(Zt&&Zt.length){const _n=Fp(Zt);Vt.setRealPlayer(_n)}}),r.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<Ue.length;Vt++){const Zt=Ue[Vt],_n=Zt[bc];if(Gv(Zt,ES),_n&&_n.hasAnimation)continue;let Zn=[];if(d.size){let La=d.get(Zt);La&&La.length&&Zn.push(...La);let Cs=this.driver.query(Zt,aN,!0);for(let xl=0;xl<Cs.length;xl++){let Ri=d.get(Cs[xl]);Ri&&Ri.length&&Zn.push(...Ri)}}const Ir=Zn.filter(La=>!La.destroyed);Ir.length?Q$(this,Zt,Ir):this.processLeaveNode(Zt)}return Ue.length=0,Tr.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const Zt=this.players.indexOf(Vt);this.players.splice(Zt,1)}),Vt.play()}),Tr}elementContainsData(e,t){let i=!1;const r=t[bc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const f=!s||s==UE;d.forEach(y=>{y.queued||!f&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const y=f.element,E=y!==s,T=Cl(i,y,[]);this._getPreviousPlayers(y,E,c,d,t.toState).forEach(X=>{const ge=X.getRealPlayer();ge.beforeDestroy&&ge.beforeDestroy(),X.destroy(),T.push(X)})}u_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const d=t.triggerName,f=t.element,y=[],E=new Set,T=new Set,B=t.timelines.map(ge=>{const Te=ge.element;E.add(Te);const Ue=Te[bc];if(Ue&&Ue.removedBeforeQueried)return new RE(ge.duration,ge.delay);const rt=Te!==f,dt=function J$(n){const e=[];return yF(n,e),e}((i.get(Te)||$$).map(qt=>qt.getRealPlayer())).filter(qt=>!!qt.element&&qt.element===Te),bt=s.get(Te),gt=c.get(Te),It=$P(0,this._normalizer,0,ge.keyframes,bt,gt),St=this._buildPlayer(ge,It,dt);if(ge.subTimeline&&r&&T.add(Te),rt){const qt=new wN(e,d,Te);qt.setRealPlayer(St),y.push(qt)}return St});y.forEach(ge=>{Cl(this.playersByQueriedElement,ge.element,[]).push(ge),ge.onDone(()=>function K$(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ge.element,ge))}),E.forEach(ge=>wc(ge,XP));const X=Fp(B);return X.onDestroy(()=>{E.forEach(ge=>Gv(ge,XP)),bd(f,t.toStyles)}),T.forEach(ge=>{Cl(r,ge,[]).push(X)}),X}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new RE(e.duration,e.delay)}}class wN{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new RE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>eN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Cl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function PS(n){return n&&1===n.nodeType}function gF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function mF(n,e,t,i,r){const s=[];t.forEach(f=>s.push(gF(f)));const c=[];i.forEach((f,y)=>{const E=new Map;f.forEach(T=>{const B=e.computeStyle(y,T,r);E.set(T,B),(!B||0==B.length)&&(y[bc]=z$,c.push(y))}),n.set(y,E)});let d=0;return t.forEach(f=>gF(f,s[d++])),c}function _F(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(d){if(!d)return 1;let f=s.get(d);if(f)return f;const y=d.parentNode;return f=t.has(y)?y:r.has(y)?1:c(y),s.set(d,f),f}return e.forEach(d=>{const f=c(d);1!==f&&t.get(f).push(d)}),t}function wc(n,e){n.classList?.add(e)}function Gv(n,e){n.classList?.remove(e)}function Q$(n,e,t){Fp(t).onDone(()=>n.processLeaveNode(e))}function yF(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof EP?yF(i.players,e):e.push(i)}}function vF(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class FS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new q$(e,t,i),this._timelineEngine=new U$(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const f=[],E=dN(this._driver,s,f,[]);if(f.length)throw function LG(n,e){return new l.vHH(3404,!1)}();d=function P$(n,e,t){return new F$(n,e,t)}(r,E,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=zP(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,d]=zP(i);return this._timelineEngine.listen(c,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let t6=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&bd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bd(this._element,this._initialStyles),this._endStyles&&(bd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(u_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(u_(this._element,this._endStyles),this._endStyles=null),bd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function EN(n){let e=null;return n.forEach((t,i)=>{(function n6(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class bF{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:sF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class i6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return ZP(e,t)}getParentElement(e){return rN(e)}query(e,t,i){return YP(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const y=new Map,E=c.filter(X=>X instanceof bF);(function a$(n,e){return 0===n||0===e})(i,r)&&E.forEach(X=>{X.currentSnapshot.forEach((ge,Te)=>y.set(Te,ge))});let T=function i$(n){return n.length?n[0]instanceof Map?n:n.map(e=>eF(e)):[]}(t).map(X=>Lp(X));T=function l$(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(d=>c.set(d,sF(n,d)))}}return e}(e,T,y);const B=function e6(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=EN(e[0]),e.length>1&&(i=EN(e[e.length-1]))):e instanceof Map&&(t=EN(e)),t||i?new t6(n,t,i):null}(e,T);return new bF(e,T,f,B)}}let r6=(()=>{class n extends vP{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?bP(t):t;return wF(this._renderer,null,i,"register",[r]),new s6(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class s6 extends class _3{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new o6(this._id,e,t||{},this._renderer)}}class o6{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wF(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const EF="@.disabled";let a6=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new CF("",s,this.engine),this._rendererCache.set(s,E)),E}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=E=>{Array.isArray(E)?E.forEach(f):this.engine.registerTrigger(c,d,t,E.name,E)};return i.data.animation.forEach(f),new l6(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(FS),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class CF{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==EF?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class l6 extends CF{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==EF?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function c6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function u6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let d6=(()=>{class n extends FS{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0),l.LFG(sN),l.LFG(mN),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const DF=[{provide:vP,useClass:r6},{provide:mN,useFactory:function h6(){return new N$}},{provide:FS,useClass:d6},{provide:l.FYo,useFactory:function f6(n,e,t){return new a6(n,e,t)},deps:[Se,FS,l.R0b]}],CN=[{provide:sN,useFactory:()=>new i6},{provide:l.QbO,useValue:"BrowserAnimations"},...DF],TF=[{provide:sN,useClass:QP},{provide:l.QbO,useValue:"NoopAnimations"},...DF];let p6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?TF:CN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:CN,imports:[Ke]}),n})();var g6=I(6969);let IF=(()=>{class n{constructor(){}getQuestions(){return[{Kysymys:"Kysymys 1"},{Kysymys:"Kysymys 2"},{Kysymys:"Kysymys 3"},{Kysymys:"Kysymys 4"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SF=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),h_=(()=>{class n extends SF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const pu=new l.OlP("NgValueAccessor"),m6={provide:pu,useExisting:(0,l.Gpc)(()=>BS),multi:!0};let BS=(()=>{class n extends h_{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[l._Bn([m6]),l.qOj]}),n})();const _6={provide:pu,useExisting:(0,l.Gpc)(()=>Bp),multi:!0},v6=new l.OlP("CompositionEventMode");let Bp=(()=>{class n extends SF{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function y6(){const n=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(v6,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([_6]),l.qOj]}),n})();function Up(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function AF(n){return null!=n&&"number"==typeof n.length}const So=new l.OlP("NgValidators"),Vp=new l.OlP("NgAsyncValidators"),w6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yr{static min(e){return function MF(n){return e=>{if(Up(e.value)||Up(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function xF(n){return e=>{if(Up(e.value)||Up(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return NF(e)}static requiredTrue(e){return OF(e)}static email(e){return function RF(n){return Up(n.value)||w6.test(n.value)?null:{email:!0}}(e)}static minLength(e){return kF(e)}static maxLength(e){return function PF(n){return e=>AF(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return FF(e)}static nullValidator(e){return null}static compose(e){return jF(e)}static composeAsync(e){return GF(e)}}function NF(n){return Up(n.value)?{required:!0}:null}function OF(n){return!0===n.value?null:{required:!0}}function kF(n){return e=>Up(e.value)||!AF(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function FF(n){if(!n)return US;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Up(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function US(n){return null}function LF(n){return null!=n}function BF(n){return(0,l.QGY)(n)?(0,Re.D)(n):n}function UF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function VF(n,e){return e.map(t=>t(n))}function HF(n){return n.map(e=>function E6(n){return!n.validate}(e)?e:t=>e.validate(t))}function jF(n){if(!n)return null;const e=n.filter(LF);return 0==e.length?null:function(t){return UF(VF(t,e))}}function DN(n){return null!=n?jF(HF(n)):null}function GF(n){if(!n)return null;const e=n.filter(LF);return 0==e.length?null:function(t){return Qk(VF(t,e).map(BF)).pipe((0,Pt.U)(UF))}}function TN(n){return null!=n?GF(HF(n)):null}function $F(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zF(n){return n._rawValidators}function WF(n){return n._rawAsyncValidators}function IN(n){return n?Array.isArray(n)?n:[n]:[]}function VS(n,e){return Array.isArray(n)?n.includes(e):n===e}function qF(n,e){const t=IN(e);return IN(n).forEach(r=>{VS(t,r)||t.push(r)}),t}function KF(n,e){return IN(e).filter(t=>!VS(n,t))}class ZF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class na extends ZF{get formDirective(){return null}get path(){return null}}class Qh extends ZF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $v=(()=>{class n extends YF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Qh,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),HS=(()=>{class n extends YF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(na,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const VE="VALID",GS="INVALID",zv="PENDING",HE="DISABLED";function xN(n){return($S(n)?n.validators:n)||null}function JF(n){return Array.isArray(n)?DN(n):n||null}function NN(n,e){return($S(e)?e.asyncValidators:n)||null}function XF(n){return Array.isArray(n)?TN(n):n||null}function $S(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=JF(this._rawValidators),this._composedAsyncValidatorFn=XF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===VE}get invalid(){return this.status===GS}get pending(){return this.status==zv}get disabled(){return this.status===HE}get enabled(){return this.status!==HE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=JF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=XF(e)}addValidators(e){this.setValidators(qF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KF(e,this._rawAsyncValidators))}hasValidator(e){return VS(this._rawValidators,e)}hasAsyncValidator(e){return VS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=HE,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=VE,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===VE||this.status===zv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?HE:VE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zv,this._hasOwnPendingAsyncValidator=!0;const t=BF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?HE:this.errors?GS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zv)?zv:this._anyControlsHaveStatus(GS)?GS:VE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$S(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class jE extends nL{constructor(e,t,i){super(xN(t),NN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function tL(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function eL(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function zS(n,e){return[...e.path,n]}function GE(n,e){ON(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function N6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iL(n,e)})}(n,e),function R6(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function O6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function x6(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function WS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),KS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ON(n,e){const t=zF(n);null!==e.validator?n.setValidators($F(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=WF(n);null!==e.asyncValidator?n.setAsyncValidators($F(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();qS(e._rawValidators,r),qS(e._rawAsyncValidators,r)}function KS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=zF(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=WF(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return qS(e._rawValidators,i),qS(e._rawAsyncValidators,i),t}function iL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rL(n,e){ON(n,e)}function RN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function oL(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function kN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Bp?t=s:function F6(n){return Object.getPrototypeOf(n.constructor)===h_}(s)?i=s:r=s}),r||i||t||null}const B6={provide:na,useExisting:(0,l.Gpc)(()=>zE)},$E=(()=>Promise.resolve())();let zE=(()=>{class n extends na{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new jE({},DN(t),TN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$E.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),GE(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$E.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$E.then(()=>{const i=this._findContainer(t.path),r=new jE({});rL(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$E.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){$E.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,oL(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(So,10),l.Y36(Vp,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([B6]),l.qOj]}),n})();function aL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function lL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ec=class extends nL{constructor(e=null,t,i){super(xN(t),NN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$S(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},H6={provide:Qh,useExisting:(0,l.Gpc)(()=>WE)},dL=(()=>Promise.resolve())();let WE=(()=>{class n extends Qh{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new Ec,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=kN(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),RN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){GE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);dL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?zS(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(na,9),l.Y36(So,10),l.Y36(Vp,10),l.Y36(pu,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([H6]),l.qOj,l.TTD]}),n})(),ZS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const PN=new l.OlP("NgModelWithFormControlWarning"),q6={provide:na,useExisting:(0,l.Gpc)(()=>Wv)};let Wv=(()=>{class n extends na{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(KS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return GE(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){WS(t.control||null,t,!1),function L6(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,oL(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(WS(i||null,t),(n=>n instanceof Ec)(r)&&(GE(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);rL(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function k6(n,e){return KS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ON(this.form,this),this._oldForm&&KS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(So,10),l.Y36(Vp,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([q6]),l.qOj,l.TTD]}),n})();const Y6={provide:Qh,useExisting:(0,l.Gpc)(()=>YS)};let YS=(()=>{class n extends Qh{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=kN(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),RN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return zS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(na,13),l.Y36(So,10),l.Y36(Vp,10),l.Y36(pu,10),l.Y36(PN,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Y6]),l.qOj,l.TTD]}),n})();let f_=(()=>{class n{constructor(){this._validator=US}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):US,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const s8={provide:So,useExisting:(0,l.Gpc)(()=>QS),multi:!0},o8={provide:So,useExisting:(0,l.Gpc)(()=>JS),multi:!0};let QS=(()=>{class n extends f_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>NF}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([s8]),l.qOj]}),n})(),JS=(()=>{class n extends QS{constructor(){super(...arguments),this.createValidator=t=>OF}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},features:[l._Bn([o8]),l.qOj]}),n})();const l8={provide:So,useExisting:(0,l.Gpc)(()=>VN),multi:!0};let VN=(()=>{class n extends f_{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function bL(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>kF(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([l8]),l.qOj]}),n})();const u8={provide:So,useExisting:(0,l.Gpc)(()=>XS),multi:!0};let XS=(()=>{class n extends f_{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>FF(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([u8]),l.qOj]}),n})(),IL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fL]}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[IL]}),n})(),d8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:PN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[IL]}),n})();const f8=["sliderWrapper"],Cc=(0,ws.i$)({passive:!1}),y8={provide:pu,useExisting:(0,l.Gpc)(()=>AL),multi:!0};class v8{}const b8=(0,er.sb)((0,er.pj)((0,er.Id)(class{constructor(n){this._elementRef=n}}),"accent"));let AL=(()=>{class n extends b8{constructor(t,i,r,s,c,d,f,y){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this._dir=s,this._ngZone=d,this._animationMode=y,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new l.vpe,this.input=new l.vpe,this.valueChange=new l.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Di.w0.EMPTY,this._pointerDown=E=>{this.disabled||this._isSliding||!qE(E)&&0!==E.button||this._ngZone.run(()=>{this._touchId=qE(E)?function w8(n,e){for(let t=0;t<n.touches.length;t++){const i=n.touches[t].target;if(e===i||e.contains(i))return n.touches[t].identifier}}(E,this._elementRef.nativeElement):void 0;const T=xL(E,this._touchId);if(T){const B=this.value;this._isSliding="pointer",this._lastPointerEvent=E,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(E),this._focusHostElement(),this._updateValueFromPosition(T),this._valueOnSlideStart=B,E.cancelable&&E.preventDefault(),B!=this.value&&this._emitInputEvent()}})},this._pointerMove=E=>{if("pointer"===this._isSliding){const T=xL(E,this._touchId);if(T){E.cancelable&&E.preventDefault();const B=this.value;this._lastPointerEvent=E,this._updateValueFromPosition(T),B!=this.value&&this._emitInputEvent()}}},this._pointerUp=E=>{"pointer"===this._isSliding&&(!qE(E)||"number"!=typeof this._touchId||HN(E.changedTouches,this._touchId))&&(E.cancelable&&E.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=f,this.tabIndex=parseInt(c)||0,d.runOutsideAngular(()=>{const E=t.nativeElement;E.addEventListener("mousedown",this._pointerDown,Cc),E.addEventListener("touchstart",this._pointerDown,Cc)})}get invert(){return this._invert}set invert(t){this._invert=(0,Nn.Ig)(t)}get max(){return this._max}set max(t){this._max=(0,Nn.su)(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=(0,Nn.su)(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=(0,Nn.su)(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=(0,Nn.Ig)(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?(0,Nn.su)(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let i=(0,Nn.su)(t,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,Nn.Ig)(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const t=this.percent,r=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,d={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const f=this._shouldInvertAxis();let y;y=this.vertical?f?"Bottom":"Top":f?"Right":"Left",d[`padding${y}`]=`${this._getThumbGap()}px`}return d}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,Cc),t.removeEventListener("touchstart",this._pointerDown,Cc),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||(0,Lr.Vb)(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(t.keyCode){case Lr.Ku:this._increment(10);break;case Lr.VM:this._increment(-10);break;case Lr.uR:this.value=this.max;break;case Lr.Sd:this.value=this.min;break;case Lr.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case Lr.LH:this._increment(1);break;case Lr.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case Lr.JH:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const i=this._document,r=qE(t),c=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,Cc),i.addEventListener(c,this._pointerUp,Cc),r&&i.addEventListener("touchcancel",this._pointerUp,Cc);const d=this._getWindow();typeof d<"u"&&d&&d.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,Cc),t.removeEventListener("mouseup",this._pointerUp,Cc),t.removeEventListener("touchmove",this._pointerMove,Cc),t.removeEventListener("touchend",this._pointerUp,Cc),t.removeEventListener("touchcancel",this._pointerUp,Cc);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(t){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let c=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(c=1-c),0===c)this.value=this.min;else if(1===c)this.value=this.max;else{const d=this._calculateValue(c),f=Math.round((d-this.min)/this.step)*this.step+this.min;this.value=this._clamp(f,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let t;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;t=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else t=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=ML(t)?t:0}_createChangeEvent(t=this.value){let i=new v8;return i.source=this,i.value=t,i}_calculatePercentage(t){const i=((t||0)-this.min)/(this.max-this.min);return ML(i)?i:0}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,i=0,r=1){return Math.max(i,Math.min(t,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Pp.tE),l.Y36(l.sBO),l.Y36(a_.Is,8),l.$8M("tabindex"),l.Y36(l.R0b),l.Y36(v.K0),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-slider"]],viewQuery:function(t,i){if(1&t&&l.Gf(f8,5),2&t){let r;l.iGM(r=l.CRH())&&(i._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&t&&(l.Ikx("tabIndex",i.tabIndex),l.uIk("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",i.valueText??i.displayValue)("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[l._Bn([y8]),l.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0,1)(2,"div",2),l._UZ(3,"div",3)(4,"div",4),l.qZA(),l.TgZ(5,"div",5),l._UZ(6,"div",6),l.qZA(),l.TgZ(7,"div",7),l._UZ(8,"div",8)(9,"div",9),l.TgZ(10,"div",10)(11,"span",11),l._uU(12),l.qZA()()()()),2&t&&(l.xp6(3),l.Q6J("ngStyle",i._getTrackBackgroundStyles()),l.xp6(1),l.Q6J("ngStyle",i._getTrackFillStyles()),l.xp6(1),l.Q6J("ngStyle",i._getTicksContainerStyles()),l.xp6(1),l.Q6J("ngStyle",i._getTicksStyles()),l.xp6(1),l.Q6J("ngStyle",i._getThumbContainerStyles()),l.xp6(5),l.Oqu(i.displayValue))},dependencies:[v.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),n})();function ML(n){return!isNaN(n)&&isFinite(n)}function qE(n){return"t"===n.type[0]}function xL(n,e){let t;return t=qE(n)?"number"==typeof e?HN(n.touches,e)||HN(n.changedTouches,e):n.touches[0]||n.changedTouches[0]:n,t?{x:t.clientX,y:t.clientY}:void 0}function HN(n,e){for(let t=0;t<n.length;t++)if(n[t].identifier===e)return n[t]}let E8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez,er.BQ,er.BQ]}),n})();function C8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"p"),l._uU(2),l.qZA(),l.TgZ(3,"mat-slider",1),l.NdJ("input",function(r){const c=l.CHM(t).$implicit,d=l.oxw();return l.KtG(d.onInputChange(r,c.Kysymys))}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.Kysymys)}}let D8=(()=>{class n{constructor(t){this._questionService=t,this.questions=[]}onInputChange(t,i){console.log(i+" Vastaus: "+t.value)}ngOnInit(){this.questions=this._questionService.getQuestions()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(IF))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-feedback"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],["min","1","max","5","step","1","value","3",3,"input"]],template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"feedback works!"),l.qZA(),l.YNc(2,C8,4,1,"div",0)),2&t&&(l.xp6(2),l.Q6J("ngForOf",i.questions))},dependencies:[v.sg,AL]}),n})(),T8=(()=>{class n{constructor(){this.title="Hello world",this.itemImageUrl="https://material.angularjs.org/1.1.0/img/icons/angular-logo.svg",this.teksti="Otsikko"}onButtonClicked(){this.itemImageUrl="https://material.angularjs.org/1.1.0/img/icons/angular-logo.svg"==this.itemImageUrl?"https://rapidapi.com/blog/wp-content/uploads/2018/06/logo-2582748_640.png":"https://material.angularjs.org/1.1.0/img/icons/angular-logo.svg"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-helloworld"]],decls:13,vars:4,consts:[["alt","kuva",1,"img","centered","smallimg",3,"src"],["mat-flat-button","","color","primary",3,"click"],[3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1),l.qZA(),l.TgZ(2,"h1"),l._uU(3),l.qZA(),l._UZ(4,"img",0)(5,"br"),l.TgZ(6,"button",1),l.NdJ("click",function(){return i.onButtonClicked()}),l._uU(7,"Vaihda kuva"),l.qZA(),l._UZ(8,"br")(9,"br"),l._uU(10,"\nMuuta otsikko:\n"),l._UZ(11,"br"),l.TgZ(12,"input",2),l.NdJ("ngModelChange",function(s){return i.teksti=s}),l.qZA()),2&t&&(l.xp6(1),l.hij("",i.title," works!"),l.xp6(2),l.Oqu(i.teksti),l.xp6(1),l.Q6J("src",i.itemImageUrl,l.LSH),l.xp6(8),l.Q6J("ngModel",i.teksti))},dependencies:[r_.lW,Bp,$v,WE]}),n})();const{isArray:I8}=Array;function NL(n){return 1===n.length&&I8(n[0])?n[0]:n}function e1(...n){const e=(0,Fx.jO)(n),t=NL(n);return t.length?new En.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<t.length;c++)(0,Wi.Xf)(t[c]).subscribe((0,ui.x)(i,d=>{if(r[c].push(d),r.every(f=>f.length)){const f=r.map(y=>y.shift());i.next(e?e(...f):f),r.some((y,E)=>!y.length&&s[E])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):Sr.E}function t1(...n){const e=(0,Fx.jO)(n);return(0,$n.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,Wi.Xf)(n[f]).subscribe((0,ui.x)(i,y=>{s[f]=y,!d&&!c[f]&&(c[f]=!0,(d=c.every(gi.y))&&(c=null))},zx.Z));t.subscribe((0,ui.x)(i,f=>{if(d){const y=[f,...s];i.next(e?e(...y):y)}}))})}new En.y(zx.Z),I(5684),Math,Math,Math;const Vz=["*"],r4=["dialog"];function XN(n){return"string"==typeof n}function m_(n){return null!=n}function Qv(n){return(n||document.body).getBoundingClientRect()}const QL={animation:!0,transitionTimerDelayMs:5},J4=()=>{},{transitionTimerDelayMs:X4}=QL,eC=new Map,ia=(n,e,t,i)=>{let r=i.context||{};const s=eC.get(e);if(s)switch(i.runningTransition){case"continue":return Sr.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),eC.delete(e)}const c=t(e,i.animation,r)||J4;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),(0,Pe.of)(void 0).pipe(function Y4(n){return e=>new En.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const d=new Gt.x,f=new Gt.x,y=d.pipe(function A8(...n){return e=>(0,Ds.z)(e,(0,Pe.of)(...n))}(!0));eC.set(e,{transition$:d,complete:()=>{f.next(),f.complete()},context:r});const E=function Q4(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const T=lo(e,"transitionend").pipe((0,tr.R)(y),(0,zn.h)(({target:X})=>X===e));(function OL(...n){return 1===(n=NL(n)).length?(0,Wi.Xf)(n[0]):new En.y(function S8(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Wi.Xf)(n[i]).subscribe((0,ui.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(yS(E+X4).pipe((0,tr.R)(y)),T,f).pipe((0,tr.R)(y)).subscribe(()=>{eC.delete(e),n.run(()=>{c(),d.next(),d.complete()})})}),d.asObservable()};let l1=(()=>{class n{constructor(){this.animation=QL.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Es=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Es||(Es={})),Es))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const d2=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function h2(n){const e=Array.from(n.querySelectorAll(d2)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez,SL]}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class b_{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let jW=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,hi.q)(1)).subscribe(()=>{ia(this._zone,this._el.nativeElement,(t,i)=>{i&&Qv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ia(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class T2{close(e){}dismiss(e){}}class GW{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Gt.x,this._dismissed=new Gt.x,this._hidden=new Gt.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,tr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,tr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function YL(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Pe.of)(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),e1(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var rC=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(rC||(rC={})),rC))();let $W=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Gt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Gt.x,this.hidden=new Gt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":XN(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,hi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=e1(ia(this._zone,t,()=>t.classList.remove("show"),i),ia(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};e1(ia(this._zone,this._elRef.nativeElement,(s,c)=>{c&&Qv(s),s.classList.add("show")},t),ia(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{lo(t,"keydown").pipe((0,tr.R)(this._closed$),(0,zn.h)(r=>r.which===Es.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(rC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;lo(this._dialogEl.nativeElement,"mousedown").pipe((0,tr.R)(this._closed$),(0,Wn.b)(()=>i=!1),en(()=>lo(t,"mouseup").pipe((0,tr.R)(this._closed$),(0,hi.q)(1))),(0,zn.h)(({target:r})=>t===r)).subscribe(()=>{i=!0}),lo(t,"click").pipe((0,tr.R)(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(rC.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=h2(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ia(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(v.K0),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(r4,7),2&t){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Vz,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),zW=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:c}=r;if(t>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${d+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WW=(()=>{class n{constructor(t,i,r,s,c,d){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=c,this._ngZone=d,this._activeWindowCmptHasChanged=new Gt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=lo(e,"focusin").pipe((0,tr.R)(t),(0,Pt.U)(s=>s.target));lo(e,"keydown").pipe((0,tr.R)(t),(0,zn.h)(s=>s.which===Es.Tab),t1(r)).subscribe(([s,c])=>{const[d,f]=h2(e);(c===d||c===e)&&s.shiftKey&&(f.focus(),s.preventDefault()),c===f&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&lo(e,"click").pipe((0,tr.R)(t),t1(r),(0,Pt.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:m_(r.container)?this._document.querySelector(r.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new T2,f=this._getContentRef(r.injector||t,i,d,r);let y=!1!==r.backdrop?this._attachBackdrop(s):void 0,E=this._attachWindowComponent(s,f.nodes),T=new GW(E,f,y,r.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(E),T.hidden.pipe((0,hi.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=B=>{T.close(B)},d.dismiss=B=>{T.dismiss(B)},this._applyWindowOptions(E.instance,r),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),y&&y.instance&&(this._applyBackdropOptions(y.instance,r),y.changeDetectorRef.detectChanges()),E.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,l.LMc)(jW,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,l.LMc)($W,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{m_(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{m_(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,r):XN(i)?this._createFromString(i):this._createFromComponent(t,i,r,s):new b_([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new b_([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new b_([[i]])}_createFromComponent(t,i,r,s){const c=l.zs3.create({providers:[{provide:T2,useValue:r}],parent:t}),d=(0,l.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:c}),f=d.location.nativeElement;return s.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new b_([[f]],d.hostView,d)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(v.K0),l.LFG(zW),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qW=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KW=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(WW),l.LFG(qW))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KW]}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),V2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),H2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),G2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),$2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),z2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function l5(){return 100}});let W2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez]}),n})(),q2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const c5=[r2,s2,l2,c2,b2,D2,I2,x2,q2,B2,V2,H2,j2,G2,$2,z2,W2];let u5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[c5,r2,s2,l2,c2,b2,D2,I2,x2,q2,B2,V2,H2,j2,G2,$2,z2,W2]}),n})();var d5=I(782);class h5{constructor(){}}var K2=I(8372);let Z2=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f5=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=(0,Nn.fI)(t);return new En.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Gt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Z2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p5=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,Nn.Ig)(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=(0,Nn.su)(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,K2.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(f5),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Z2]}),n})();const m5=["connectionContainer"],_5=["inputContainer"],y5=["label"];function v5(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function b5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function w5(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function E5(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function C5(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function D5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,w5,4,1,"ng-container",12),l.YNc(3,E5,1,0,"ng-content",12),l.YNc(4,C5,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function T5(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function I5(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function S5(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function A5(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function M5(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,A5,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const x5=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],N5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let O5=0;const Y2=new l.OlP("MatError");let cO=(()=>{class n{constructor(t,i){this.id="mat-error-"+O5++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:Y2,useExisting:n}])]}),n})();const R5={transitionMessages:OE("transitionMessages",[o_("enter",El({opacity:1,transform:"translateY(0%)"})),jv("void => enter",[El({opacity:0,transform:"translateY(-5px)"}),Hv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let uO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const k5=new l.OlP("MatHint");let m1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),P5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const F5=new l.OlP("MatPrefix"),Q2=new l.OlP("MatSuffix");let L5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:Q2,useExisting:n}])]}),n})(),J2=0;const U5=(0,er.pj)(class{constructor(n){this._elementRef=n}},"primary"),V5=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),eB=new l.OlP("MatFormField");let _1=(()=>{class n extends U5{constructor(t,i,r,s,c,d,f){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Gt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+J2++,this._labelId="mat-form-field-label-"+J2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=(0,Nn.Ig)(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe((0,Ki.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,tr.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,tr.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,vd.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Ki.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Ki.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,tr.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,lo(this._label.nativeElement,"transitionend").pipe((0,hi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const E=i.querySelectorAll(`${r}, ${s}`);for(let T=0;T<E.length;T++)E[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const f=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const E=i.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(E),B=t.children,X=this._getStartEnd(B[0].getBoundingClientRect());let ge=0;for(let Te=0;Te<B.length;Te++)ge+=B[Te].offsetWidth;c=Math.abs(X-T)-5,d=ge>0?.75*ge+10:0}for(let E=0;E<f.length;E++)f[E].style.width=`${c}px`;for(let E=0;E<y.length;E++)y[E].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(a_.Is,8),l.Y36(V5,8),l.Y36(ws.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,uO,5),l.Suo(r,uO,7),l.Suo(r,m1,5),l.Suo(r,m1,7),l.Suo(r,P5,5),l.Suo(r,Y2,5),l.Suo(r,k5,5),l.Suo(r,F5,5),l.Suo(r,Q2,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(m5,7),l.Gf(_5,5),l.Gf(y5,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:eB,useExisting:n}]),l.qOj],ngContentSelectors:N5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(x5),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,v5,9,0,"ng-container",3),l.YNc(4,b5,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,D5,5,16,"label",8),l.qZA()(),l.YNc(10,T5,2,0,"div",9),l.qZA(),l.YNc(11,I5,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,S5,2,1,"div",12),l.YNc(14,M5,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[v.O5,v.RF,v.n9,p5],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[R5.transitionMessages]},changeDetection:0}),n})(),dO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez,er.BQ,g5,er.BQ]}),n})();const tB=(0,ws.i$)({passive:!0});let H5=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Sr.E;const i=(0,Nn.fI)(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Gt.x,c="cdk-text-field-autofilled",d=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,tB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,tB)}}),s}stopMonitoring(t){const i=(0,Nn.fI)(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ws.t4),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const j5=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),G5=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $5=0;const z5=(0,er.FD)(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Gt.x}});let y1=(()=>{class n extends z5{constructor(t,i,r,s,c,d,f,y,E,T){super(d,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=T,this._uid="mat-input-"+$5++,this.focused=!1,this.stateChanges=new Gt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ge=>(0,ws.qK)().has(ge)),this._iOSKeyupListener=ge=>{const Te=ge.target;!Te.value&&0===Te.selectionStart&&0===Te.selectionEnd&&(Te.setSelectionRange(1,1),Te.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,X=B.nodeName.toLowerCase();this._inputValueAccessor=f||B,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===X,this._isTextarea="textarea"===X,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,Nn.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Yr.required)??!1}set required(t){this._required=(0,Nn.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,ws.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,Nn.Ig)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){G5.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ws.t4),l.Y36(Qh,10),l.Y36(zE,8),l.Y36(Wv,8),l.Y36(er.rD),l.Y36(j5,10),l.Y36(H5),l.Y36(l.R0b),l.Y36(eB,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:uO,useExisting:n}]),l.qOj,l.TTD]}),n})(),W5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[er.rD],imports:[nB,dO,er.BQ,nB,dO]}),n})();function q5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your first name"),l.qZA())}function K5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 2 characters required"),l.qZA())}function Z5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Must be a valid name, only letters allowed"),l.qZA())}function Y5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your first name"),l.qZA())}function Q5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 2 characters required"),l.qZA())}function J5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Must be a valid name, only letters allowed"),l.qZA())}function X5(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your username"),l.qZA())}function eq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 2 characters required"),l.qZA())}function tq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Only letters allowed"),l.qZA())}function nq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"ID is required"),l.qZA())}function iq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Personal ID is not valid"),l.qZA())}function rq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Email needs to be valid"),l.qZA())}function sq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Password is required"),l.qZA())}function oq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 10 characters required"),l.qZA())}function aq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Password needs to have at least one upper case letter, a lower case letter and a number"),l.qZA())}function lq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Password validation is required"),l.qZA())}function cq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Passwords need to match"),l.qZA())}function uq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"You need to accept terms and conditions"),l.qZA())}let dq=(()=>{class n{constructor(){this.testPerson=new h5}onSubmit(t){console.log(this.testPerson)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-templatedrivenform"]],decls:73,vars:28,consts:[[3,"ngSubmit"],["regForm","ngForm"],["matInput","","appearance","fill","name","first","required","","minlength","2","pattern","^[a-zA-Z ]*$",3,"ngModel","ngModelChange"],["fname","ngModel"],[4,"ngIf"],["matInput","","appearance","fill","name","last","required","","minlength","2","pattern","^[a-zA-Z ]*$",3,"ngModel","ngModelChange"],["lname","ngModel"],["matInput","","appearance","fill","name","user","required","","minlength","2","pattern","^[a-zA-Z ]*$",3,"ngModel","ngModelChange"],["uname","ngModel"],["matInput","","appearance","fill","name","id","pattern","^(0[1-9]|[12]\\d|3[01])(0[1-9]|1[0-2])([5-9]\\d\\+|\\d\\d-|[01]\\dA)\\d{3}[\\dA-Z]$","required","",3,"ngModel","ngModelChange"],["personalId","ngModel"],["matInput","","appearance","fill","name","email","required","","pattern","^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$",3,"ngModel","ngModelChange"],["email","ngModel"],["matInput","","type","password","appearance","fill","name","password","required","","minlength","10","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d\\w\\W]*",3,"ngModel","ngModelChange"],["password1","ngModel"],["matInput","","type","password","appearance","fill","ngModel","","name","password2","required","",3,"pattern"],["password2","ngModel"],["type","checkbox","required","","name","checkbox1",3,"ngModel","ngModelChange"],["checkbox1","ngModel"],["mat-flat-button","","color","primary",3,"disabled"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"p"),l._uU(1,"templatedrivenform works!"),l.qZA(),l.TgZ(2,"div")(3,"h1"),l._uU(4,"Registration form"),l.qZA(),l.TgZ(5,"form",0,1),l.NdJ("ngSubmit",function(){l.CHM(r);const c=l.MAs(6);return l.KtG(i.onSubmit(c))}),l.TgZ(7,"mat-form-field")(8,"mat-label"),l._uU(9,"First Name"),l.qZA(),l.TgZ(10,"input",2,3),l.NdJ("ngModelChange",function(c){return i.testPerson.firstName=c}),l.qZA(),l.YNc(12,q5,2,0,"mat-error",4),l.YNc(13,K5,2,0,"mat-error",4),l.YNc(14,Z5,2,0,"mat-error",4),l.qZA(),l._UZ(15,"br"),l.TgZ(16,"mat-form-field")(17,"mat-label"),l._uU(18,"Last Name"),l.qZA(),l.TgZ(19,"input",5,6),l.NdJ("ngModelChange",function(c){return i.testPerson.lastName=c}),l.qZA(),l.YNc(21,Y5,2,0,"mat-error",4),l.YNc(22,Q5,2,0,"mat-error",4),l.YNc(23,J5,2,0,"mat-error",4),l.qZA(),l._UZ(24,"br"),l.TgZ(25,"mat-form-field")(26,"mat-label"),l._uU(27,"Username"),l.qZA(),l.TgZ(28,"input",7,8),l.NdJ("ngModelChange",function(c){return i.testPerson.userName=c}),l.qZA(),l.YNc(30,X5,2,0,"mat-error",4),l.YNc(31,eq,2,0,"mat-error",4),l.YNc(32,tq,2,0,"mat-error",4),l.qZA(),l._UZ(33,"br"),l.TgZ(34,"mat-form-field")(35,"mat-label"),l._uU(36,"Personal ID"),l.qZA(),l.TgZ(37,"input",9,10),l.NdJ("ngModelChange",function(c){return i.testPerson.personalId=c}),l.qZA(),l.YNc(39,nq,2,0,"mat-error",4),l.YNc(40,iq,2,0,"mat-error",4),l.qZA(),l._UZ(41,"br"),l.TgZ(42,"mat-form-field")(43,"mat-label"),l._uU(44,"Email"),l.qZA(),l.TgZ(45,"input",11,12),l.NdJ("ngModelChange",function(c){return i.testPerson.email=c}),l.qZA(),l.YNc(47,rq,2,0,"mat-error",4),l.qZA(),l._UZ(48,"br"),l.TgZ(49,"mat-form-field")(50,"mat-label"),l._uU(51,"Password"),l.qZA(),l.TgZ(52,"input",13,14),l.NdJ("ngModelChange",function(c){return i.testPerson.password=c}),l.qZA(),l.YNc(54,sq,2,0,"mat-error",4),l.YNc(55,oq,2,0,"mat-error",4),l.YNc(56,aq,2,0,"mat-error",4),l.qZA(),l._UZ(57,"br"),l.TgZ(58,"mat-form-field")(59,"mat-label"),l._uU(60,"Password validation"),l.qZA(),l._UZ(61,"input",15,16),l.YNc(63,lq,2,0,"mat-error",4),l.YNc(64,cq,2,0,"mat-error",4),l.qZA(),l.TgZ(65,"p"),l._uU(66,"I accept terms and conditions: "),l.TgZ(67,"input",17,18),l.NdJ("ngModelChange",function(c){return i.testPerson.hasAcceptedTerms=c}),l.qZA()(),l.YNc(69,uq,2,0,"mat-error",4),l._UZ(70,"br"),l.TgZ(71,"button",19),l._uU(72,"Submit"),l.qZA()()()}if(2&t){const r=l.MAs(6),s=l.MAs(11),c=l.MAs(20),d=l.MAs(29),f=l.MAs(38),y=l.MAs(46),E=l.MAs(53),T=l.MAs(62),B=l.MAs(68);l.xp6(10),l.Q6J("ngModel",i.testPerson.firstName),l.xp6(2),l.Q6J("ngIf",s.hasError("required")),l.xp6(1),l.Q6J("ngIf",s.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",s.hasError("pattern")),l.xp6(5),l.Q6J("ngModel",i.testPerson.lastName),l.xp6(2),l.Q6J("ngIf",c.hasError("required")),l.xp6(1),l.Q6J("ngIf",c.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",c.hasError("pattern")),l.xp6(5),l.Q6J("ngModel",i.testPerson.userName),l.xp6(2),l.Q6J("ngIf",d.hasError("required")),l.xp6(1),l.Q6J("ngIf",d.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",d.hasError("pattern")),l.xp6(5),l.Q6J("ngModel",i.testPerson.personalId),l.xp6(2),l.Q6J("ngIf",f.hasError("required")),l.xp6(1),l.Q6J("ngIf",f.hasError("pattern")),l.xp6(5),l.Q6J("ngModel",i.testPerson.email),l.xp6(2),l.Q6J("ngIf",y.hasError("pattern")),l.xp6(5),l.Q6J("ngModel",i.testPerson.password),l.xp6(2),l.Q6J("ngIf",E.hasError("required")),l.xp6(1),l.Q6J("ngIf",E.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",E.hasError("pattern")),l.xp6(5),l.s9C("pattern",E.value),l.s9C("pattern",E.value),l.xp6(2),l.Q6J("ngIf",T.hasError("required")),l.xp6(1),l.Q6J("ngIf",T.hasError("pattern")),l.xp6(3),l.Q6J("ngModel",i.testPerson.hasAcceptedTerms),l.xp6(2),l.Q6J("ngIf",B.hasError("pattern")),l.xp6(2),l.Q6J("disabled",r.invalid)}},dependencies:[v.O5,r_.lW,ZS,Bp,BS,$v,HS,QS,VN,XS,JS,WE,zE,cO,_1,m1,y1]}),n})(),hq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-homepage"]],decls:26,vars:0,consts:[[1,"notcentered"],["href","https://github.com/cmdr2/stable-diffusion-ui"],["src","assets/resources/img/joonas.png"]],template:function(t,i){1&t&&(l.TgZ(0,"h1"),l._uU(1,"Moe!"),l.qZA(),l.TgZ(2,"div",0)(3,"p"),l._uU(4,'T\xe4m\xe4 sivusto on osa LAB-ammattikorkeakoulun "Front-end ty\xf6kalut" -kurssia. Valikosta l\xf6ytyy kaikki kurssin sis\xe4lt\xe4mien harjoitust\xf6iden ratkaisut.'),l.qZA(),l.TgZ(5,"p"),l._uU(6,"Sivuston luomiseen on k\xe4ytetty seuraavia tekniikoita:"),l.qZA(),l.TgZ(7,"ul")(8,"li"),l._uU(9,"HTML5"),l.qZA(),l.TgZ(10,"li"),l._uU(11,"CSS"),l.qZA(),l.TgZ(12,"li"),l._uU(13,"Angular"),l.qZA(),l.TgZ(14,"li"),l._uU(15,"TypeScript"),l.qZA(),l.TgZ(16,"li"),l._uU(17,"BootStrap"),l.qZA()(),l.TgZ(18,"p"),l._uU(19,"Sivusto on skaalautuva, mutta ei mobiilioptimoitu. Ulkoasukin on viel\xe4 rujo, hiotaan sit\xe4 mukaa kun ehtii. Sivuston kansiorakenne on my\xf6s todella sekava, pit\xe4\xe4 ottaa selv\xe4\xe4 onko kansiointi j\xe4lkik\xe4teen mahdollista. Koodin kommentointi my\xf6s paikoin puutteellista, yrit\xe4n korjata! "),l.qZA(),l.TgZ(20,"p"),l._uU(21,"Hauskana kuriositeettina; bannerin norppa on "),l.TgZ(22,"a",1),l._uU(23,"Stable Diffusion UI -teko\xe4lyn"),l.qZA(),l._uU(24," luoma!"),l.qZA(),l._UZ(25,"img",2),l.qZA())}}),n})();function fq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your first name"),l.qZA())}function pq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 2 characters required"),l.qZA())}function gq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Must be a valid name, only letters allowed"),l.qZA())}function mq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your last name"),l.qZA())}function _q(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 2 characters required"),l.qZA())}function yq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Must be a valid name, only letters allowed"),l.qZA())}function vq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your user name"),l.qZA())}function bq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 2 characters required"),l.qZA())}function wq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Must be a valid name, only letters allowed"),l.qZA())}function Eq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your personal ID"),l.qZA())}function Cq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Personal ID is not valid"),l.qZA())}function Dq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your email address"),l.qZA())}function Tq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Email address is not valid"),l.qZA())}function Iq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Enter your password"),l.qZA())}function Sq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Minimum of 10 characters required"),l.qZA())}function Aq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Password needs to have at least one upper case letter, a lower case letter and a number"),l.qZA())}function Mq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Password validation is required"),l.qZA())}function xq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Passwords need to match"),l.qZA())}function Nq(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"You need to accept terms and conditions"),l.qZA())}let Oq=(()=>{class n{constructor(){this.registrationForm=new jE({firstName:new Ec("",[Yr.required,Yr.minLength(2),Yr.pattern("^[a-zA-Z ]*$")]),lastName:new Ec("",[Yr.required,Yr.minLength(2),Yr.pattern("^[a-zA-Z ]*$")]),userName:new Ec("",[Yr.required,Yr.minLength(2),Yr.pattern("^[a-zA-Z ]*$")]),personalId:new Ec("",[Yr.required,Yr.pattern("^(0[1-9]|[12]\\d|3[01])(0[1-9]|1[0-2])([5-9]\\d+|\\d\\d-|[01]\\dA)\\d{3}[\\dA-Z]$")]),email:new Ec("",[Yr.required,Yr.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),password:new Ec("",[Yr.required,Yr.minLength(10),Yr.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d\\w\\W]*")]),passwordValidation:new Ec("",[Yr.required]),hasAcceptedTerms:new Ec("",[Yr.required])})}onSubmit(){console.log(this.registrationForm.value.firstName),console.log(this.registrationForm.value.lastName),console.log(this.registrationForm.value.userName),console.log(this.registrationForm.value.personalId),console.log(this.registrationForm.value.email),console.log(this.registrationForm.valid),this.registrationForm.reset(),Object.keys(this.registrationForm.controls).forEach(t=>{this.registrationForm.controls[t].setErrors(null)})}get firstName(){return this.registrationForm.get("firstName")}get lastName(){return this.registrationForm.get("lastName")}get userName(){return this.registrationForm.get("userName")}get personalId(){return this.registrationForm.get("personalId")}get email(){return this.registrationForm.get("email")}get password(){return this.registrationForm.get("password")}get passwordValidation(){return this.registrationForm.get("passwordValidation")}get hasAcceptedTerms(){return this.registrationForm.get("hasAcceptedTerms")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-reactiveform"]],decls:56,vars:22,consts:[[1,"notcentered"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","First name","formControlName","firstName"],[4,"ngIf"],["matInput","","placeholder","Last name","formControlName","lastName"],["matInput","","placeholder","Username","formControlName","userName"],["matInput","","placeholder","Personal ID","formControlName","personalId"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["matInput","","type","password","placeholder","Password validation","formControlName","passwordValidation",3,"pattern"],["type","checkbox","formControlName","hasAcceptedTerms","ngModel","","required",""],["mat-flat-button","","color","primary",3,"disabled"]],template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"reactiveform works!"),l.qZA(),l.TgZ(2,"div",0)(3,"p"),l._uU(4,"To do:"),l.qZA(),l.TgZ(5,"ul")(6,"li"),l._uU(7,"onsubmit() j\xe4lkeen pit\xe4isi my\xf6s salasanan validoinnin tyhjenty\xe4, t\xe4m\xe4 vaatii paremman validaattorin tekemist\xe4."),l.qZA()()(),l.TgZ(8,"div")(9,"form",1),l.NdJ("ngSubmit",function(){return i.onSubmit()}),l.TgZ(10,"mat-form-field"),l._UZ(11,"input",2),l.YNc(12,fq,2,0,"mat-error",3),l.YNc(13,pq,2,0,"mat-error",3),l.YNc(14,gq,2,0,"mat-error",3),l.qZA(),l._UZ(15,"br"),l.TgZ(16,"mat-form-field"),l._UZ(17,"input",4),l.YNc(18,mq,2,0,"mat-error",3),l.YNc(19,_q,2,0,"mat-error",3),l.YNc(20,yq,2,0,"mat-error",3),l.qZA(),l._UZ(21,"br"),l.TgZ(22,"mat-form-field"),l._UZ(23,"input",5),l.YNc(24,vq,2,0,"mat-error",3),l.YNc(25,bq,2,0,"mat-error",3),l.YNc(26,wq,2,0,"mat-error",3),l.qZA(),l._UZ(27,"br"),l.TgZ(28,"mat-form-field"),l._UZ(29,"input",6),l.YNc(30,Eq,2,0,"mat-error",3),l.YNc(31,Cq,2,0,"mat-error",3),l.qZA(),l._UZ(32,"br"),l.TgZ(33,"mat-form-field"),l._UZ(34,"input",7),l.YNc(35,Dq,2,0,"mat-error",3),l.YNc(36,Tq,2,0,"mat-error",3),l.qZA(),l._UZ(37,"br"),l.TgZ(38,"mat-form-field"),l._UZ(39,"input",8),l.YNc(40,Iq,2,0,"mat-error",3),l.YNc(41,Sq,2,0,"mat-error",3),l.YNc(42,Aq,2,0,"mat-error",3),l.qZA(),l._UZ(43,"br"),l.TgZ(44,"mat-form-field"),l._UZ(45,"input",9),l.YNc(46,Mq,2,0,"mat-error",3),l.YNc(47,xq,2,0,"mat-error",3),l.qZA(),l._UZ(48,"br"),l.TgZ(49,"p"),l._uU(50,"I accept terms and conditions: "),l._UZ(51,"input",10),l.qZA(),l.YNc(52,Nq,2,0,"mat-error",3),l._UZ(53,"br"),l.TgZ(54,"button",11),l._uU(55,"Submit"),l.qZA()()()),2&t&&(l.xp6(9),l.Q6J("formGroup",i.registrationForm),l.xp6(3),l.Q6J("ngIf",null==i.firstName?null:i.firstName.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.firstName?null:i.firstName.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",null==i.firstName?null:i.firstName.hasError("pattern")),l.xp6(4),l.Q6J("ngIf",null==i.lastName?null:i.lastName.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.lastName?null:i.lastName.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",null==i.lastName?null:i.lastName.hasError("pattern")),l.xp6(4),l.Q6J("ngIf",null==i.userName?null:i.userName.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.userName?null:i.userName.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",null==i.userName?null:i.userName.hasError("pattern")),l.xp6(4),l.Q6J("ngIf",null==i.personalId?null:i.personalId.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.personalId?null:i.personalId.hasError("pattern")),l.xp6(4),l.Q6J("ngIf",null==i.email?null:i.email.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.email?null:i.email.hasError("pattern")),l.xp6(4),l.Q6J("ngIf",null==i.password?null:i.password.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.password?null:i.password.hasError("minlength")),l.xp6(1),l.Q6J("ngIf",null==i.password?null:i.password.hasError("pattern")),l.xp6(3),l.s9C("pattern",null==i.password?null:i.password.value),l.xp6(1),l.Q6J("ngIf",null==i.passwordValidation?null:i.passwordValidation.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.passwordValidation?null:i.passwordValidation.hasError("pattern")),l.xp6(5),l.Q6J("ngIf",(null==i.hasAcceptedTerms?null:i.hasAcceptedTerms.invalid)&&((null==i.hasAcceptedTerms?null:i.hasAcceptedTerms.dirty)||(null==i.hasAcceptedTerms?null:i.hasAcceptedTerms.touched))),l.xp6(2),l.Q6J("disabled",i.registrationForm.invalid))},dependencies:[v.O5,r_.lW,ZS,Bp,BS,$v,HS,XS,JS,cO,_1,y1,Wv,YS]}),n})(),iB=(()=>{class n{constructor(t){this.httpClient=t,this.url="https://www.finnkino.fi/xml/News/",this.testData=[{Title:"PalmSprings",PublishDate:"2020-11-24T00:00:00",HTMLLead:"",ImageURL:"http://media.finnkino.fi/1012/news/6124/PalmSprings_550.jpg"},{Title:"Ensi-ilta: Karjam\xe4enjoulu",PublishDate:"2020-11-24T00:00:00",HTMLLead:"",ImageURL:"http://media.finnkino.fi/1012/news/6123/JulPaKutoppen_550.jpg"}]}getTestData(){return(0,Pe.of)(this.testData)}getData(){return this.httpClient.get(this.url,{responseType:"text"}).pipe((0,Pt.U)(t=>{let i=[];return(0,I(5452).parseString)(t,{trim:!0,explicitArray:!1,mergeAttrs:!0},function(c,d){i=d.News.NewsArticle}),i}))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rB=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rq=0;const hO=new l.OlP("CdkAccordion");let kq=(()=>{class n{constructor(){this._stateChanges=new Gt.x,this._openCloseAllActions=new Gt.x,this.id="cdk-accordion-"+Rq++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=(0,Nn.Ig)(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[l._Bn([{provide:hO,useExisting:n}]),l.TTD]}),n})(),Pq=0,Fq=(()=>{class n{constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Di.w0.EMPTY,this.closed=new l.vpe,this.opened=new l.vpe,this.destroyed=new l.vpe,this.expandedChange=new l.vpe,this.id="cdk-accordion-child-"+Pq++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=(0,Nn.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,Nn.Ig)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hO,12),l.Y36(l.sBO),l.Y36(rB))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[l._Bn([{provide:hO,useValue:void 0}])]}),n})(),Lq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Bq=["body"];function Uq(n,e){}const Vq=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Hq=["mat-expansion-panel-header","*","mat-action-row"];function jq(n,e){if(1&n&&l._UZ(0,"span",2),2&n){const t=l.oxw();l.Q6J("@indicatorRotate",t._getExpandedState())}}const Gq=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],$q=["mat-panel-title","mat-panel-description","*"],fO=new l.OlP("MAT_ACCORDION"),sB="225ms cubic-bezier(0.4,0.0,0.2,1)",oB={indicatorRotate:OE("indicatorRotate",[o_("collapsed, void",El({transform:"rotate(0deg)"})),o_("expanded",El({transform:"rotate(180deg)"})),jv("expanded <=> collapsed, void => collapsed",Hv(sB))]),bodyExpansion:OE("bodyExpansion",[o_("collapsed, void",El({height:"0px",visibility:"hidden"})),o_("expanded",El({height:"*",visibility:"visible"})),jv("expanded <=> collapsed, void => collapsed",Hv(sB))])},aB=new l.OlP("MAT_EXPANSION_PANEL");let zq=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(aB,8))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Wq=0;const lB=new l.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let cB=(()=>{class n extends Fq{constructor(t,i,r,s,c,d,f){super(t,i,r),this._viewContainerRef=s,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new l.vpe,this.afterCollapse=new l.vpe,this._inputChanges=new Gt.x,this._headerId="mat-expansion-panel-header-"+Wq++,this._bodyAnimationDone=new Gt.x,this.accordion=t,this._document=c,this._bodyAnimationDone.pipe((0,Wd.x)((y,E)=>y.fromState===E.fromState&&y.toState===E.toState)).subscribe(y=>{"void"!==y.fromState&&("expanded"===y.toState?this.afterExpand.emit():"collapsed"===y.toState&&this.afterCollapse.emit())}),f&&(this.hideToggle=f.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=(0,Nn.Ig)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,Ki.O)(null),(0,zn.h)(()=>this.expanded&&!this._portal),(0,hi.q)(1)).subscribe(()=>{this._portal=new Zx(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fO,12),l.Y36(l.sBO),l.Y36(rB),l.Y36(l.s_b),l.Y36(v.K0),l.Y36(l.QbO,8),l.Y36(lB,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,zq,5),2&t){let s;l.iGM(s=l.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(t,i){if(1&t&&l.Gf(Bq,5),2&t){let r;l.iGM(r=l.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&l.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[l._Bn([{provide:fO,useValue:void 0},{provide:aB,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:Hq,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(l.F$t(Vq),l.Hsn(0),l.TgZ(1,"div",0,1),l.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),l.TgZ(3,"div",2),l.Hsn(4,1),l.YNc(5,Uq,0,0,"ng-template",3),l.qZA(),l.Hsn(6,2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),l.uIk("aria-labelledby",i._headerId),l.xp6(4),l.Q6J("cdkPortalOutlet",i._portal))},dependencies:[w3],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[oB.bodyExpansion]},changeDetection:0}),n})();class qq{}const Kq=(0,er.sb)(qq);let uB=(()=>{class n extends Kq{constructor(t,i,r,s,c,d,f){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=d,this._parentChangeSubscription=Di.w0.EMPTY;const y=t.accordion?t.accordion._stateChanges.pipe((0,zn.h)(E=>!(!E.hideToggle&&!E.togglePosition))):Sr.E;this.tabIndex=parseInt(f||"")||0,this._parentChangeSubscription=(0,vd.T)(t.opened,t.closed,y,t._inputChanges.pipe((0,zn.h)(E=>!!(E.hideToggle||E.disabled||E.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,zn.h)(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case Lr.L_:case Lr.K5:(0,Lr.Vb)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(cB,1),l.Y36(l.SBq),l.Y36(Pp.tE),l.Y36(l.sBO),l.Y36(lB,8),l.Y36(l.QbO,8),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&t&&(l.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),l.Udp("height",i._getHeaderHeight()),l.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[l.qOj],ngContentSelectors:$q,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(l.F$t(Gq),l.TgZ(0,"span",0),l.Hsn(1),l.Hsn(2,1),l.Hsn(3,2),l.qZA(),l.YNc(4,jq,1,1,"span",1)),2&t&&(l.ekj("mat-content-hide-toggle",!i._showToggle()),l.xp6(4),l.Q6J("ngIf",i._showToggle()))},dependencies:[v.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[oB.indicatorRotate]},changeDetection:0}),n})(),Zq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),Yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Qq=(()=>{class n extends kq{constructor(){super(...arguments),this._ownHeaders=new l.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=(0,Nn.Ig)(t)}ngAfterContentInit(){this._headers.changes.pipe((0,Ki.O)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Pp.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,uB,5),2&t){let s;l.iGM(s=l.CRH())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[l._Bn([{provide:fO,useExisting:n}]),l.qOj]}),n})(),Jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[v.ez,er.BQ,Lq,DP]}),n})(),Xq=(()=>{class n{transform(t,i){return t?i?(i=i.toLocaleLowerCase(),t.filter(r=>r.Title.toLocaleLowerCase().includes(i)||r.PublishDate.toLocaleLowerCase().includes(i)||r.HTMLLead.toLocaleLowerCase().includes(i))):t:[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"appFilter",type:n,pure:!0}),n})();function eK(n,e){if(1&n&&(l.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),l._uU(3),l.ALo(4,"date"),l.qZA(),l.TgZ(5,"mat-panel-description"),l._uU(6),l.qZA()(),l._UZ(7,"img",5)(8,"br"),l._uU(9),l._UZ(10,"br"),l.TgZ(11,"a",6),l._uU(12,"Lue lis\xe4\xe4 Finnkinon sivuilta!"),l.qZA()()),2&n){const t=e.$implicit;l.xp6(3),l.hij(" ",l.xi3(4,5,t.PublishDate,"dd.MM.yyyy")," "),l.xp6(3),l.hij(" ",t.Title," "),l.xp6(1),l.s9C("src",t.ImageURL,l.LSH),l.xp6(2),l.hij(" ",t.HTMLLead," "),l.xp6(2),l.s9C("href",t.ArticleURL,l.LSH)}}let tK=(()=>{class n{constructor(t){this._cinemaService=t,this.searchText="",this.cinemaData$=this._cinemaService.getData()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iB))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-finnkino"]],decls:14,vars:7,consts:[["appearance","fill"],["matInput","","placeholder","Kirjoita hakusana",3,"ngModel","ngModelChange"],["matSuffix",""],["multi","",1,"headers-align"],[4,"ngFor","ngForOf"],[1,"img","centered","leffakuva",3,"src"],[3,"href"]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"h1"),l._uU(2,"Finnkino uutisia"),l.qZA(),l.TgZ(3,"p")(4,"mat-form-field",0)(5,"mat-label"),l._uU(6,"Etsi uutista"),l.qZA(),l.TgZ(7,"input",1),l.NdJ("ngModelChange",function(s){return i.searchText=s}),l.qZA(),l.TgZ(8,"mat-icon",2),l._uU(9,"search"),l.qZA()()(),l.TgZ(10,"mat-accordion",3),l.YNc(11,eK,13,8,"mat-expansion-panel",4),l.ALo(12,"appFilter"),l.ALo(13,"async"),l.qZA()()),2&t&&(l.xp6(7),l.Q6J("ngModel",i.searchText),l.xp6(4),l.Q6J("ngForOf",l.xi3(12,2,l.lcZ(13,5,i.cinemaData$),i.searchText)))},dependencies:[v.sg,Bp,$v,WE,_1,m1,L5,y1,pP,Qq,cB,uB,Yq,Zq,v.Ov,v.uU,Xq]}),n})();function nK(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"h1"),l._uU(2,"Terve "),l.TgZ(3,"strong"),l._uU(4),l.qZA(),l._uU(5,"!"),l.qZA(),l.TgZ(6,"p"),l._uU(7,"K\xe4ytt\xe4j\xe4tunnuksesi ID: "),l.TgZ(8,"strong"),l._uU(9),l.qZA()(),l.TgZ(10,"p"),l._uU(11,"Email: "),l.TgZ(12,"strong"),l._uU(13),l.qZA()(),l.TgZ(14,"button",1),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.authService.SignOut())}),l._uU(15,"Kirjaudu ulos"),l.qZA()()}if(2&n){const t=e.ngIf;l.xp6(4),l.Oqu(t.displayName?t.displayName:"User"),l.xp6(5),l.Oqu(t.uid),l.xp6(4),l.Oqu(t.email)}}let iK=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(cS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-adminview"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,i){1&t&&l.YNc(0,nK,16,3,"div",0),2&t&&l.Q6J("ngIf",i.authService.userData)},dependencies:[v.O5,r_.lW]}),n})();function rK(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Sy\xf6t\xe4 s\xe4hk\xf6postiosoite"),l.qZA())}function sK(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Anna salasana"),l.qZA())}let oK=(()=>{class n{constructor(t,i){this.router=t,this.AuthService=i,this.loginForm=new jE({email:new Ec("",[Yr.required]),password:new Ec("",[Yr.required])})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}logIn(){console.log(this.loginForm.value.email+" logged in"),this.router.navigate(["admin/main"])}peruuta(){this.router.navigate(["homepage"])}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mi),l.Y36(cS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","placeholder","S\xe4hk\xf6posti","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Salasana","formControlName","password"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"Sis\xe4lle p\xe4\xe4see esim. seuraavilla tiedoilla:"),l.qZA(),l.TgZ(2,"p"),l._uU(3,"testi@testi.fi // testi123"),l.qZA(),l.TgZ(4,"div")(5,"form",0),l.NdJ("ngSubmit",function(){return i.logIn()}),l.TgZ(6,"mat-form-field"),l._UZ(7,"input",1),l.YNc(8,rK,2,0,"mat-error",2),l.qZA(),l._UZ(9,"br"),l.TgZ(10,"mat-form-field"),l._UZ(11,"input",3),l.YNc(12,sK,2,0,"mat-error",2),l.qZA(),l._UZ(13,"br"),l.TgZ(14,"button",4),l.NdJ("click",function(){return i.AuthService.SignIn(null==i.email?null:i.email.value,null==i.password?null:i.password.value)}),l._uU(15,"Kirjaudu sis\xe4\xe4n"),l.qZA(),l.TgZ(16,"button",4),l.NdJ("click",function(){return i.peruuta()}),l._uU(17,"Peruuta"),l.qZA()()()),2&t&&(l.xp6(5),l.Q6J("formGroup",i.loginForm),l.xp6(3),l.Q6J("ngIf",null==i.email?null:i.email.hasError("required")),l.xp6(4),l.Q6J("ngIf",null==i.password?null:i.password.hasError("required")))},dependencies:[v.O5,r_.lW,ZS,Bp,$v,HS,cO,_1,y1,Wv,YS]}),n})();const dB="firebasestorage.googleapis.com",hB="storageBucket";class Cr extends me.ZR{constructor(e,t,i=0){super(pO(e),`Firebase Storage: ${t} (${pO(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function pO(n){return"storage/"+n}function gO(){return new Cr("unknown","An unknown error occurred, please check the error payload for server response.")}function fB(){return new Cr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function pB(){return new Cr("canceled","User canceled the upload/download.")}function gB(){return new Cr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xv(n){return new Cr("invalid-argument",n)}function mB(){return new Cr("app-deleted","The Firebase app was deleted.")}function _B(n){return new Cr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sC(n,e){return new Cr("invalid-format","String does not match format '"+n+"': "+e)}function oC(n){throw new Cr("internal-error","Internal error: "+n)}class Ao{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ao.makeFromUrl(e,t)}catch{return new Ao(e,"")}if(""===i.path)return i;throw function mK(n){return new Cr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(gt){gt.path_=decodeURIComponent(gt.path)}const T=t.replace(/[.]/g,"\\."),bt=[{regex:d,indices:{bucket:1,path:3},postModify:function s(gt){"/"===gt.path.charAt(gt.path.length-1)&&(gt.path_=gt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===dB?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let gt=0;gt<bt.length;gt++){const It=bt[gt],St=It.regex.exec(e);if(St){let Tn=St[It.indices.path];Tn||(Tn=""),i=new Ao(St[It.indices.bucket],Tn),It.postModify(i);break}}if(null==i)throw function gK(n){return new Cr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class wK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function v1(n){return"string"==typeof n||n instanceof String}function yB(n){return mO()&&n instanceof Blob}function mO(){return typeof Blob<"u"&&!(0,me.UG)()}function _O(n,e,t,i){if(i<e)throw Xv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Xv(`Invalid value for '${n}'. Expected ${t} or less.`)}function ef(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function vB(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Gp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Gp||(Gp={})),Gp))();function bB(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class SK{constructor(e,t,i,r,s,c,d,f,y,E,T,B=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=T,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((X,ge)=>{this.resolve_=X,this.reject_=ge,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function DK(n){return void 0!==n}(f)?s():s(f)}catch(f){c(f)}else if(null!==d){const f=gO();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(r.canceled?this.appDelete_?mB():pB():fB())};this.canceled_?t(0,new b1(!1,null,!0)):this.backoffId_=function EK(n,e,t){let i=1,r=null,s=null,c=!1,d=0;function f(){return 2===d}let y=!1;function E(...Ue){y||(y=!0,e.apply(null,Ue))}function T(Ue){r=setTimeout(()=>{r=null,n(X,f())},Ue)}function B(){s&&clearTimeout(s)}function X(Ue,...rt){if(y)return void B();if(Ue)return B(),void E.call(null,Ue,...rt);if(f()||c)return B(),void E.call(null,Ue,...rt);let bt;i<64&&(i*=2),1===d?(d=2,bt=0):bt=1e3*(i+Math.random()),T(bt)}let ge=!1;function Te(Ue){ge||(ge=!0,B(),!y&&(null!==r?(Ue||(d=2),clearTimeout(r),T(0)):Ue||(d=1)))}return T(0),s=setTimeout(()=>{c=!0,Te(!0)},t),Te}((i,r)=>{if(r)return void i(!1,new b1(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Gp.NO_ERROR,f=s.getStatus();if((!d||bB(f,this.additionalRetryCodes_))&&this.retry){const E=s.getErrorCode()===Gp.ABORT;return void i(!1,new b1(!1,null,E))}const y=-1!==this.successCodes_.indexOf(f);i(!0,new b1(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function CK(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class b1{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function kK(...n){const e=function RK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(mO())return new Blob(n);throw new Cr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Sl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yO{constructor(e,t){this.data=e,this.contentType=t||null}}function vO(n,e){switch(n){case Sl.RAW:return new yO(wB(e));case Sl.BASE64:case Sl.BASE64URL:return new yO(EB(n,e));case Sl.DATA_URL:return new yO(function BK(n){const e=new CB(n);return e.base64?EB(Sl.BASE64,e.rest):function LK(n){let e;try{e=decodeURIComponent(n)}catch{throw sC(Sl.DATA_URL,"Malformed data URL.")}return wB(e)}(e.rest)}(e),function UK(n){return new CB(n).contentType}(e))}throw gO()}function wB(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function EB(n,e){switch(n){case Sl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw sC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Sl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw sC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function FK(n){if(typeof atob>"u")throw function bK(n){return new Cr("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:sC(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class CB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw sC(Sl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function VK(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Dd{constructor(e,t){let i=0,r="";yB(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(yB(this.data_)){const r=function PK(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Dd(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Dd(i,!0)}}static getBlob(...e){if(mO()){const t=e.map(i=>i instanceof Dd?i.data_:i);return new Dd(kK.apply(null,t))}{const t=e.map(c=>v1(c)?vO(Sl.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new Dd(r,!0)}}uploadData(){return this.data_}}function bO(n){let e;try{e=JSON.parse(n)}catch{return null}return function IK(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function DB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function GK(n,e){return e}class ra{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||GK}}let w1=null;function aC(){if(w1)return w1;const n=[];n.push(new ra("bucket")),n.push(new ra("generation")),n.push(new ra("metageneration")),n.push(new ra("name","fullPath",!0));const t=new ra("name");t.xform=function e(s,c){return function $K(n){return!v1(n)||n.length<2?n:DB(n)}(c)},n.push(t);const r=new ra("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ra("timeCreated")),n.push(new ra("updated")),n.push(new ra("md5Hash",null,!0)),n.push(new ra("cacheControl",null,!0)),n.push(new ra("contentDisposition",null,!0)),n.push(new ra("contentEncoding",null,!0)),n.push(new ra("contentLanguage",null,!0)),n.push(new ra("contentType",null,!0)),n.push(new ra("metadata","customMetadata",!0)),w1=n,w1}function TB(n,e,t){const i=bO(e);return null===i?null:function WK(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function zK(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Ao(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function wO(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const IB="prefixes";class Td{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Id(n){if(!n)throw gO()}function E1(n,e){return function t(i,r){const s=TB(n,r,e);return Id(null!==s),s}}function e0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function fK(){return new Cr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function hK(){return new Cr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function dK(n){return new Cr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function pK(n){return new Cr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function lC(n){const e=e0(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function uK(n){return new Cr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function AB(n,e,t){const r=ef(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Td(r,"GET",E1(n,t),c);return d.errorHandler=lC(e),d}function JK(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=ef(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,E=new Td(d,"GET",function YK(n,e){return function t(i,r){const s=function ZK(n,e,t){const i=bO(t);return null===i?null:function KK(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[IB])for(const r of t[IB]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Ao(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new Ao(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Id(null!==s),s}}(n,e.bucket),y);return E.urlParams=s,E.errorHandler=e0(e),E}function xB(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function nZ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class C1{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function EO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Id(!1)}return Id(!!t&&-1!==(e||["active"]).indexOf(t)),t}const oZ={STATE_CHANGED:"state_changed"},sa={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function CO(n){switch(n){case"running":case"pausing":case"canceling":return sa.RUNNING;case"paused":return sa.PAUSED;case"success":return sa.SUCCESS;case"canceled":return sa.CANCELED;default:return sa.ERROR}}class aZ{constructor(e,t,i){if(function TK(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function t0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class cZ extends class lZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw oC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw oC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw oC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw oC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw oC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function yu(){return new cZ}class kB{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=aC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(bB(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=fB()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function iZ(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=xB(e,i,r),d={name:c.fullPath},f=ef(s,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=wO(c,t),ge=new Td(f,"POST",function X(Te){let Ue;EO(Te);try{Ue=Te.getResponseHeader("X-Goog-Upload-URL")}catch{Id(!1)}return Id(v1(Ue)),Ue},n.maxUploadRetryTime);return ge.urlParams=d,ge.headers=E,ge.body=T,ge.errorHandler=e0(e),ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,yu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function rZ(n,e,t,i){const f=new Td(t,"POST",function s(y){const E=EO(y,["active","final"]);let T=null;try{T=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Id(!1)}T||Id(!1);const B=Number(T);return Id(!isNaN(B)),new C1(B,i.size(),"final"===E)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=e0(e),f}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,yu,t,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new C1(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function sZ(n,e,t,i,r,s,c,d){const f=new C1(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function yK(){return new Cr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=f.total-f.current;let E=y;r>0&&(E=Math.min(E,r));const T=f.current;let X="";X=0===E?"finalize":y===E?"upload, finalize":"upload";const ge={"X-Goog-Upload-Command":X,"X-Goog-Upload-Offset":`${f.current}`},Te=i.slice(T,T+E);if(null===Te)throw gB();const bt=new Td(t,"POST",function Ue(gt,It){const St=EO(gt,["active","final"]),qt=f.current+E,Tn=i.size();let yi;return yi="final"===St?E1(e,s)(gt,It):null,new C1(qt,Tn,"final"===St,yi)},e.maxUploadRetryTime);return bt.headers=ge,bt.body=Te.uploadData(),bt.progressCallback=d||null,bt.errorHandler=e0(n),bt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,yu,r,s,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=AB(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,yu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function NB(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let bt="";for(let gt=0;gt<2;gt++)bt+=Math.random().toString().slice(2);return bt}();c["Content-Type"]="multipart/related; boundary="+f;const y=xB(e,i,r),E=wO(y,t),X=Dd.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+f+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===X)throw gB();const ge={name:y.fullPath},Te=ef(s,n.host,n._protocol),rt=n.maxUploadRetryTime,dt=new Td(Te,"POST",E1(n,t),rt);return dt.urlParams=ge,dt.headers=c,dt.body=X.uploadData(),dt.errorHandler=e0(e),dt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,yu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=pB(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=CO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new aZ(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(CO(this._state)){case sa.SUCCESS:t0(this._resolve.bind(null,this.snapshot))();break;case sa.CANCELED:case sa.ERROR:t0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(CO(this._state)){case sa.RUNNING:case sa.PAUSED:e.next&&t0(e.next.bind(e,this.snapshot))();break;case sa.SUCCESS:e.complete&&t0(e.complete.bind(e))();break;default:e.error&&t0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class w_{constructor(e,t){this._service=e,this._location=t instanceof Ao?t:Ao.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new w_(e,t)}get root(){const e=new Ao(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DB(this._location.path)}get storage(){return this._service}get parent(){const e=function HK(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ao(this._location.bucket,e);return new w_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw _B(e)}}function FB(n,e,t){return DO.apply(this,arguments)}function DO(){return DO=(0,it.Z)(function*(n,e,t){const r=yield LB(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield FB(n,e,r.nextPageToken))}),DO.apply(this,arguments)}function LB(n,e){null!=e&&"number"==typeof e.maxResults&&_O("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=JK(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,yu)}function wZ(n){n._throwIfRoot("getDownloadURL");const e=function XK(n,e,t){const r=ef(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Td(r,"GET",function QK(n,e){return function t(i,r){const s=TB(n,r,e);return Id(null!==s),function qK(n,e,t,i){const r=bO(e);if(null===r||!v1(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const T=n.fullPath;return ef("/b/"+c(n.bucket)+"/o/"+c(T),t,i)+vB({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return d.errorHandler=lC(e),d}(n.storage,n._location,aC());return n.storage.makeRequestWithTokens(e,yu).then(t=>{if(null===t)throw function vK(){return new Cr("no-download-url","The given file does not have any download URLs.")}();return t})}function BB(n,e){const t=function jK(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Ao(n._location.bucket,t);return new w_(n.storage,i)}function UB(n,e){if(n instanceof TO){const t=n;if(null==t._bucket)throw function _K(){return new Cr("no-default-bucket","No default bucket found. Did you set the '"+hB+"' property when initializing the app?")}();const i=new w_(t,t._bucket);return null!=e?UB(i,e):i}return void 0!==e?BB(n,e):n}function TZ(n,e){if(e&&function CZ(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof TO)return function DZ(n,e){return new w_(n,e)}(n,e);throw Xv("To use ref(service, url), the first argument must be a Storage instance.")}return UB(n,e)}function VB(n,e){const t=e?.[hB];return null==t?null:Ao.makeFromBucketSpec(t,n)}class TO{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=dB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ao.makeFromBucketSpec(r,this._host):VB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ao.makeFromBucketSpec(this._url,e):VB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_O("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_O("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,it.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,it.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new w_(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new wK(mB());{const c=function OK(n,e,t,i,r,s,c=!0){const d=vB(n.urlParams),f=n.url+d,y=Object.assign({},n.headers);return function xK(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function AK(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function MK(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,s),function NK(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new SK(f,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,it.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const HB="@firebase/storage";function $B(n,e){return TZ(n=(0,me.m9)(n),e)}function PZ(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new TO(t,i,r,e,rs.SDK_VERSION)}!function FZ(){(0,rs._registerComponent)(new Rs.wA("storage",PZ,"PUBLIC").setMultipleInstances(!0)),(0,rs.registerVersion)(HB,"0.9.14",""),(0,rs.registerVersion)(HB,"0.9.14","esm2017")}();class D1{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class WB{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new D1(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new D1(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new D1(c,this,this._ref)):{next:t.next?c=>t.next(new D1(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class qB{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new tf(e,this._service))}get items(){return this._delegate.items.map(e=>new tf(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class tf{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function kZ(n,e){return BB(n,e)}(this._delegate,e);return new tf(t,this.storage)}get root(){return new tf(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new tf(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new WB(function SZ(n,e,t){return function mZ(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new kB(n,new Dd(e),t)}(n=(0,me.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Sl.RAW,i){this._throwIfRoot("putString");const r=vO(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new WB(new kB(this._delegate,new Dd(r.data,!0),s),this)}listAll(){return function NZ(n){return function yZ(n){const e={prefixes:[],items:[]};return FB(n,e).then(()=>e)}(n=(0,me.m9)(n))}(this._delegate).then(e=>new qB(e,this.storage))}list(e){return function xZ(n,e){return LB(n=(0,me.m9)(n),e)}(this._delegate,e||void 0).then(t=>new qB(t,this.storage))}getMetadata(){return function AZ(n){return function vZ(n){n._throwIfRoot("getMetadata");const e=AB(n.storage,n._location,aC());return n.storage.makeRequestWithTokens(e,yu)}(n=(0,me.m9)(n))}(this._delegate)}updateMetadata(e){return function MZ(n,e){return function bZ(n,e){n._throwIfRoot("updateMetadata");const t=function eZ(n,e,t,i){const s=ef(e.fullServerUrl(),n.host,n._protocol),d=wO(t,i),y=n.maxOperationRetryTime,E=new Td(s,"PATCH",E1(n,i),y);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=d,E.errorHandler=lC(e),E}(n.storage,n._location,e,aC());return n.storage.makeRequestWithTokens(t,yu)}(n=(0,me.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function OZ(n){return wZ(n=(0,me.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function RZ(n){return function EZ(n){n._throwIfRoot("deleteObject");const e=function tZ(n,e){const i=ef(e.fullServerUrl(),n.host,n._protocol),d=new Td(i,"DELETE",function c(f,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=lC(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,yu)}(n=(0,me.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw _B(e)}}class KB{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(ZB(e))throw Xv("ref() expected a child path but got a URL, use refFromURL instead.");return new tf($B(this._delegate,e),this)}refFromURL(e){if(!ZB(e))throw Xv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ao.makeFromUrl(e,this._delegate.host)}catch{throw Xv("refFromUrl() expected a valid full URL but got an invalid one.")}return new tf($B(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function zB(n,e,t,i={}){!function IZ(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,me.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function ZB(n){return/^[A-Za-z]+:\/\//.test(n)}function VZ(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new KB(t,i)}function YB(n){const e=function jZ(n){return new En.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe((0,K2.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Pt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function T1(n){return{getDownloadURL:()=>(0,Pe.of)(void 0).pipe(ai.fc,en(()=>n.getDownloadURL()),ai.iC),getMetadata:()=>(0,Pe.of)(void 0).pipe(ai.fc,en(()=>n.getMetadata()),ai.iC),delete:()=>(0,Re.D)(n.delete()),child:e=>T1(n.child(e)),updateMetadata:e=>(0,Re.D)(n.updateMetadata(e)),put:(e,t)=>YB(n.put(e,t)),putString:(e,t,i)=>YB(n.putString(e,t,i)),list:e=>(0,Re.D)(n.list(e)),listAll:()=>(0,Re.D)(n.listAll())}}!function HZ(n){const e={TaskState:sa,TaskEvent:oZ,StringFormat:Sl,Storage:KB,Reference:tf};n.INTERNAL.registerComponent(new Rs.wA("storage-compat",VZ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(qo.Z);const GZ=new l.OlP("angularfire2.storageBucket"),$Z=new l.OlP("angularfire2.storage.maxUploadRetryTime"),zZ=new l.OlP("angularfire2.storage.maxOperationRetryTime"),WZ=new l.OlP("angularfire2.storage.use-emulator");let qZ=(()=>{class n{constructor(t,i,r,s,c,d,f,y,E,T){const B=(0,Pi.on)(t,c,i);this.storage=(0,Pi.cc)(`${B.name}.storage.${r}`,"AngularFireStorage",B.name,()=>{const X=c.runOutsideAngular(()=>B.storage(r||void 0)),ge=E;return ge&&X.useEmulator(...ge),f&&X.setMaxUploadRetryTime(f),y&&X.setMaxOperationRetryTime(y),X},[f,y])}ref(t){return T1(this.storage.ref(t))}refFromURL(t){return T1(this.storage.refFromURL(t))}upload(t,i,r){return T1(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pi.Dh),l.LFG(Pi.xv,8),l.LFG(GZ,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ai.HU),l.LFG($Z,8),l.LFG(zZ,8),l.LFG(WZ,8),l.LFG(AE,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),ZZ=(()=>{class n{constructor(){aS.Z.registerVersion("angularfire",ai.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[qZ],imports:[KZ]}),n})();const QB="@firebase/database",JB="0.13.10";let IO="";function XB(n){IO=n}class QZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,me.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,me.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class JZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,me.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const eU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QZ(e)}}catch{}return new JZ},E_=eU("localStorage"),SO=eU("sessionStorage"),n0=new Co.Yd("@firebase/database"),tU=function(){let n=1;return function(){return n++}}(),nU=function(n){const e=(0,me.dS)(n),t=new me.gQ;t.update(e);const i=t.digest();return me.US.encodeByteArray(i)},cC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=cC.apply(null,i):e+="object"==typeof i?(0,me.Wl)(i):i,e+=" "}return e};let C_=null,iU=!0;const rU=function(n,e){(0,me.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(n0.logLevel=Co.in.VERBOSE,C_=n0.log.bind(n0),e&&SO.set("logging_enabled",!0)):"function"==typeof n?C_=n:(C_=null,SO.remove("logging_enabled"))},Vs=function(...n){if(!0===iU&&(iU=!1,null===C_&&!0===SO.get("logging_enabled")&&rU(!0)),C_){const e=cC.apply(null,n);C_(e)}},uC=function(n){return function(...e){Vs(n,...e)}},AO=function(...n){const e="FIREBASE INTERNAL ERROR: "+cC(...n);n0.error(e)},Sd=function(...n){const e=`FIREBASE FATAL ERROR: ${cC(...n)}`;throw n0.error(e),new Error(e)},Mo=function(...n){const e="FIREBASE WARNING: "+cC(...n);n0.warn(e)},I1=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},nf="[MIN_NAME]",Ad="[MAX_NAME]",D_=function(n,e){if(n===e)return 0;if(n===nf||e===Ad)return-1;if(e===nf||n===Ad)return 1;{const t=S1(n),i=S1(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},tY=function(n,e){return n===e?0:n<e?-1:1},dC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,me.Wl)(e))},MO=function(n){if("object"!=typeof n||null===n)return(0,me.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,me.Wl)(e[i]),t+=":",t+=MO(n[e[i]]);return t+="}",t},sU=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Hs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const oU=function(n){(0,me.hu)(!I1(n),"Invalid JSON number");const i=1023;let r,s,c,d,f;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(f=52;f;f-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const E=y.join("");let T="";for(f=0;f<64;f+=8){let B=parseInt(E.substr(f,8),2).toString(16);1===B.length&&(B="0"+B),T+=B}return T.toLowerCase()},sY=new RegExp("^-?(0*)\\d{1,10}$"),aU=-2147483648,xO=2147483647,S1=function(n){if(sY.test(n)){const e=Number(n);if(e>=aU&&e<=xO)return e}return null},r0=function(n){try{n()}catch(e){setTimeout(()=>{throw Mo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},hC=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class aY{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Mo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class lY{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Vs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mo(e)}}let fC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gU="websocket",mU="long_polling";class OO{constructor(e,t,i,r,s=!1,c="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=E_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&E_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _U(n,e,t){let i;if((0,me.hu)("string"==typeof e,"typeof type must == string"),(0,me.hu)("object"==typeof t,"typeof params must == object"),e===gU)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==mU)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function cY(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Hs(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class uY{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,me.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,me.p$)(this.counters_)}}const RO={},kO={};function PO(n){const e=n.toString();return RO[e]||(RO[e]=new uY),RO[e]}class hY{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&r0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class $p{constructor(e,t,i,r,s,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uC(e),this.stats_=PO(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),_U(t,mU,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new hY(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,me.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FO((...s)=>{const[c,d,f,y,E]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hU.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$p.forceAllow_=!0}static forceDisallow(){$p.forceDisallow_=!0}static isAvailable(){return!((0,me.Yr)()||!$p.forceAllow_&&($p.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,me.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,me.h$)(t),r=sU(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,me.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,me.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class FO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,me.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=tU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=FO.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Vs("frame writing exception"),d.stack&&Vs(d.stack),Vs(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Vs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,me.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Vs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let M1=null;typeof MozWebSocket<"u"?M1=MozWebSocket:typeof WebSocket<"u"&&(M1=WebSocket);let s0=(()=>{class n{constructor(t,i,r,s,c,d,f){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uC(this.connId),this.stats_=PO(i),this.connURL=n.connectionURL_(i,d,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const d={v:"5"};return!(0,me.Yr)()&&typeof location<"u"&&location.hostname&&hU.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),_U(t,gU,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E_.set("previous_websocket_failure",!0);try{let r;if((0,me.Yr)()){r={headers:{"User-Agent":`Firebase/5/${IO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new M1(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==M1&&!n.forceDisallow_}static previouslyFailed(){return E_.isInMemoryStorage||!0===E_.get("previous_websocket_failure")}markConnectionHealthy(){E_.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,me.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,me.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,me.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=sU(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),DU=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[$p,s0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=s0&&s0.isAvailable();let r=i&&!s0.previouslyFailed();if(t.webSocketOnly&&(i||Mo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[s0];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class NU{constructor(e,t,i,r,s,c,d,f,y,E){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uC("c:"+this.id+":"),this.transportManager_=new DU(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=hC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=dC("t",e),i=dC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=dC("t",e),i=dC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=dC("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?AO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Mo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),hC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class OU{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class RU{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,me.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,me.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class x1 extends RU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,me.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new x1}getInitialEvent(e){return(0,me.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Oi{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ci(){return new Oi("")}function ti(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function zp(n){return n.pieces_.length-n.pieceNum_}function $i(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Oi(n.pieces_,e)}function BO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function FU(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Oi(e,0)}function gr(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Oi)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Oi(t,0)}function ni(n){return n.pieceNum_>=n.pieces_.length}function oa(n,e){const t=ti(n),i=ti(e);if(null===t)return e;if(t===i)return oa($i(n),$i(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function kY(n,e){const t=pC(n,0),i=pC(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=D_(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function UO(n,e){if(zp(n)!==zp(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ic(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(zp(n)>zp(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class PY{constructor(e,t){this.errorPrefix_=t,this.parts_=pC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,me.ug)(this.parts_[i]);LU(this)}}function LU(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+T_(n))}function T_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class VO extends RU{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new VO}getInitialEvent(e){return(0,me.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const gC=1e3;let O1,I_=(()=>{class n extends OU{constructor(t,i,r,s,c,d,f,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=uC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,me.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&x1.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,me.Wl)(c)),(0,me.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new me.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,me.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,me.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,f=>{const y=f.d,E=f.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",f),"ok"!==E&&this.removeListen_(r,s),t.onComplete&&t.onComplete(E,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,me.r3)(t,"w")){const r=(0,me.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Mo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,me.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,me.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,me.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,me.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):AO("Unrecognized action received from server: "+(0,me.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,me.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=gC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,it.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let f=!1,y=null;const E=function(){y?y.close():(f=!0,s())};t.realtime_={close:E,sendRequest:function(X){(0,me.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(X)}};const B=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[X,ge]=yield Promise.all([t.authTokenProvider_.getToken(B),t.appCheckTokenProvider_.getToken(B)]);f?Vs("getToken() completed but was canceled"):(Vs("getToken() completed. Creating connection."),t.authToken_=X&&X.accessToken,t.appCheckToken_=ge&&ge.token,y=new NU(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,Te=>{Mo(Te+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(X){t.log_("Failed to get token: "+X),f||(t.repoInfo_.nodeAdmin&&Mo(X),E())}}})()}interrupt(t){Vs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Vs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,me.xb)(this.interruptReasons_)&&(this.reconnectDelay_=gC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>MO(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Oi(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Vs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Vs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,me.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+IO.replace(/\./g,"-")]=1,(0,me.uI)()?t["framework.cordova"]=1:(0,me.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=x1.getInstance().currentlyOnline();return(0,me.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class si{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new si(e,t)}}class N1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new si(nf,e),r=new si(nf,t);return 0!==this.compare(i,r)}minPost(){return si.MIN}}class VU extends N1{static get __EMPTY_NODE(){return O1}static set __EMPTY_NODE(e){O1=e}compare(e,t){return D_(e.name,t.name)}isDefinedOn(e){throw(0,me.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return si.MIN}maxPost(){return new si(Ad,O1)}makePost(e,t){return(0,me.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new si(e,O1)}toString(){return".key"}}const Md=new VU;class R1{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let jO,vu=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Pa.EMPTY_NODE,this.right=c??Pa.EMPTY_NODE}copy(t,i,r,s,c){return new n(t??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Pa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Pa{constructor(e,t=Pa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Pa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,vu.BLACK,null,null))}remove(e){return new Pa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vu.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new R1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new R1(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new R1(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new R1(this.root_,null,this.comparator_,!0,e)}}function GY(n,e){return D_(n.name,e.name)}function HO(n,e){return D_(n,e)}Pa.EMPTY_NODE=new class jY{copy(e,t,i,r,s){return this}insert(e,t,i){return new vu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const HU=function(n){return"number"==typeof n?"number:"+oU(n):"string:"+n},jU=function(n){if(n.isLeafNode()){const e=n.val();(0,me.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,me.r3)(e,".sv"),"Priority must be a string or number.")}else(0,me.hu)(n===jO||n.isEmpty(),"priority of unexpected type.");(0,me.hu)(n===jO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GU,$U,zU,o0=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,me.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),jU(this.priorityNode_)}static set __childrenNodeConstructor(t){GU=t}static get __childrenNodeConstructor(){return GU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ni(t)?this:".priority"===ti(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ti(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,me.hu)(".priority"!==r||1===zp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($i(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+HU(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?oU(this.value_):this.value_,this.lazyHash_=nU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,me.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,me.hu)(s>=0,"Unknown leaf type: "+i),(0,me.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const nr=new class qY extends N1{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?D_(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return si.MIN}maxPost(){return new si(Ad,new o0("[PRIORITY-POST]",zU))}makePost(e,t){const i=$U(e);return new si(t,new o0("[PRIORITY-POST]",i))}toString(){return".priority"}},KY=Math.log(2);class ZY{constructor(e){this.count=parseInt(Math.log(e+1)/KY,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const k1=function(n,e,t,i){n.sort(e);const r=function(f,y){const E=y-f;let T,B;if(0===E)return null;if(1===E)return T=n[f],B=t?t(T):T,new vu(B,T.node,vu.BLACK,null,null);{const X=parseInt(E/2,10)+f,ge=r(f,X),Te=r(X+1,y);return T=n[X],B=t?t(T):T,new vu(B,T.node,vu.BLACK,ge,Te)}},d=function(f){let y=null,E=null,T=n.length;const B=function(ge,Te){const Ue=T-ge,rt=T;T-=ge;const dt=r(Ue+1,rt),bt=n[Ue],gt=t?t(bt):bt;X(new vu(gt,bt.node,Te,null,dt))},X=function(ge){y?(y.left=ge,y=ge):(E=ge,y=ge)};for(let ge=0;ge<f.count;++ge){const Te=f.nextBitIsOne(),Ue=Math.pow(2,f.count-(ge+1));Te?B(Ue,vu.BLACK):(B(Ue,vu.BLACK),B(Ue,vu.RED))}return E}(new ZY(n.length));return new Pa(i||e,d)};let GO;const a0={};class rf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,me.hu)(a0&&nr,"ChildrenNode.ts has not been loaded"),GO=GO||new rf({".priority":a0},{".priority":nr}),GO}get(e){const t=(0,me.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pa?t:null}hasIndex(e){return(0,me.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,me.hu)(e!==Md,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(si.Wrap);let d,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?k1(i,e.getCompare()):a0;const f=e.toString(),y=Object.assign({},this.indexSet_);y[f]=e;const E=Object.assign({},this.indexes_);return E[f]=d,new rf(E,y)}addToIndexes(e,t){const i=(0,me.UI)(this.indexes_,(r,s)=>{const c=(0,me.DV)(this.indexSet_,s);if((0,me.hu)(c,"Missing index implementation for "+s),r===a0){if(c.isDefinedOn(e.node)){const d=[],f=t.getIterator(si.Wrap);let y=f.getNext();for(;y;)y.name!==e.name&&d.push(y),y=f.getNext();return d.push(e),k1(d,c.getCompare())}return a0}{const d=t.get(e.name);let f=r;return d&&(f=f.remove(new si(e.name,d))),f.insert(e,e.node)}});return new rf(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,me.UI)(this.indexes_,r=>{if(r===a0)return r;{const s=t.get(e.name);return s?r.remove(new si(e.name,s)):r}});return new rf(i,this.indexSet_)}}let mC,jn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jU(this.priorityNode_),this.children_.isEmpty()&&(0,me.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mC||(mC=new n(new Pa(HO),null,rf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?mC:i}}getChild(t){const i=ti(t);return null===i?this:this.getImmediateChild(i).getChild($i(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,me.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new si(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?mC:this.priorityNode_;return new n(s,d,c)}}updateChild(t,i){const r=ti(t);if(null===r)return i;{(0,me.hu)(".priority"!==ti(t)||1===zp(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild($i(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(nr,(d,f)=>{i[d]=f.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!t&&c&&s<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+HU(this.getPriority().val())+":"),this.forEachChild(nr,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":nU(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new si(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new si(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new si(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,si.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,si.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_C?-1:0}withIndex(t){if(t===Md||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Md||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(nr),s=i.getIterator(nr);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===Md?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const _C=new class YY extends jn{constructor(){super(new Pa(HO),jn.EMPTY_NODE,rf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return jn.EMPTY_NODE}isEmpty(){return!1}};function Dr(n,e=null){if(null===n)return jn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,me.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new o0(n,Dr(e));if(n instanceof Array){let t=jn.EMPTY_NODE;return Hs(n,(i,r)=>{if((0,me.r3)(n,i)&&"."!==i.substring(0,1)){const s=Dr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Dr(e))}{const t=[];let i=!1;if(Hs(n,(c,d)=>{if("."!==c.substring(0,1)){const f=Dr(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new si(c,f)))}}),0===t.length)return jn.EMPTY_NODE;const s=k1(t,GY,c=>c.name,HO);if(i){const c=k1(t,nr.getCompare());return new jn(s,Dr(e),new rf({".priority":c},{".priority":nr}))}return new jn(s,Dr(e),rf.Default)}}Object.defineProperties(si,{MIN:{value:new si(nf,jn.EMPTY_NODE)},MAX:{value:new si(Ad,_C)}}),VU.__EMPTY_NODE=jn.EMPTY_NODE,o0.__childrenNodeConstructor=jn,function $Y(n){jO=n}(_C),function WY(n){zU=n}(_C),function zY(n){$U=n}(Dr);class $O extends N1{constructor(e){super(),this.indexPath_=e,(0,me.hu)(!ni(e)&&".priority"!==ti(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?D_(e.name,t.name):s}makePost(e,t){const i=Dr(e),r=jn.EMPTY_NODE.updateChild(this.indexPath_,i);return new si(t,r)}maxPost(){const e=jn.EMPTY_NODE.updateChild(this.indexPath_,_C);return new si(Ad,e)}toString(){return pC(this.indexPath_,0).join("/")}}const zO=new class JY extends N1{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?D_(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return si.MIN}maxPost(){return si.MAX}makePost(e,t){const i=Dr(e);return new si(t,i)}toString(){return".value"}},l0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XY=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=l0.charAt(t%64),t=Math.floor(t/64);(0,me.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=l0.charAt(e[r]);return(0,me.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),KU=function(n){if(n===""+xO)return"-";const e=S1(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return Ad;const s=l0.charAt(l0.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},ZU=function(n){if(n===""+aU)return nf;const e=S1(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+xO:(delete t[t.length-1],t.join("")):(t[t.length-1]=l0.charAt(l0.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function YU(n){return{type:"value",snapshotNode:n}}function c0(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function yC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function vC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class qO{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,me.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(yC(t,d)):(0,me.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(c0(t,i)):c.trackChildChange(vC(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(nr,(r,s)=>{t.hasChild(r)||i.trackChildChange(yC(r,s))}),t.isLeafNode()||t.forEachChild(nr,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(vC(r,s,c))}else i.trackChildChange(c0(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?jn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class bC{constructor(e){this.indexedFilter_=new qO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bC.getStartPost_(e),this.endPost_=bC.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new si(t,i))||(i=jn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=jn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(jn.EMPTY_NODE);const s=this;return t.forEachChild(nr,(c,d)=>{s.matches(new si(c,d))||(r=r.updateImmediateChild(c,jn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class t7{constructor(e){this.rangedFilter_=new bC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new si(t,i))||(i=jn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=jn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=jn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,f;if(r=t.withIndex(this.index_),r=r.updatePriority(jn.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();d=(B,X)=>T(X,B)}else f=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,E=!1;for(;f.hasNext();){const T=f.getNext();!E&&d(s,T)<=0&&(E=!0),E&&y<this.limit_&&d(T,c)<=0?y++:r=r.updateImmediateChild(T.name,jn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const T=this.index_.getCompare();c=(B,X)=>T(X,B)}else c=this.index_.getCompare();const d=e;(0,me.hu)(d.numChildren()===this.limit_,"");const f=new si(t,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),E=this.rangedFilter_.matches(f);if(d.hasChild(t)){const T=d.getImmediateChild(t);let B=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=B&&(B.name===t||d.hasChild(B.name));)B=r.getChildAfterChild(this.index_,B,this.reverse_);const X=null==B?1:c(B,f);if(E&&!i.isEmpty()&&X>=0)return s?.trackChildChange(vC(t,i,T)),d.updateImmediateChild(t,i);{s?.trackChildChange(yC(t,T));const Te=d.updateImmediateChild(t,jn.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(s?.trackChildChange(c0(B.name,B.node)),Te.updateImmediateChild(B.name,B.node)):Te}}return i.isEmpty()?e:E&&c(y,f)>=0?(null!=s&&(s.trackChildChange(yC(y.name,y.node)),s.trackChildChange(c0(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(y.name,jn.EMPTY_NODE)):e}}class P1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,me.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,me.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nf}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,me.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,me.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ad}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,me.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nr}copy(){const e=new P1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KO(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function ZO(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function F1(n,e){const t=n.copy();return t.index_=e,t}function QU(n){const e={};if(n.isDefault())return e;let t;return n.index_===nr?t="$priority":n.index_===zO?t="$value":n.index_===Md?t="$key":((0,me.hu)(n.index_ instanceof $O,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,me.Wl)(t),n.startSet_&&(e.startAt=(0,me.Wl)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,me.Wl)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,me.Wl)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,me.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function JU(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==nr&&(e.i=n.index_.toString()),e}class L1 extends OU{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=uC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,me.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=L1.getListenId_(e,i),d={};this.listens_[c]=d;const f=QU(e._queryParams);this.restRequest_(s+".json",f,(y,E)=>{let T=E;if(404===y&&(T=null,y=null),null===y&&this.onDataUpdate_(s,T,!1,i),(0,me.DV)(this.listens_,c)===d){let B;B=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(B,null)}})}unlisten(e,t){const i=L1.getListenId_(e,t);delete this.listens_[i]}get(e){const t=QU(e._queryParams),i=e._path.toString(),r=new me.BH;return this.restRequest_(i+".json",t,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,me.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,me.cI)(d.responseText)}catch{Mo("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Mo("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class a7{constructor(){this.rootNode_=jn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function B1(){return{value:null,children:new Map}}function u0(n,e,t){if(ni(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=ti(e);n.children.has(i)||n.children.set(i,B1()),u0(n.children.get(i),e=$i(e),t)}}function YO(n,e){if(ni(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(nr,(i,r)=>{u0(n,new Oi(i),r)}),YO(n,e)}}if(n.children.size>0){const t=ti(e);return e=$i(e),n.children.has(t)&&YO(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function QO(n,e,t){null!==n.value?t(e,n.value):function l7(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{QO(r,new Oi(e.toString()+"/"+i),t)})}class c7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Hs(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class h7{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new c7(e);const i=1e4+2e4*Math.random();hC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Hs(e,(r,s)=>{s>0&&(0,me.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),hC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Sc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Sc||(Sc={})),Sc))();function eR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class U1{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Sc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ni(this.path)){if(null!=this.affectedTree.value)return(0,me.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Oi(e));return new U1(Ci(),t,this.revert)}}return(0,me.hu)(ti(this.path)===e,"operationForChild called for unrelated child."),new U1($i(this.path),this.affectedTree,this.revert)}}class wC{constructor(e,t){this.source=e,this.path=t,this.type=Sc.LISTEN_COMPLETE}operationForChild(e){return ni(this.path)?new wC(this.source,Ci()):new wC(this.source,$i(this.path))}}class S_{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Sc.OVERWRITE}operationForChild(e){return ni(this.path)?new S_(this.source,Ci(),this.snap.getImmediateChild(e)):new S_(this.source,$i(this.path),this.snap)}}class d0{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Sc.MERGE}operationForChild(e){if(ni(this.path)){const t=this.children.subtree(new Oi(e));return t.isEmpty()?null:t.value?new S_(this.source,Ci(),t.value):new d0(this.source,Ci(),t)}return(0,me.hu)(ti(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new d0(this.source,$i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Wp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ni(e))return this.isFullyInitialized()&&!this.filtered_;const t=ti(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class f7{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function EC(n,e,t,i,r,s){const c=i.filter(d=>d.type===t);c.sort((d,f)=>function m7(n,e,t){if(null==e.childName||null==t.childName)throw(0,me.g5)("Should only compare child_ events.");const i=new si(e.childName,e.snapshotNode),r=new si(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),c.forEach(d=>{const f=function g7(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(y=>{y.respondsTo(d.type)&&e.push(y.createEvent(f,n.query_))})})}function V1(n,e){return{eventCache:n,serverCache:e}}function CC(n,e,t,i){return V1(new Wp(e,t,i),n.serverCache)}function eV(n,e,t,i){return V1(n.eventCache,new Wp(e,t,i))}function H1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function A_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let tR;class ir{constructor(e,t=(()=>(tR||(tR=new Pa(tY)),tR))()){this.value=e,this.children=t}static fromObject(e){let t=new ir(null);return Hs(e,(i,r)=>{t=t.set(new Oi(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ci(),value:this.value};if(ni(e))return null;{const i=ti(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue($i(e),t);return null!=s?{path:gr(new Oi(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ni(e))return this;{const t=ti(e),i=this.children.get(t);return null!==i?i.subtree($i(e)):new ir(null)}}set(e,t){if(ni(e))return new ir(t,this.children);{const i=ti(e),s=(this.children.get(i)||new ir(null)).set($i(e),t),c=this.children.insert(i,s);return new ir(this.value,c)}}remove(e){if(ni(e))return this.children.isEmpty()?new ir(null):new ir(null,this.children);{const t=ti(e),i=this.children.get(t);if(i){const r=i.remove($i(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new ir(null):new ir(this.value,s)}return this}}get(e){if(ni(e))return this.value;{const t=ti(e),i=this.children.get(t);return i?i.get($i(e)):null}}setTree(e,t){if(ni(e))return t;{const i=ti(e),s=(this.children.get(i)||new ir(null)).setTree($i(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ir(this.value,c)}}fold(e){return this.fold_(Ci(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(gr(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ci(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(ni(e))return null;{const s=ti(e),c=this.children.get(s);return c?c.findOnPath_($i(e),gr(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ci(),t)}foreachOnPath_(e,t,i){if(ni(e))return this;{this.value&&i(t,this.value);const r=ti(e),s=this.children.get(r);return s?s.foreachOnPath_($i(e),gr(t,r),i):new ir(null)}}foreach(e){this.foreach_(Ci(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(gr(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class bu{constructor(e){this.writeTree_=e}static empty(){return new bu(new ir(null))}}function DC(n,e,t){if(ni(e))return new bu(new ir(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=oa(r,e);return s=s.updateChild(c,t),new bu(n.writeTree_.set(r,s))}{const r=new ir(t),s=n.writeTree_.setTree(e,r);return new bu(s)}}}function nR(n,e,t){let i=n;return Hs(t,(r,s)=>{i=DC(i,gr(e,r),s)}),i}function tV(n,e){if(ni(e))return bu.empty();{const t=n.writeTree_.setTree(e,new ir(null));return new bu(t)}}function iR(n,e){return null!=M_(n,e)}function M_(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(oa(t.path,e)):null}function nV(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(nr,(i,r)=>{e.push(new si(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new si(i,r.value))}),e}function qp(n,e){if(ni(e))return n;{const t=M_(n,e);return new bu(null!=t?new ir(t):n.writeTree_.subtree(e))}}function rR(n){return n.writeTree_.isEmpty()}function h0(n,e){return iV(Ci(),n.writeTree_,e)}function iV(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,me.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=iV(gr(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(gr(n,".priority"),i)),t}}function j1(n,e){return lV(e,n)}function E7(n,e){if(n.snap)return Ic(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ic(gr(n.path,t),e))return!0;return!1}function D7(n){return n.visible}function rV(n,e,t){let i=bu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let d;if(s.snap)Ic(t,c)?(d=oa(t,c),i=DC(i,d,s.snap)):Ic(c,t)&&(d=oa(c,t),i=DC(i,Ci(),s.snap.getChild(d)));else{if(!s.children)throw(0,me.g5)("WriteRecord should have .snap or .children");if(Ic(t,c))d=oa(t,c),i=nR(i,d,s.children);else if(Ic(c,t))if(d=oa(c,t),ni(d))i=nR(i,Ci(),s.children);else{const f=(0,me.DV)(s.children,ti(d));if(f){const y=f.getChild($i(d));i=DC(i,Ci(),y)}}}}}return i}function sV(n,e,t,i,r){if(i||r){const s=qp(n.visibleWrites,e);return!r&&rR(s)?t:r||null!=t||iR(s,Ci())?h0(rV(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Ic(y.path,e)||Ic(e,y.path))},e),t||jn.EMPTY_NODE):null}{const s=M_(n.visibleWrites,e);if(null!=s)return s;{const c=qp(n.visibleWrites,e);return rR(c)?t:null!=t||iR(c,Ci())?h0(c,t||jn.EMPTY_NODE):null}}}function G1(n,e,t,i){return sV(n.writeTree,n.treePath,e,t,i)}function sR(n,e){return function T7(n,e,t){let i=jn.EMPTY_NODE;const r=M_(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(nr,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=qp(n.visibleWrites,e);return t.forEachChild(nr,(c,d)=>{const f=h0(qp(s,new Oi(c)),d);i=i.updateImmediateChild(c,f)}),nV(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return nV(qp(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function oV(n,e,t,i){return function I7(n,e,t,i,r){(0,me.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=gr(e,t);if(iR(n.visibleWrites,s))return null;{const c=qp(n.visibleWrites,s);return rR(c)?r.getChild(t):h0(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function $1(n,e){return function A7(n,e){return M_(n.visibleWrites,e)}(n.writeTree,gr(n.treePath,e))}function oR(n,e,t){return function S7(n,e,t,i){const r=gr(e,t),s=M_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?h0(qp(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function aV(n,e){return lV(gr(n.treePath,e),n.writeTree)}function lV(n,e){return{treePath:n,writeTree:e}}class O7{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,me.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,me.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,vC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,yC(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,c0(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,me.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,vC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const cV=new class R7{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class aR{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Wp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oR(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:A_(this.viewCache_),s=function N7(n,e,t,i,r,s){return function M7(n,e,t,i,r,s,c){let d;const f=qp(n.visibleWrites,e),y=M_(f,Ci());if(null!=y)d=y;else{if(null==t)return[];d=h0(f,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const E=[],T=c.getCompare(),B=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let X=B.getNext();for(;X&&E.length<r;)0!==T(X,i)&&E.push(X),X=B.getNext();return E}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function uV(n,e,t,i,r,s){const c=e.eventCache;if(null!=$1(i,t))return e;{let d,f;if(ni(t))if((0,me.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=A_(e),T=sR(i,y instanceof jn?y:jn.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),T,s)}else{const y=G1(i,A_(e));d=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=ti(t);if(".priority"===y){(0,me.hu)(1===zp(t),"Can't have a priority with additional path components");const E=c.getNode();f=e.serverCache.getNode();const T=oV(i,t,E,f);d=null!=T?n.filter.updatePriority(E,T):c.getNode()}else{const E=$i(t);let T;if(c.isCompleteForChild(y)){f=e.serverCache.getNode();const B=oV(i,t,c.getNode(),f);T=null!=B?c.getNode().getImmediateChild(y).updateChild(E,B):c.getNode().getImmediateChild(y)}else T=oR(i,y,e.serverCache);d=null!=T?n.filter.updateChild(c.getNode(),y,T,E,r,s):c.getNode()}}return CC(e,d,c.isFullyInitialized()||ni(t),n.filter.filtersNodes())}}function z1(n,e,t,i,r,s,c,d){const f=e.serverCache;let y;const E=c?n.filter:n.filter.getIndexedFilter();if(ni(t))y=E.updateFullNode(f.getNode(),i,null);else if(E.filtersNodes()&&!f.isFiltered()){const X=f.getNode().updateChild(t,i);y=E.updateFullNode(f.getNode(),X,null)}else{const X=ti(t);if(!f.isCompleteForPath(t)&&zp(t)>1)return e;const ge=$i(t),Ue=f.getNode().getImmediateChild(X).updateChild(ge,i);y=".priority"===X?E.updatePriority(f.getNode(),Ue):E.updateChild(f.getNode(),X,Ue,ge,cV,null)}const T=eV(e,y,f.isFullyInitialized()||ni(t),E.filtersNodes());return uV(n,T,t,r,new aR(r,T,s),d)}function lR(n,e,t,i,r,s,c){const d=e.eventCache;let f,y;const E=new aR(r,e,s);if(ni(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,c),f=CC(e,y,!0,n.filter.filtersNodes());else{const T=ti(t);if(".priority"===T)y=n.filter.updatePriority(e.eventCache.getNode(),i),f=CC(e,y,d.isFullyInitialized(),d.isFiltered());else{const B=$i(t),X=d.getNode().getImmediateChild(T);let ge;if(ni(B))ge=i;else{const Te=E.getCompleteChild(T);ge=null!=Te?".priority"===BO(B)&&Te.getChild(FU(B)).isEmpty()?Te:Te.updateChild(B,i):jn.EMPTY_NODE}f=X.equals(ge)?e:CC(e,n.filter.updateChild(d.getNode(),T,ge,B,E,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function dV(n,e){return n.eventCache.isCompleteForChild(e)}function hV(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function cR(n,e,t,i,r,s,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,f=e;y=ni(t)?i:new ir(null).setTree(t,i);const E=e.serverCache.getNode();return y.children.inorderTraversal((T,B)=>{if(E.hasChild(T)){const ge=hV(0,e.serverCache.getNode().getImmediateChild(T),B);f=z1(n,f,new Oi(T),ge,r,s,c,d)}}),y.children.inorderTraversal((T,B)=>{const X=!e.serverCache.isCompleteForChild(T)&&null===B.value;if(!E.hasChild(T)&&!X){const Te=hV(0,e.serverCache.getNode().getImmediateChild(T),B);f=z1(n,f,new Oi(T),Te,r,s,c,d)}}),f}class j7{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new qO(i.getIndex()),s=function n7(n){return n.loadsAllData()?new qO(n.getIndex()):n.hasLimit()?new t7(n):new bC(n)}(i);this.processor_=function k7(n){return{filter:n}}(s);const c=t.serverCache,d=t.eventCache,f=r.updateFullNode(jn.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(jn.EMPTY_NODE,d.getNode(),null),E=new Wp(f,c.isFullyInitialized(),r.filtersNodes()),T=new Wp(y,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=V1(T,E),this.eventGenerator_=new f7(this.query_)}get query(){return this.query_}}function z7(n,e){const t=A_(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ni(e)&&!t.getImmediateChild(ti(e)).isEmpty())?t.getChild(e):null}function fV(n){return 0===n.eventRegistrations_.length}function pV(n,e,t){const i=[];if(t){(0,me.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function gV(n,e,t,i){e.type===Sc.MERGE&&null!==e.source.queryId&&((0,me.hu)(A_(n.viewCache_),"We should always have a full cache before handling merges"),(0,me.hu)(H1(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function F7(n,e,t,i,r){const s=new O7;let c,d;if(t.type===Sc.OVERWRITE){const y=t;y.source.fromUser?c=lR(n,e,y.path,y.snap,i,r,s):((0,me.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered()&&!ni(y.path),c=z1(n,e,y.path,y.snap,i,r,d,s))}else if(t.type===Sc.MERGE){const y=t;y.source.fromUser?c=function B7(n,e,t,i,r,s,c){let d=e;return i.foreach((f,y)=>{const E=gr(t,f);dV(e,ti(E))&&(d=lR(n,d,E,y,r,s,c))}),i.foreach((f,y)=>{const E=gr(t,f);dV(e,ti(E))||(d=lR(n,d,E,y,r,s,c))}),d}(n,e,y.path,y.children,i,r,s):((0,me.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered(),c=cR(n,e,y.path,y.children,i,r,d,s))}else if(t.type===Sc.ACK_USER_WRITE){const y=t;c=y.revert?function H7(n,e,t,i,r,s){let c;if(null!=$1(i,t))return e;{const d=new aR(i,e,r),f=e.eventCache.getNode();let y;if(ni(t)||".priority"===ti(t)){let E;if(e.serverCache.isFullyInitialized())E=G1(i,A_(e));else{const T=e.serverCache.getNode();(0,me.hu)(T instanceof jn,"serverChildren would be complete if leaf node"),E=sR(i,T)}y=n.filter.updateFullNode(f,E,s)}else{const E=ti(t);let T=oR(i,E,e.serverCache);null==T&&e.serverCache.isCompleteForChild(E)&&(T=f.getImmediateChild(E)),y=null!=T?n.filter.updateChild(f,E,T,$i(t),d,s):e.eventCache.getNode().hasChild(E)?n.filter.updateChild(f,E,jn.EMPTY_NODE,$i(t),d,s):f,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=G1(i,A_(e)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=$1(i,Ci()),CC(e,y,c,n.filter.filtersNodes())}}(n,e,y.path,i,r,s):function U7(n,e,t,i,r,s,c){if(null!=$1(r,t))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=i.value){if(ni(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return z1(n,e,t,f.getNode().getChild(t),r,s,d,c);if(ni(t)){let y=new ir(null);return f.getNode().forEachChild(Md,(E,T)=>{y=y.set(new Oi(E),T)}),cR(n,e,t,y,r,s,d,c)}return e}{let y=new ir(null);return i.foreach((E,T)=>{const B=gr(t,E);f.isCompleteForPath(B)&&(y=y.set(E,f.getNode().getChild(B)))}),cR(n,e,t,y,r,s,d,c)}}(n,e,y.path,y.affectedTree,i,r,s)}else{if(t.type!==Sc.LISTEN_COMPLETE)throw(0,me.g5)("Unknown operation type: "+t.type);c=function V7(n,e,t,i,r){const s=e.serverCache;return uV(n,eV(e,s.getNode(),s.isFullyInitialized()||ni(t),s.isFiltered()),t,i,cV,r)}(n,e,t.path,i,s)}const f=s.getChanges();return function L7(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=H1(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(YU(H1(e)))}}(e,c,f),{viewCache:c,changes:f}}(n.processor_,r,e,t,i);return function P7(n,e){(0,me.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,me.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,me.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,mV(n,s.changes,s.viewCache.eventCache.getNode(),null)}function mV(n,e,t,i){return function p7(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function e7(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),EC(n,r,"child_removed",e,i,t),EC(n,r,"child_added",e,i,t),EC(n,r,"child_moved",s,i,t),EC(n,r,"child_changed",e,i,t),EC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let W1,K1;class _V{constructor(){this.views=new Map}}function uR(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,me.hu)(null!=s,"SyncTree gave us an op for an invalid query."),gV(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(gV(c,e,t,i));return s}}function yV(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let d=G1(t,r?i:null),f=!1;d?f=!0:i instanceof jn?(d=sR(t,i),f=!1):(d=jn.EMPTY_NODE,f=!1);const y=V1(new Wp(d,f,!1),new Wp(i,r,!1));return new j7(e,y)}return c}function vV(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Kp(n,e){let t=null;for(const i of n.views.values())t=t||z7(i,e);return t}function bV(n,e){return e._queryParams.loadsAllData()?q1(n):n.views.get(e._queryIdentifier)}function wV(n,e){return null!=bV(n,e)}function Zp(n){return null!=q1(n)}function q1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let t9=1;class EV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ir(null),this.pendingWriteTree_=function x7(){return{visibleWrites:bu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dR(n,e,t,i,r){return function y7(n,e,t,i,r){(0,me.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=DC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?f0(n,new S_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Yp(n,e,t=!1){const i=function b7(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function w7(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,me.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&E7(d,i.path)?r=!1:Ic(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function C7(n){n.visibleWrites=rV(n.allWrites,D7,Ci()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=tV(n.visibleWrites,i.path):Hs(i.children,f=>{n.visibleWrites=tV(n.visibleWrites,gr(i.path,f))}),!0))}(n.pendingWriteTree_,e)){let s=new ir(null);return null!=i.snap?s=s.set(Ci(),!0):Hs(i.children,c=>{s=s.set(new Oi(c),!0)}),f0(n,new U1(i.path,s,t))}return[]}function TC(n,e,t){return f0(n,new S_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Z1(n,e,t,i,r=!1){const s=e._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===e._queryIdentifier||wV(c,e))){const f=function J7(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const d=Zp(n);if("default"===r)for(const[f,y]of n.views.entries())c=c.concat(pV(y,t,i)),fV(y)&&(n.views.delete(f),y.query._queryParams.loadsAllData()||s.push(y.query));else{const f=n.views.get(r);f&&(c=c.concat(pV(f,t,i)),fV(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return d&&!Zp(n)&&s.push(new(function Z7(){return(0,me.hu)(W1,"Reference.ts has not been loaded"),W1}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,i);(function Y7(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const y=f.removed;if(d=f.events,!r){const E=-1!==y.findIndex(B=>B._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(s,(B,X)=>Zp(X));if(E&&!T){const B=n.syncPointTree_.subtree(s);if(!B.isEmpty()){const X=function l9(n){return n.fold((e,t,i)=>{if(t&&Zp(t))return[q1(t)];{let r=[];return t&&(r=vV(t)),Hs(i,(s,c)=>{r=r.concat(c)}),r}})}(B);for(let ge=0;ge<X.length;++ge){const Te=X[ge],Ue=Te.query,rt=IV(n,Te);n.listenProvider_.startListening(SC(Ue),IC(n,Ue),rt.hashFn,rt.onComplete)}}}!T&&y.length>0&&!i&&(E?n.listenProvider_.stopListening(SC(e),null):y.forEach(B=>{const X=n.queryToTagMap.get(Q1(B));n.listenProvider_.stopListening(SC(B),X)}))}!function c9(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=Q1(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,y)}return d}function CV(n,e,t,i){const r=fR(n,i);if(null!=r){const s=pR(r),c=s.path,d=s.queryId,f=oa(c,e);return gR(n,c,new S_(eR(d),f,t))}return[]}function hR(n,e,t,i=!1){const r=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(B,X)=>{const ge=oa(B,r);s=s||Kp(X,ge),c=c||Zp(X)});let f,d=n.syncPointTree_.get(r);d?(c=c||Zp(d),s=s||Kp(d,Ci())):(d=new _V,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?f=!0:(f=!1,s=jn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((X,ge)=>{const Te=Kp(ge,Ci());Te&&(s=s.updateImmediateChild(X,Te))}));const y=wV(d,e);if(!y&&!e._queryParams.loadsAllData()){const B=Q1(e);(0,me.hu)(!n.queryToTagMap.has(B),"View does not exist, but we have a tag");const X=function u9(){return t9++}();n.queryToTagMap.set(B,X),n.tagToQueryMap.set(X,B)}let T=function Q7(n,e,t,i,r,s){const c=yV(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function W7(n,e){n.eventRegistrations_.push(e)}(c,t),function q7(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(nr,(s,c)=>{i.push(c0(s,c))}),t.isFullyInitialized()&&i.push(YU(t.getNode())),mV(n,i,t.getNode(),e)}(c,t)}(d,e,t,j1(n.pendingWriteTree_,r),s,f);if(!y&&!c&&!i){const B=bV(d,e);T=T.concat(function d9(n,e,t){const i=e._path,r=IC(n,e),s=IV(n,t),c=n.listenProvider_.startListening(SC(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,me.hu)(!Zp(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((y,E,T)=>{if(!ni(y)&&E&&Zp(E))return[q1(E).query];{let B=[];return E&&(B=B.concat(vV(E).map(X=>X.query))),Hs(T,(X,ge)=>{B=B.concat(ge)}),B}});for(let y=0;y<f.length;++y){const E=f[y];n.listenProvider_.stopListening(SC(E),IC(n,E))}}return c}(n,e,B))}return T}function Y1(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,d)=>{const y=Kp(d,oa(c,e));if(y)return y});return sV(r,e,s,t,!0)}function f0(n,e){return DV(e,n.syncPointTree_,null,j1(n.pendingWriteTree_,Ci()))}function DV(n,e,t,i){if(ni(n.path))return TV(n,e,t,i);{const r=e.get(Ci());null==t&&null!=r&&(t=Kp(r,Ci()));let s=[];const c=ti(n.path),d=n.operationForChild(c),f=e.children.get(c);if(f&&d){const y=t?t.getImmediateChild(c):null,E=aV(i,c);s=s.concat(DV(d,f,y,E))}return r&&(s=s.concat(uR(r,n,i,t))),s}}function TV(n,e,t,i){const r=e.get(Ci());null==t&&null!=r&&(t=Kp(r,Ci()));let s=[];return e.children.inorderTraversal((c,d)=>{const f=t?t.getImmediateChild(c):null,y=aV(i,c),E=n.operationForChild(c);E&&(s=s.concat(TV(E,d,f,y)))}),r&&(s=s.concat(uR(r,n,i,t))),s}function IV(n,e){const t=e.query,i=IC(n,t);return{hashFn:()=>(function G7(n){return n.viewCache_.serverCache.getNode()}(e)||jn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function s9(n,e,t){const i=fR(n,t);if(i){const r=pR(i),s=r.path,c=r.queryId,d=oa(s,e);return gR(n,s,new wC(eR(c),d))}return[]}(n,t._path,i):function r9(n,e){return f0(n,new wC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function rY(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return Z1(n,t,null,s)}}}}function IC(n,e){const t=Q1(e);return n.queryToTagMap.get(t)}function Q1(n){return n._path.toString()+"$"+n._queryIdentifier}function fR(n,e){return n.tagToQueryMap.get(e)}function pR(n){const e=n.indexOf("$");return(0,me.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Oi(n.substr(0,e))}}function gR(n,e,t){const i=n.syncPointTree_.get(e);return(0,me.hu)(i,"Missing sync point for query tag that we're tracking"),uR(i,t,j1(n.pendingWriteTree_,e),null)}function SC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function e9(){return(0,me.hu)(K1,"Reference.ts has not been loaded"),K1}())(n._repo,n._path):n}class mR{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new mR(t)}node(){return this.node_}}class _R{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=gr(this.path_,e);return new _R(this.syncTree_,t)}node(){return Y1(this.syncTree_,this.path_)}}const SV=function(n,e,t){return n&&"object"==typeof n?((0,me.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?f9(n[".sv"],e,t):"object"==typeof n[".sv"]?p9(n[".sv"],e):void(0,me.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},f9=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,me.hu)(!1,"Unexpected server value: "+n)},p9=function(n,e,t){n.hasOwnProperty("increment")||(0,me.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,me.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,me.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},AV=function(n,e,t,i){return vR(e,new _R(t,n),i)},yR=function(n,e,t){return vR(n,new mR(e),t)};function vR(n,e,t){const i=n.getPriority().val(),r=SV(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,d=SV(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new o0(d,Dr(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new o0(r))),c.forEachChild(nr,(d,f)=>{const y=vR(f,e.getImmediateChild(d),t);y!==f&&(s=s.updateImmediateChild(d,y))}),s}}class bR{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function J1(n,e){let t=e instanceof Oi?e:new Oi(e),i=n,r=ti(t);for(;null!==r;){const s=(0,me.DV)(i.node.children,r)||{children:{},childCount:0};i=new bR(r,i,s),t=$i(t),r=ti(t)}return i}function x_(n){return n.node.value}function wR(n,e){n.node.value=e,ER(n)}function MV(n){return n.node.childCount>0}function X1(n,e){Hs(n.node.children,(t,i)=>{e(new bR(t,n,i))})}function xV(n,e,t,i){t&&!i&&e(n),X1(n,r=>{xV(r,e,!0,i)}),t&&i&&e(n)}function AC(n){return new Oi(null===n.parent?n.name:AC(n.parent)+"/"+n.name)}function ER(n){null!==n.parent&&function _9(n,e,t){const i=function g9(n){return void 0===x_(n)&&!MV(n)}(t),r=(0,me.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,ER(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,ER(n))}(n.parent,n.name,n)}const y9=/[\[\].#$\/\u0000-\u001F\u007F]/,v9=/[\[\].#$\u0000-\u001F\u007F]/,CR=10485760,eA=function(n){return"string"==typeof n&&0!==n.length&&!y9.test(n)},NV=function(n){return"string"==typeof n&&0!==n.length&&!v9.test(n)},MC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!I1(n)||n&&"object"==typeof n&&(0,me.r3)(n,".sv")},xd=function(n,e,t,i){i&&void 0===e||xC((0,me.gK)(n,"value"),e,t)},xC=function(n,e,t){const i=t instanceof Oi?new PY(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+T_(i));if("function"==typeof e)throw new Error(n+"contains a function "+T_(i)+" with contents = "+e.toString());if(I1(e))throw new Error(n+"contains "+e.toString()+" "+T_(i));if("string"==typeof e&&e.length>CR/3&&(0,me.ug)(e)>CR)throw new Error(n+"contains a string greater than "+CR+" utf8 bytes "+T_(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Hs(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!eA(c)))throw new Error(n+" contains an invalid key ("+c+") "+T_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function FY(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,me.ug)(e),LU(n)})(i,c),xC(n,d,i),function LY(n){const e=n.parts_.pop();n.byteLength_-=(0,me.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+T_(i)+" in addition to actual children.")}},OV=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,me.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Hs(e,(c,d)=>{const f=new Oi(c);if(xC(r,d,gr(t,f)),".priority"===BO(f)&&!MC(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=pC(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!eA(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(kY);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Ic(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},DR=function(n,e,t){if(!t||void 0!==e){if(I1(e))throw new Error((0,me.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!MC(e))throw new Error((0,me.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},NC=function(n,e,t,i){if(!(i&&void 0===t||eA(t)))throw new Error((0,me.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},OC=function(n,e,t,i){if(!(i&&void 0===t||NV(t)))throw new Error((0,me.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ac=function(n,e){if(".info"===ti(e))throw new Error(n+" failed = Can't modify data under /.info/")},RV=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!eA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),NV(n)}(t))throw new Error((0,me.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class C9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tA(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!UO(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function kV(n,e,t){tA(n,t),PV(n,i=>UO(i,e))}function Al(n,e,t){tA(n,t),PV(n,i=>Ic(i,e)||Ic(e,i))}function PV(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(D9(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function D9(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();C_&&Vs("event: "+t.toString()),r0(i)}}}const FV="repo_interrupt";class I9{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new C9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=B1(),this.transactionQueueTree_=new bR,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LV(n){const t=n.infoData_.getNode(new Oi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function RC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:LV(n)})}function BV(n,e,t,i,r){n.dataUpdateCount++;const s=new Oi(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const f=(0,me.UI)(t,y=>Dr(y));c=function o9(n,e,t,i){const r=fR(n,i);if(r){const s=pR(r),c=s.path,d=s.queryId,f=oa(c,e),y=ir.fromObject(t);return gR(n,c,new d0(eR(d),f,y))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=Dr(t);c=CV(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,me.UI)(t,y=>Dr(y));c=function i9(n,e,t){const i=ir.fromObject(t);return f0(n,new d0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,f)}else{const f=Dr(t);c=TC(n.serverSyncTree_,s,f)}let d=s;c.length>0&&(d=g0(n,s)),Al(n.eventQueue_,d,c)}function UV(n,e){TR(n,"connected",e),!1===e&&function N9(n){p0(n,"onDisconnectEvents");const e=RC(n),t=B1();QO(n.onDisconnect_,Ci(),(r,s)=>{const c=AV(r,s,n.serverSyncTree_,e);u0(t,r,c)});let i=[];QO(t,Ci(),(r,s)=>{i=i.concat(TC(n.serverSyncTree_,r,s));const c=MR(n,r);g0(n,c)}),n.onDisconnect_=B1(),Al(n.eventQueue_,Ci(),i)}(n)}function TR(n,e,t){const i=new Oi("/.info/"+e),r=Dr(t);n.infoData_.updateSnapshot(i,r);const s=TC(n.infoSyncTree_,i,r);Al(n.eventQueue_,i,s)}function nA(n){return n.nextWriteId_++}function IR(n,e,t,i,r){p0(n,"set",{path:e.toString(),value:t,priority:i});const s=RC(n),c=Dr(t,i),d=Y1(n.serverSyncTree_,e),f=yR(c,d,s),y=nA(n),E=dR(n.serverSyncTree_,e,f,y,!0);tA(n.eventQueue_,E),n.server_.put(e.toString(),c.val(!0),(B,X)=>{const ge="ok"===B;ge||Mo("set at "+e+" failed: "+B);const Te=Yp(n.serverSyncTree_,y,!ge);Al(n.eventQueue_,e,Te),Qp(0,r,B,X)});const T=MR(n,e);g0(n,T),Al(n.eventQueue_,T,[])}function O9(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&YO(n.onDisconnect_,e),Qp(0,t,i,r)})}function VV(n,e,t,i){const r=Dr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&u0(n.onDisconnect_,e,r),Qp(0,i,s,c)})}function SR(n,e,t){let i;i=".info"===ti(e._path)?Z1(n.infoSyncTree_,e,t):Z1(n.serverSyncTree_,e,t),kV(n.eventQueue_,e._path,i)}function HV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(FV)}function p0(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Vs(t,...e)}function Qp(n,e,t,i){e&&r0(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function AR(n,e,t){return Y1(n.serverSyncTree_,e,t)||jn.EMPTY_NODE}function iA(n,e=n.transactionQueueTree_){if(e||rA(n,e),x_(e)){const t=GV(n,e);(0,me.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function B9(n,e,t){const i=t.map(y=>y.currentWriteId),r=AR(n,e,i);let s=r;const c=r.hash();for(let y=0;y<t.length;y++){const E=t[y];(0,me.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const T=oa(e,E.path);s=s.updateChild(T,E.currentOutputSnapshotRaw)}const d=s.val(!0),f=e;n.server_.put(f.toString(),d,y=>{p0(n,"transaction put response",{path:f.toString(),status:y});let E=[];if("ok"===y){const T=[];for(let B=0;B<t.length;B++)t[B].status=2,E=E.concat(Yp(n.serverSyncTree_,t[B].currentWriteId)),t[B].onComplete&&T.push(()=>t[B].onComplete(null,!0,t[B].currentOutputSnapshotResolved)),t[B].unwatcher();rA(n,J1(n.transactionQueueTree_,e)),iA(n,n.transactionQueueTree_),Al(n.eventQueue_,e,E);for(let B=0;B<T.length;B++)r0(T[B])}else{if("datastale"===y)for(let T=0;T<t.length;T++)t[T].status=3===t[T].status?4:0;else{Mo("transaction at "+f.toString()+" failed: "+y);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=y}g0(n,e)}},c)}(n,AC(e),t)}else MV(e)&&X1(e,t=>{iA(n,t)})}function g0(n,e){const t=jV(n,e),i=AC(t);return function U9(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],y=oa(t,f.path);let T,E=!1;if((0,me.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)E=!0,T=f.abortReason,r=r.concat(Yp(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)E=!0,T="maxretry",r=r.concat(Yp(n.serverSyncTree_,f.currentWriteId,!0));else{const B=AR(n,f.path,c);f.currentInputSnapshot=B;const X=e[d].update(B.val());if(void 0!==X){xC("transaction failed: Data returned ",X,f.path);let ge=Dr(X);"object"==typeof X&&null!=X&&(0,me.r3)(X,".priority")||(ge=ge.updatePriority(B.getPriority()));const Ue=f.currentWriteId,rt=RC(n),dt=yR(ge,B,rt);f.currentOutputSnapshotRaw=ge,f.currentOutputSnapshotResolved=dt,f.currentWriteId=nA(n),c.splice(c.indexOf(Ue),1),r=r.concat(dR(n.serverSyncTree_,f.path,dt,f.currentWriteId,f.applyLocally)),r=r.concat(Yp(n.serverSyncTree_,Ue,!0))}else E=!0,T="nodata",r=r.concat(Yp(n.serverSyncTree_,f.currentWriteId,!0))}Al(n.eventQueue_,t,r),r=[],E&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===T?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(T),!1,null)))}rA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)r0(i[d]);iA(n,n.transactionQueueTree_)}(n,GV(n,t),i),i}function jV(n,e){let t,i=n.transactionQueueTree_;for(t=ti(e);null!==t&&void 0===x_(i);)i=J1(i,t),t=ti(e=$i(e));return i}function GV(n,e){const t=[];return $V(n,e,t),t.sort((i,r)=>i.order-r.order),t}function $V(n,e,t){const i=x_(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);X1(e,r=>{$V(n,r,t)})}function rA(n,e){const t=x_(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,wR(e,t.length>0?t:void 0)}X1(e,i=>{rA(n,i)})}function MR(n,e){const t=AC(jV(n,e)),i=J1(n.transactionQueueTree_,e);return function m9(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{xR(n,r)}),xR(n,i),xV(i,r=>{xR(n,r)}),t}function xR(n,e){const t=x_(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,me.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,me.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Yp(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?wR(e,void 0):t.length=s+1,Al(n.eventQueue_,AC(e),r);for(let c=0;c<i.length;c++)r0(i[c])}}const NR=function(n,e){const t=j9(n),i=t.namespace;return"firebase.com"===t.domain&&Sd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Sd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new OO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Oi(t.pathString)}},j9=function(n){let e="",t="",i="",r="",s="",c=!0,d="https",f=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let E=n.indexOf("/");-1===E&&(E=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),e=n.substring(0,Math.min(E,T)),E<T&&(r=function V9(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(E,T)));const B=function H9(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Mo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,T)));y=e.indexOf(":"),y>=0?(c="https"===d||"wss"===d,f=parseInt(e.substring(y+1),10)):y=e.length;const X=e.slice(0,y);if("localhost"===X.toLowerCase())t="localhost";else if(X.split(".").length<=2)t=X;else{const ge=e.indexOf(".");i=e.substring(0,ge).toLowerCase(),t=e.substring(ge+1),s=i}"ns"in B&&(s=B.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class zV{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,me.Wl)(this.snapshot.exportVal())}}class WV{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class OR{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,me.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class qV{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new me.BH;return O9(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ac("OnDisconnect.remove",this._path);const e=new me.BH;return VV(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ac("OnDisconnect.set",this._path),xd("OnDisconnect.set",e,this._path,!1);const t=new me.BH;return VV(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Ac("OnDisconnect.setWithPriority",this._path),xd("OnDisconnect.setWithPriority",e,this._path,!1),DR("OnDisconnect.setWithPriority",t,!1);const i=new me.BH;return function R9(n,e,t,i,r){const s=Dr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,d)=>{"ok"===c&&u0(n.onDisconnect_,e,s),Qp(0,r,c,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Ac("OnDisconnect.update",this._path),OV("OnDisconnect.update",e,this._path,!1);const t=new me.BH;return function k9(n,e,t,i){if((0,me.xb)(t))return Vs("onDisconnect().update() called with empty data.  Don't do anything."),void Qp(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Hs(t,(c,d)=>{const f=Dr(d);u0(n.onDisconnect_,gr(e,c),f)}),Qp(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Fa{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ni(this._path)?null:BO(this._path)}get ref(){return new Mc(this._repo,this._path)}get _queryIdentifier(){const e=JU(this._queryParams),t=MO(e);return"{}"===t?"default":t}get _queryObject(){return JU(this._queryParams)}isEqual(e){if(!((e=(0,me.m9)(e))instanceof Fa))return!1;const t=this._repo===e._repo,i=UO(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function RY(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function sA(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Jp(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Md){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==nf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ad)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===nr){if(null!=e&&!MC(e)||null!=t&&!MC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,me.hu)(n.getIndex()instanceof $O||n.getIndex()===zO,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function oA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Mc extends Fa{constructor(e,t){super(e,t,new P1,!1)}get parent(){const e=FU(this._path);return null===e?null:new Mc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class N_{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Oi(e),i=O_(this.ref,e);return new N_(this._node.getChild(t),i,nr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new N_(r,O_(this.ref,i),nr)))}hasChild(e){const t=new Oi(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function KV(n,e){return(n=(0,me.m9)(n))._checkNotDeleted("ref"),void 0!==e?O_(n._root,e):n._root}function ZV(n,e){(n=(0,me.m9)(n))._checkNotDeleted("refFromURL");const t=NR(e,n._repo.repoInfo_.nodeAdmin);RV("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Sd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),KV(n,t.path.toString())}function O_(n,e){return null===ti((n=(0,me.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OC("child","path",t,!1)):OC("child","path",e,!1),new Mc(n._repo,gr(n._path,e));var t}function RR(n,e){n=(0,me.m9)(n),Ac("set",n._path),xd("set",e,n._path,!1);const t=new me.BH;return IR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function q9(n,e){OV("update",e,n._path,!1);const t=new me.BH;return function x9(n,e,t,i){p0(n,"update",{path:e.toString(),value:t});let r=!0;const s=RC(n),c={};if(Hs(t,(d,f)=>{r=!1,c[d]=AV(gr(e,d),Dr(f),n.serverSyncTree_,s)}),r)Vs("update() called with empty data.  Don't do anything."),Qp(0,i,"ok",void 0);else{const d=nA(n),f=function n9(n,e,t,i){!function v7(n,e,t,i){(0,me.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=nR(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=ir.fromObject(t);return f0(n,new d0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,d);tA(n.eventQueue_,f),n.server_.merge(e.toString(),t,(y,E)=>{const T="ok"===y;T||Mo("update at "+e+" failed: "+y);const B=Yp(n.serverSyncTree_,d,!T),X=B.length>0?g0(n,e):e;Al(n.eventQueue_,X,B),Qp(0,i,y,E)}),Hs(t,y=>{const E=MR(n,gr(e,y));g0(n,E)}),Al(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function K9(n){n=(0,me.m9)(n);const e=new OR(()=>{}),t=new kC(e);return function M9(n,e,t){const i=function a9(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,E)=>{const T=oa(y,t);i=i||Kp(E,T)});let r=n.syncPointTree_.get(t);r?i=i||Kp(r,Ci()):(r=new _V,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Wp(i,!0,!1):null;return function $7(n){return H1(n.viewCache_)}(yV(r,e,j1(n.pendingWriteTree_,e._path),s?c.getNode():jn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=Dr(r).withIndex(e._queryParams.getIndex());let c;if(hR(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=TC(n.serverSyncTree_,e._path,s);else{const d=IC(n.serverSyncTree_,e);c=CV(n.serverSyncTree_,e._path,s,d)}return Al(n.eventQueue_,e._path,c),Z1(n.serverSyncTree_,e,t,null,!0),s},r=>(p0(n,"get for query "+(0,me.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new N_(i,new Mc(n._repo,n._path),n._queryParams.getIndex()))}class kC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new zV("value",this,new N_(e.snapshotNode,new Mc(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new WV(this,e,t):null}matches(e){return e instanceof kC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class aA{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new WV(this,e,t):null}createEvent(e,t){(0,me.hu)(null!=e.childName,"Child events should have a childName.");const i=O_(new Mc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new zV(e.type,this,new N_(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof aA&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function PC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=t,y=(E,T)=>{SR(n._repo,n,d),f(E,T)};y.userCallback=t.userCallback,y.context=t.context,t=y}const c=new OR(t,s||void 0),d="value"===e?new kC(c):new aA(e,c);return function P9(n,e,t){let i;i=".info"===ti(e._path)?hR(n.infoSyncTree_,e,t):hR(n.serverSyncTree_,e,t),kV(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>SR(n._repo,n,d)}function kR(n,e,t,i){return PC(n,"value",e,t,i)}function YV(n,e,t,i){return PC(n,"child_added",e,t,i)}function QV(n,e,t,i){return PC(n,"child_changed",e,t,i)}function JV(n,e,t,i){return PC(n,"child_moved",e,t,i)}function XV(n,e,t,i){return PC(n,"child_removed",e,t,i)}function eH(n,e,t){let i=null;const r=t?new OR(t):null;"value"===e?i=new kC(r):e&&(i=new aA(e,r)),SR(n._repo,n,i)}class wu{}class tH extends wu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("endAt",this._value,e._path,!0);const t=ZO(e._queryParams,this._value,this._key);if(oA(t),Jp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fa(e._repo,e._path,t,e._orderByCalled)}}class Y9 extends wu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("endBefore",this._value,e._path,!1);const t=function o7(n,e,t){let i,r;return n.index_===Md?("string"==typeof e&&(e=ZU(e)),r=ZO(n,e,t)):(i=null==t?nf:ZU(t),r=ZO(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(oA(t),Jp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fa(e._repo,e._path,t,e._orderByCalled)}}class nH extends wu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("startAt",this._value,e._path,!0);const t=KO(e._queryParams,this._value,this._key);if(oA(t),Jp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fa(e._repo,e._path,t,e._orderByCalled)}}class X9 extends wu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){xd("startAfter",this._value,e._path,!1);const t=function s7(n,e,t){let i;if(n.index_===Md)"string"==typeof e&&(e=KU(e)),i=KO(n,e,t);else{let r;r=null==t?Ad:KU(t),i=KO(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(oA(t),Jp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fa(e._repo,e._path,t,e._orderByCalled)}}class tQ extends wu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fa(e._repo,e._path,function i7(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class iQ extends wu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fa(e._repo,e._path,function r7(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class sQ extends wu{constructor(e){super(),this._path=e}_apply(e){sA(e,"orderByChild");const t=new Oi(this._path);if(ni(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new $O(t),r=F1(e._queryParams,i);return Jp(r),new Fa(e._repo,e._path,r,!0)}}class aQ extends wu{_apply(e){sA(e,"orderByKey");const t=F1(e._queryParams,Md);return Jp(t),new Fa(e._repo,e._path,t,!0)}}class cQ extends wu{_apply(e){sA(e,"orderByPriority");const t=F1(e._queryParams,nr);return Jp(t),new Fa(e._repo,e._path,t,!0)}}class dQ extends wu{_apply(e){sA(e,"orderByValue");const t=F1(e._queryParams,zO);return Jp(t),new Fa(e._repo,e._path,t,!0)}}class fQ extends wu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(xd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tH(this._value,this._key)._apply(new nH(this._value,this._key)._apply(e))}}function Eu(n,...e){let t=(0,me.m9)(n);for(const i of e)t=i._apply(t);return t}(function K7(n){(0,me.hu)(!W1,"__referenceConstructor has already been defined"),W1=n})(Mc),function X7(n){(0,me.hu)(!K1,"__referenceConstructor has already been defined"),K1=n}(Mc);const PR={};function rH(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Sd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,y,c=NR(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(f=!0,s=`http://${y}?ns=${d.namespace}`,c=NR(s,r),d=c.repoInfo):f=!c.repoInfo.secure;const E=r&&f?new fC(fC.OWNER):new lY(n.name,n.options,e);RV("Invalid Firebase Database URL",c),ni(c.path)||Sd("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function yQ(n,e,t,i){let r=PR[e.name];r||(r={},PR[e.name]=r);let s=r[n.toURLString()];return s&&Sd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new I9(n,false,t,i),r[n.toURLString()]=s,s}(d,n,E,new aY(n.name,t));return new bQ(T,n)}class bQ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function S9(n,e,t){if(n.stats_=PO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new L1(n.repoInfo_,(i,r,s,c)=>{BV(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>UV(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,me.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new I_(n.repoInfo_,e,(i,r,s,c)=>{BV(n,i,r,s,c)},i=>{UV(n,i)},i=>{!function A9(n,e){Hs(e,(t,i)=>{TR(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function dY(n,e){const t=n.toString();return kO[t]||(kO[t]=e()),kO[t]}(n.repoInfo_,()=>new h7(n.stats_,n.server_)),n.infoData_=new a7,n.infoSyncTree_=new EV({startListening:(i,r,s,c)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=TC(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),TR(n,"connected",!1),n.serverSyncTree_=new EV({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,f)=>{const y=c(d,f);Al(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mc(this._repo,Ci())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _Q(n,e){const t=PR[e];(!t||t[n.key]!==n)&&Sd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),HV(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Sd("Cannot call "+e+" on a deleted database.")}}function sH(){DU.IS_TRANSPORT_INITIALIZED&&Mo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function wQ(){sH(),$p.forceDisallow()}function EQ(){sH(),s0.forceDisallow(),$p.forceAllow()}function TQ(n,e){rU(n,e)}const SQ={".sv":"timestamp"};class xQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}I_.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},I_.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function IQ(n){XB(rs.SDK_VERSION),(0,rs._registerComponent)(new Rs.wA("database",(e,{instanceIdentifier:t})=>rH(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,rs.registerVersion)(QB,JB,n),(0,rs.registerVersion)(QB,JB,"esm2017")}();const kQ=new Co.Yd("@firebase/database-compat"),aH=function(n){kQ.warn("FIREBASE WARNING: "+n)};class LQ{constructor(e){this._delegate=e}cancel(e){(0,me.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,me.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,me.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,me.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,me.Dv)("OnDisconnect.set",1,2,arguments.length),(0,me.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,me.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,me.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,me.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,aH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,me.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class BQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,me.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,me.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,me.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,me.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,me.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,me.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),OC("DataSnapshot.child","path",e,!1),new Xp(this._database,this._delegate.child(e))}hasChild(e){return(0,me.Dv)("DataSnapshot.hasChild",1,1,arguments.length),OC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,me.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,me.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,me.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Xp(this._database,t)))}hasChildren(){return(0,me.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,me.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,me.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ml(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class co{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,me.Dv)("Query.on",2,4,arguments.length),(0,me.Wj)("Query.on","callback",t,!1);const c=co.getCancelAndContextArgs_("Query.on",i,r),d=(y,E)=>{t.call(c.context,new Xp(this.database,y),E)};d.userCallback=t,d.context=c.context;const f=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return kR(this._delegate,d,f),t;case"child_added":return YV(this._delegate,d,f),t;case"child_removed":return XV(this._delegate,d,f),t;case"child_changed":return QV(this._delegate,d,f),t;case"child_moved":return JV(this._delegate,d,f),t;default:throw new Error((0,me.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,me.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,me.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,me.Wj)("Query.off","callback",t,!0),(0,me.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,eH(this._delegate,e,r)}else eH(this._delegate,e)}get(){return K9(this._delegate).then(e=>new Xp(this.database,e))}once(e,t,i,r){(0,me.Dv)("Query.once",1,4,arguments.length),(0,me.Wj)("Query.once","callback",t,!0);const s=co.getCancelAndContextArgs_("Query.once",i,r),c=new me.BH,d=(y,E)=>{const T=new Xp(this.database,y);t&&t.call(s.context,T,E),c.resolve(T)};d.userCallback=t,d.context=s.context;const f=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(e){case"value":kR(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":YV(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":XV(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":QV(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":JV(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,me.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,me.Dv)("Query.limitToFirst",1,1,arguments.length),new co(this.database,Eu(this._delegate,function nQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tQ(n)}(e)))}limitToLast(e){return(0,me.Dv)("Query.limitToLast",1,1,arguments.length),new co(this.database,Eu(this._delegate,function rQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new iQ(n)}(e)))}orderByChild(e){return(0,me.Dv)("Query.orderByChild",1,1,arguments.length),new co(this.database,Eu(this._delegate,function oQ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return OC("orderByChild","path",n,!1),new sQ(n)}(e)))}orderByKey(){return(0,me.Dv)("Query.orderByKey",0,0,arguments.length),new co(this.database,Eu(this._delegate,function lQ(){return new aQ}()))}orderByPriority(){return(0,me.Dv)("Query.orderByPriority",0,0,arguments.length),new co(this.database,Eu(this._delegate,function uQ(){return new cQ}()))}orderByValue(){return(0,me.Dv)("Query.orderByValue",0,0,arguments.length),new co(this.database,Eu(this._delegate,function hQ(){return new dQ}()))}startAt(e=null,t){return(0,me.Dv)("Query.startAt",0,2,arguments.length),new co(this.database,Eu(this._delegate,function J9(n=null,e){return NC("startAt","key",e,!0),new nH(n,e)}(e,t)))}startAfter(e=null,t){return(0,me.Dv)("Query.startAfter",0,2,arguments.length),new co(this.database,Eu(this._delegate,function eQ(n,e){return NC("startAfter","key",e,!0),new X9(n,e)}(e,t)))}endAt(e=null,t){return(0,me.Dv)("Query.endAt",0,2,arguments.length),new co(this.database,Eu(this._delegate,function Z9(n,e){return NC("endAt","key",e,!0),new tH(n,e)}(e,t)))}endBefore(e=null,t){return(0,me.Dv)("Query.endBefore",0,2,arguments.length),new co(this.database,Eu(this._delegate,function Q9(n,e){return NC("endBefore","key",e,!0),new Y9(n,e)}(e,t)))}equalTo(e,t){return(0,me.Dv)("Query.equalTo",1,2,arguments.length),new co(this.database,Eu(this._delegate,function pQ(n,e){return NC("equalTo","key",e,!0),new fQ(n,e)}(e,t)))}toString(){return(0,me.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,me.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,me.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof co))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,me.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,me.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,me.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ml(this.database,new Mc(this._delegate._repo,this._delegate._path))}}class Ml extends co{constructor(e,t){super(e,new Fa(t._repo,t._path,new P1,!1)),this.database=e,this._delegate=t}getKey(){return(0,me.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,me.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ml(this.database,O_(this._delegate,e))}getParent(){(0,me.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ml(this.database,e):null}getRoot(){return(0,me.Dv)("Reference.root",0,0,arguments.length),new Ml(this.database,this._delegate.root)}set(e,t){(0,me.Dv)("Reference.set",1,2,arguments.length),(0,me.Wj)("Reference.set","onComplete",t,!0);const i=RR(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,me.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,aH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ac("Reference.update",this._delegate._path),(0,me.Wj)("Reference.update","onComplete",t,!0);const i=q9(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,me.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,me.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function W9(n,e,t){if(Ac("setWithPriority",n._path),xd("setWithPriority",e,n._path,!1),DR("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new me.BH;return IR(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,me.Dv)("Reference.remove",0,1,arguments.length),(0,me.Wj)("Reference.remove","onComplete",e,!0);const t=function $9(n){return Ac("remove",n._path),RR(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,me.Dv)("Reference.transaction",1,3,arguments.length),(0,me.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,me.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,me.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function NQ(n,e,t){var i;if(n=(0,me.m9)(n),Ac("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new me.BH,d=kR(n,()=>{});return function L9(n,e,t,i,r,s){p0(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:tU(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=AR(n,e,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{xC("transaction failed: Data returned ",f,c.path),c.status=0;const y=J1(n.transactionQueueTree_,e),E=x_(y)||[];let T;E.push(c),wR(y,E),"object"==typeof f&&null!==f&&(0,me.r3)(f,".priority")?(T=(0,me.DV)(f,".priority"),(0,me.hu)(MC(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(Y1(n.serverSyncTree_,e)||jn.EMPTY_NODE).getPriority().val();const B=RC(n),X=Dr(f,T),ge=yR(X,d,B);c.currentOutputSnapshotRaw=X,c.currentOutputSnapshotResolved=ge,c.currentWriteId=nA(n);const Te=dR(n.serverSyncTree_,e,ge,c.currentWriteId,c.applyLocally);Al(n.eventQueue_,e,Te),iA(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(f,y,E)=>{let T=null;f?s.reject(f):(T=new N_(E,new Mc(n._repo,n._path),nr),s.resolve(new xQ(y,T)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new BQ(s.committed,new Xp(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,me.Dv)("Reference.setPriority",1,2,arguments.length),(0,me.Wj)("Reference.setPriority","onComplete",t,!0);const i=function z9(n,e){n=(0,me.m9)(n),Ac("setPriority",n._path),DR("setPriority",e,!1);const t=new me.BH;return IR(n._repo,gr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,me.Dv)("Reference.push",0,2,arguments.length),(0,me.Wj)("Reference.push","onComplete",t,!0);const i=function G9(n,e){n=(0,me.m9)(n),Ac("push",n._path),xd("push",e,n._path,!0);const t=LV(n._repo),i=XY(t),r=O_(n,i),s=O_(n,i);let c;return c=null!=e?RR(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new Ml(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new Ml(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ac("Reference.onDisconnect",this._delegate._path),new LQ(new qV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class FC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:wQ,forceLongPolling:EQ}}useEmulator(e,t,i={}){!function oH(n,e,t,i={}){(n=(0,me.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Sd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Sd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fC(fC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,me.Sg)(i.mockUserToken,n.app.options.projectId);s=new fC(c)}!function mQ(n,e,t,i){n.repoInfo_=new OO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,me.Dv)("database.ref",0,1,arguments.length),e instanceof Ml){const t=ZV(this._delegate,e.toString());return new Ml(this,t)}{const t=KV(this._delegate,e);return new Ml(this,t)}}refFromURL(e){(0,me.Dv)("database.refFromURL",1,1,arguments.length);const i=ZV(this._delegate,e);return new Ml(this,i)}goOffline(){return(0,me.Dv)("database.goOffline",0,0,arguments.length),function CQ(n){(n=(0,me.m9)(n))._checkNotDeleted("goOffline"),HV(n._repo)}(this._delegate)}goOnline(){return(0,me.Dv)("database.goOnline",0,0,arguments.length),function DQ(n){(n=(0,me.m9)(n))._checkNotDeleted("goOnline"),function F9(n){n.persistentConnection_&&n.persistentConnection_.resume(FV)}(n._repo)}(this._delegate)}}FC.ServerValue={TIMESTAMP:function AQ(){return SQ}(),increment:n=>function MQ(n){return{".sv":{increment:n}}}(n)};var VQ=Object.freeze({__proto__:null,initStandalone:function UQ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){XB(t);const c=new Rs.zt("auth-internal",new Rs.H0("database-standalone"));return c.setComponent(new Rs.wA("auth-internal",()=>i,"PRIVATE")),{instance:new FC(rH(n,c,void 0,e,s),n),namespace:r}}});const HQ=FC.ServerValue;function lH(n){return null==n}function cH(n){return"function"==typeof n.set}function uH(n,e){return cH(e)?e:n.ref(e)}function dH(n,e){if(function GQ(n){return"string"==typeof n}(n))return e.stringCase();if(cH(n))return e.firebaseCase();if(function $Q(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function LC(n,e,t="on",i=$u.z){return new En.y(r=>{let s=null;return s=n[t](e,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Pt.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:c,key:d}}),(0,h.B)())}function hH(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function qQ(n,e){const{payload:t,prevKey:i,key:r}=e,s=hH(n,r),c=function WQ(n,e){if(lH(e))return 0;{const t=hH(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(f=>{const y={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function fH(n){return(lH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pH(n,e,t){return function zQ(n,e,t){return LC(n,"value","once",t).pipe(en(i=>{const r=[(0,Pe.of)(i)];return e.forEach(s=>r.push(LC(n,s,"on",t))),(0,vd.T)(...r).pipe(js(qQ,[]))}),(0,Wd.x)())}(n,e=fH(e),t)}function gH(n,e,t){const i=(e=fH(e)).map(r=>LC(n,r,"on",t));return(0,vd.T)(...i)}function mH(n,e){return function(i,r){return dH(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function QQ(n){return function(t){return t?dH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function _H(n,e){return function(){return LC(n,"value","on",e)}}!function jQ(n){n.INTERNAL.registerComponent(new Rs.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new FC(r,i)},"PUBLIC").setServiceProps({Reference:Ml,Query:co,Database:FC,DataSnapshot:Xp,enableLogging:TQ,INTERNAL:VQ,ServerValue:HQ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(qo.Z);const eJ=new l.OlP("angularfire2.realtimeDatabaseURL"),tJ=new l.OlP("angularfire2.database.use-emulator");let nJ=(()=>{class n{constructor(t,i,r,s,c,d,f,y,E,T,B,X,ge,Te,Ue){this.schedulers=d;const rt=f,dt=(0,Pi.on)(t,c,i);y&&Rx(dt,c,E,B,X,ge,T,Te),this.database=(0,Pi.cc)(`${dt.name}.database.${r}`,"AngularFireDatabase",dt.name,()=>{const bt=c.runOutsideAngular(()=>dt.database(r||void 0));return rt&&bt.useEmulator(...rt),bt},[rt])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>uH(this.database,t));let s=r;return i&&(s=i(r)),function JQ(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:mH(i,"update"),set:mH(i,"set"),push:r=>i.push(r),remove:QQ(i),snapshotChanges:r=>pH(n,r,t).pipe(ai.iC),stateChanges:r=>gH(n,r,t).pipe(ai.iC),auditTrail:r=>function KQ(n,e,t){return function YQ(n,e,t){return function ZQ(n,e){return LC(n,"value","on",e).pipe((0,Pt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(t1(e),(0,Pt.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(f=>f.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function YZ(n){return(0,$n.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,ui.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Pt.U)(r=>r.actions))}(n,gH(n,e).pipe(js((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(ai.iC),valueChanges:(r,s)=>pH(n,r,t).pipe((0,Pt.U)(d=>d.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),ai.iC)}}(s,this)}object(t){return function XQ(n,e){return{query:n,snapshotChanges:()=>_H(n,e.schedulers.outsideAngular)().pipe(ai.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>_H(n,e.schedulers.outsideAngular)().pipe(ai.iC,(0,Pt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>uH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pi.Dh),l.LFG(Pi.xv,8),l.LFG(eJ,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ai.HU),l.LFG(tJ,8),l.LFG(ME,8),l.LFG(Sx,8),l.LFG(Ax,8),l.LFG(Mx,8),l.LFG(xx,8),l.LFG(Nx,8),l.LFG(Ox,8),l.LFG(AE,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iJ=(()=>{class n{constructor(){aS.Z.registerVersion("angularfire",ai.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nJ]}),n})();const yH_firebase={apiKey:"AIzaSyBT_HrHleaiC8311o2eGxaRfb75SwFgJ-0",authDomain:"lab-angular-projekti.firebaseapp.com",projectId:"lab-angular-projekti",storageBucket:"lab-angular-projekti.appspot.com",messagingSenderId:"765498842249",appId:"1:765498842249:web:ae7c42a925a48b6af97a58",measurementId:"G-JK30TVLK9M"};let rJ=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cS),l.LFG(mi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sJ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-logoutview"]],decls:2,vars:0,template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"Olet nyt kirjautunut ulos!"),l.qZA())}}),n})();const oJ=[{path:"calculator",component:g6.C},{path:"feedback",component:D8},{path:"helloworld",component:T8},{path:"templateddrivenform",component:dq},{path:"homepage",component:hq},{path:"reactiveform",component:Oq},{path:"finnkino",component:tK},{path:"admin/main",component:iK,canActivate:[rJ]},{path:"admin/login",component:oK},{path:"logoutview",component:sJ},{path:"",redirectTo:"/homepage",pathMatch:"full"}];let aJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[gG]}),n.\u0275inj=l.cJS({providers:[IF,iB],imports:[Ke,N0,p6,r_.ot,E8,u5,SL,d5.N6,dO,W5,Oj,gg.forRoot(oJ,{enableTracing:!1}),a3,dG,d8,Jq,Kj,Pi.hO.initializeApp(yH_firebase),yj,Ij,ZZ,iJ]}),n})();(0,l.G48)(),ve().bootstrapModule(aJ).catch(n=>console.error(n))},5343:(je,we)=>{"use strict";we.byteLength=function R(ne){var Z=K(ne),De=Z[1];return 3*(Z[0]+De)/4-De},we.toByteArray=function $(ne){var Z,P,J=K(ne),De=J[0],Ce=J[1],W=new l(function H(ne,Z,J){return 3*(Z+J)/4-J}(0,De,Ce)),_e=0,z=Ce>0?De-4:De;for(P=0;P<z;P+=4)Z=v[ne.charCodeAt(P)]<<18|v[ne.charCodeAt(P+1)]<<12|v[ne.charCodeAt(P+2)]<<6|v[ne.charCodeAt(P+3)],W[_e++]=Z>>16&255,W[_e++]=Z>>8&255,W[_e++]=255&Z;return 2===Ce&&(Z=v[ne.charCodeAt(P)]<<2|v[ne.charCodeAt(P+1)]>>4,W[_e++]=255&Z),1===Ce&&(Z=v[ne.charCodeAt(P)]<<10|v[ne.charCodeAt(P+1)]<<4|v[ne.charCodeAt(P+2)]>>2,W[_e++]=Z>>8&255,W[_e++]=255&Z),W},we.fromByteArray=function Q(ne){for(var Z,J=ne.length,De=J%3,Ce=[],W=16383,_e=0,z=J-De;_e<z;_e+=W)Ce.push(Y(ne,_e,_e+W>z?z:_e+W));return 1===De?Ce.push(I[(Z=ne[J-1])>>2]+I[Z<<4&63]+"=="):2===De&&Ce.push(I[(Z=(ne[J-2]<<8)+ne[J-1])>>10]+I[Z>>4&63]+I[Z<<2&63]+"="),Ce.join("")};for(var I=[],v=[],l=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ee=0,te=x.length;ee<te;++ee)I[ee]=x[ee],v[x.charCodeAt(ee)]=ee;function K(ne){var Z=ne.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var J=ne.indexOf("=");return-1===J&&(J=Z),[J,J===Z?0:4-J%4]}function j(ne){return I[ne>>18&63]+I[ne>>12&63]+I[ne>>6&63]+I[63&ne]}function Y(ne,Z,J){for(var Ce=[],W=Z;W<J;W+=3)Ce.push(j((ne[W]<<16&16711680)+(ne[W+1]<<8&65280)+(255&ne[W+2])));return Ce.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},3172:(je,we,I)=>{"use strict";var v=I(5343),l=I(8461),x="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;we.Buffer=R,we.SlowBuffer=function W(ve){return+ve!=ve&&(ve=0),R.alloc(+ve)},we.INSPECT_MAX_BYTES=50;var ee=2147483647;function K(ve){if(ve>ee)throw new RangeError('The value "'+ve+'" is invalid for option "size"');var L=new Uint8Array(ve);return Object.setPrototypeOf(L,R.prototype),L}function R(ve,L,k){if("number"==typeof ve){if("string"==typeof L)throw new TypeError('The "string" argument must be of type string. Received type number');return Y(ve)}return H(ve,L,k)}function H(ve,L,k){if("string"==typeof ve)return function Q(ve,L){if(("string"!=typeof L||""===L)&&(L="utf8"),!R.isEncoding(L))throw new TypeError("Unknown encoding: "+L);var k=0|_e(ve,L),Ee=K(k),Ke=Ee.write(ve,L);return Ke!==k&&(Ee=Ee.slice(0,Ke)),Ee}(ve,L);if(ArrayBuffer.isView(ve))return function Z(ve){if(wn(ve,Uint8Array)){var L=new Uint8Array(ve);return J(L.buffer,L.byteOffset,L.byteLength)}return ne(ve)}(ve);if(null==ve)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve);if(wn(ve,ArrayBuffer)||ve&&wn(ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wn(ve,SharedArrayBuffer)||ve&&wn(ve.buffer,SharedArrayBuffer)))return J(ve,L,k);if("number"==typeof ve)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=ve.valueOf&&ve.valueOf();if(null!=Ee&&Ee!==ve)return R.from(Ee,L,k);var Ke=function De(ve){if(R.isBuffer(ve)){var L=0|Ce(ve.length),k=K(L);return 0===k.length||ve.copy(k,0,0,L),k}return void 0!==ve.length?"number"!=typeof ve.length||Un(ve.length)?K(0):ne(ve):"Buffer"===ve.type&&Array.isArray(ve.data)?ne(ve.data):void 0}(ve);if(Ke)return Ke;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ve[Symbol.toPrimitive])return R.from(ve[Symbol.toPrimitive]("string"),L,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve)}function $(ve){if("number"!=typeof ve)throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function Y(ve){return $(ve),K(ve<0?0:0|Ce(ve))}function ne(ve){for(var L=ve.length<0?0:0|Ce(ve.length),k=K(L),Ee=0;Ee<L;Ee+=1)k[Ee]=255&ve[Ee];return k}function J(ve,L,k){if(L<0||ve.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<L+(k||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=void 0===L&&void 0===k?new Uint8Array(ve):void 0===k?new Uint8Array(ve,L):new Uint8Array(ve,L,k),Object.setPrototypeOf(Ee,R.prototype),Ee}function Ce(ve){if(ve>=ee)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ee.toString(16)+" bytes");return 0|ve}function _e(ve,L){if(R.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||wn(ve,ArrayBuffer))return ve.byteLength;if("string"!=typeof ve)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ve);var k=ve.length,Ee=arguments.length>2&&!0===arguments[2];if(!Ee&&0===k)return 0;for(var Ke=!1;;)switch(L){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return le(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*k;case"hex":return k>>>1;case"base64":return nn(ve).length;default:if(Ke)return Ee?-1:le(ve).length;L=(""+L).toLowerCase(),Ke=!0}}function z(ve,L,k){var Ee=!1;if((void 0===L||L<0)&&(L=0),L>this.length||((void 0===k||k>this.length)&&(k=this.length),k<=0)||(k>>>=0)<=(L>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return kt(this,L,k);case"utf8":case"utf-8":return fe(this,L,k);case"ascii":return qe(this,L,k);case"latin1":case"binary":return Ct(this,L,k);case"base64":return ae(this,L,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tn(this,L,k);default:if(Ee)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),Ee=!0}}function P(ve,L,k){var Ee=ve[L];ve[L]=ve[k],ve[k]=Ee}function N(ve,L,k,Ee,Ke){if(0===ve.length)return-1;if("string"==typeof k?(Ee=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),Un(k=+k)&&(k=Ke?0:ve.length-1),k<0&&(k=ve.length+k),k>=ve.length){if(Ke)return-1;k=ve.length-1}else if(k<0){if(!Ke)return-1;k=0}if("string"==typeof L&&(L=R.from(L,Ee)),R.isBuffer(L))return 0===L.length?-1:q(ve,L,k,Ee,Ke);if("number"==typeof L)return L&=255,"function"==typeof Uint8Array.prototype.indexOf?Ke?Uint8Array.prototype.indexOf.call(ve,L,k):Uint8Array.prototype.lastIndexOf.call(ve,L,k):q(ve,[L],k,Ee,Ke);throw new TypeError("val must be string, number or Buffer")}function q(ve,L,k,Ee,Ke){var cn,at=1,mt=ve.length,pn=L.length;if(void 0!==Ee&&("ucs2"===(Ee=String(Ee).toLowerCase())||"ucs-2"===Ee||"utf16le"===Ee||"utf-16le"===Ee)){if(ve.length<2||L.length<2)return-1;at=2,mt/=2,pn/=2,k/=2}function rn(Vn,vi){return 1===at?Vn[vi]:Vn.readUInt16BE(vi*at)}if(Ke){var yn=-1;for(cn=k;cn<mt;cn++)if(rn(ve,cn)===rn(L,-1===yn?0:cn-yn)){if(-1===yn&&(yn=cn),cn-yn+1===pn)return yn*at}else-1!==yn&&(cn-=cn-yn),yn=-1}else for(k+pn>mt&&(k=mt-pn),cn=k;cn>=0;cn--){for(var Nt=!0,Ht=0;Ht<pn;Ht++)if(rn(ve,cn+Ht)!==rn(L,Ht)){Nt=!1;break}if(Nt)return cn}return-1}function ye(ve,L,k,Ee){k=Number(k)||0;var Ke=ve.length-k;Ee?(Ee=Number(Ee))>Ke&&(Ee=Ke):Ee=Ke;var at=L.length;Ee>at/2&&(Ee=at/2);for(var mt=0;mt<Ee;++mt){var pn=parseInt(L.substr(2*mt,2),16);if(Un(pn))return mt;ve[k+mt]=pn}return mt}function se(ve,L,k,Ee){return bn(le(L,ve.length-k),ve,k,Ee)}function oe(ve,L,k,Ee){return bn(function lt(ve){for(var L=[],k=0;k<ve.length;++k)L.push(255&ve.charCodeAt(k));return L}(L),ve,k,Ee)}function de(ve,L,k,Ee){return bn(nn(L),ve,k,Ee)}function re(ve,L,k,Ee){return bn(function Ge(ve,L){for(var k,Ee,at=[],mt=0;mt<ve.length&&!((L-=2)<0);++mt)Ee=(k=ve.charCodeAt(mt))>>8,at.push(k%256),at.push(Ee);return at}(L,ve.length-k),ve,k,Ee)}function ae(ve,L,k){return v.fromByteArray(0===L&&k===ve.length?ve:ve.slice(L,k))}function fe(ve,L,k){k=Math.min(ve.length,k);for(var Ee=[],Ke=L;Ke<k;){var rn,cn,yn,Nt,at=ve[Ke],mt=null,pn=at>239?4:at>223?3:at>191?2:1;if(Ke+pn<=k)switch(pn){case 1:at<128&&(mt=at);break;case 2:128==(192&(rn=ve[Ke+1]))&&(Nt=(31&at)<<6|63&rn)>127&&(mt=Nt);break;case 3:cn=ve[Ke+2],128==(192&(rn=ve[Ke+1]))&&128==(192&cn)&&(Nt=(15&at)<<12|(63&rn)<<6|63&cn)>2047&&(Nt<55296||Nt>57343)&&(mt=Nt);break;case 4:cn=ve[Ke+2],yn=ve[Ke+3],128==(192&(rn=ve[Ke+1]))&&128==(192&cn)&&128==(192&yn)&&(Nt=(15&at)<<18|(63&rn)<<12|(63&cn)<<6|63&yn)>65535&&Nt<1114112&&(mt=Nt)}null===mt?(mt=65533,pn=1):mt>65535&&(Ee.push((mt-=65536)>>>10&1023|55296),mt=56320|1023&mt),Ee.push(mt),Ke+=pn}return function Je(ve){var L=ve.length;if(L<=4096)return String.fromCharCode.apply(String,ve);for(var k="",Ee=0;Ee<L;)k+=String.fromCharCode.apply(String,ve.slice(Ee,Ee+=4096));return k}(Ee)}function qe(ve,L,k){var Ee="";k=Math.min(ve.length,k);for(var Ke=L;Ke<k;++Ke)Ee+=String.fromCharCode(127&ve[Ke]);return Ee}function Ct(ve,L,k){var Ee="";k=Math.min(ve.length,k);for(var Ke=L;Ke<k;++Ke)Ee+=String.fromCharCode(ve[Ke]);return Ee}function kt(ve,L,k){var Ee=ve.length;(!L||L<0)&&(L=0),(!k||k<0||k>Ee)&&(k=Ee);for(var Ke="",at=L;at<k;++at)Ke+=Yn[ve[at]];return Ke}function tn(ve,L,k){for(var Ee=ve.slice(L,k),Ke="",at=0;at<Ee.length-1;at+=2)Ke+=String.fromCharCode(Ee[at]+256*Ee[at+1]);return Ke}function _t(ve,L,k){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+L>k)throw new RangeError("Trying to access beyond buffer length")}function sn(ve,L,k,Ee,Ke,at){if(!R.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>Ke||L<at)throw new RangeError('"value" argument is out of bounds');if(k+Ee>ve.length)throw new RangeError("Index out of range")}function Bn(ve,L,k,Ee,Ke,at){if(k+Ee>ve.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function In(ve,L,k,Ee,Ke){return L=+L,k>>>=0,Ke||Bn(ve,0,k,4),l.write(ve,L,k,Ee,23,4),k+4}function An(ve,L,k,Ee,Ke){return L=+L,k>>>=0,Ke||Bn(ve,0,k,8),l.write(ve,L,k,Ee,52,8),k+8}we.kMaxLength=ee,!(R.TYPED_ARRAY_SUPPORT=function te(){try{var ve=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(ve,L),42===ve.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(ve,L,k){return H(ve,L,k)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(ve,L,k){return function j(ve,L,k){return $(ve),ve<=0?K(ve):void 0!==L?"string"==typeof k?K(ve).fill(L,k):K(ve).fill(L):K(ve)}(ve,L,k)},R.allocUnsafe=function(ve){return Y(ve)},R.allocUnsafeSlow=function(ve){return Y(ve)},R.isBuffer=function(L){return null!=L&&!0===L._isBuffer&&L!==R.prototype},R.compare=function(L,k){if(wn(L,Uint8Array)&&(L=R.from(L,L.offset,L.byteLength)),wn(k,Uint8Array)&&(k=R.from(k,k.offset,k.byteLength)),!R.isBuffer(L)||!R.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===k)return 0;for(var Ee=L.length,Ke=k.length,at=0,mt=Math.min(Ee,Ke);at<mt;++at)if(L[at]!==k[at]){Ee=L[at],Ke=k[at];break}return Ee<Ke?-1:Ke<Ee?1:0},R.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(L,k){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(0===L.length)return R.alloc(0);var Ee;if(void 0===k)for(k=0,Ee=0;Ee<L.length;++Ee)k+=L[Ee].length;var Ke=R.allocUnsafe(k),at=0;for(Ee=0;Ee<L.length;++Ee){var mt=L[Ee];if(wn(mt,Uint8Array))at+mt.length>Ke.length?R.from(mt).copy(Ke,at):Uint8Array.prototype.set.call(Ke,mt,at);else{if(!R.isBuffer(mt))throw new TypeError('"list" argument must be an Array of Buffers');mt.copy(Ke,at)}at+=mt.length}return Ke},R.byteLength=_e,R.prototype._isBuffer=!0,R.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<L;k+=2)P(this,k,k+1);return this},R.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<L;k+=4)P(this,k,k+3),P(this,k+1,k+2);return this},R.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<L;k+=8)P(this,k,k+7),P(this,k+1,k+6),P(this,k+2,k+5),P(this,k+3,k+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){var L=this.length;return 0===L?"":0===arguments.length?fe(this,0,L):z.apply(this,arguments)},R.prototype.equals=function(L){if(!R.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||0===R.compare(this,L)},R.prototype.inspect=function(){var L="",k=we.INSPECT_MAX_BYTES;return L=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(L+=" ... "),"<Buffer "+L+">"},x&&(R.prototype[x]=R.prototype.inspect),R.prototype.compare=function(L,k,Ee,Ke,at){if(wn(L,Uint8Array)&&(L=R.from(L,L.offset,L.byteLength)),!R.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(void 0===k&&(k=0),void 0===Ee&&(Ee=L?L.length:0),void 0===Ke&&(Ke=0),void 0===at&&(at=this.length),k<0||Ee>L.length||Ke<0||at>this.length)throw new RangeError("out of range index");if(Ke>=at&&k>=Ee)return 0;if(Ke>=at)return-1;if(k>=Ee)return 1;if(this===L)return 0;for(var mt=(at>>>=0)-(Ke>>>=0),pn=(Ee>>>=0)-(k>>>=0),rn=Math.min(mt,pn),cn=this.slice(Ke,at),yn=L.slice(k,Ee),Nt=0;Nt<rn;++Nt)if(cn[Nt]!==yn[Nt]){mt=cn[Nt],pn=yn[Nt];break}return mt<pn?-1:pn<mt?1:0},R.prototype.includes=function(L,k,Ee){return-1!==this.indexOf(L,k,Ee)},R.prototype.indexOf=function(L,k,Ee){return N(this,L,k,Ee,!0)},R.prototype.lastIndexOf=function(L,k,Ee){return N(this,L,k,Ee,!1)},R.prototype.write=function(L,k,Ee,Ke){if(void 0===k)Ke="utf8",Ee=this.length,k=0;else if(void 0===Ee&&"string"==typeof k)Ke=k,Ee=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(Ee)?(Ee>>>=0,void 0===Ke&&(Ke="utf8")):(Ke=Ee,Ee=void 0)}var at=this.length-k;if((void 0===Ee||Ee>at)&&(Ee=at),L.length>0&&(Ee<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ke||(Ke="utf8");for(var mt=!1;;)switch(Ke){case"hex":return ye(this,L,k,Ee);case"utf8":case"utf-8":return se(this,L,k,Ee);case"ascii":case"latin1":case"binary":return oe(this,L,k,Ee);case"base64":return de(this,L,k,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,L,k,Ee);default:if(mt)throw new TypeError("Unknown encoding: "+Ke);Ke=(""+Ke).toLowerCase(),mt=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},R.prototype.slice=function(L,k){var Ee=this.length;(L=~~L)<0?(L+=Ee)<0&&(L=0):L>Ee&&(L=Ee),(k=void 0===k?Ee:~~k)<0?(k+=Ee)<0&&(k=0):k>Ee&&(k=Ee),k<L&&(k=L);var Ke=this.subarray(L,k);return Object.setPrototypeOf(Ke,R.prototype),Ke},R.prototype.readUintLE=R.prototype.readUIntLE=function(L,k,Ee){L>>>=0,k>>>=0,Ee||_t(L,k,this.length);for(var Ke=this[L],at=1,mt=0;++mt<k&&(at*=256);)Ke+=this[L+mt]*at;return Ke},R.prototype.readUintBE=R.prototype.readUIntBE=function(L,k,Ee){L>>>=0,k>>>=0,Ee||_t(L,k,this.length);for(var Ke=this[L+--k],at=1;k>0&&(at*=256);)Ke+=this[L+--k]*at;return Ke},R.prototype.readUint8=R.prototype.readUInt8=function(L,k){return L>>>=0,k||_t(L,1,this.length),this[L]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(L,k){return L>>>=0,k||_t(L,2,this.length),this[L]|this[L+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(L,k){return L>>>=0,k||_t(L,2,this.length),this[L]<<8|this[L+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(L,k){return L>>>=0,k||_t(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(L,k){return L>>>=0,k||_t(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},R.prototype.readIntLE=function(L,k,Ee){L>>>=0,k>>>=0,Ee||_t(L,k,this.length);for(var Ke=this[L],at=1,mt=0;++mt<k&&(at*=256);)Ke+=this[L+mt]*at;return Ke>=(at*=128)&&(Ke-=Math.pow(2,8*k)),Ke},R.prototype.readIntBE=function(L,k,Ee){L>>>=0,k>>>=0,Ee||_t(L,k,this.length);for(var Ke=k,at=1,mt=this[L+--Ke];Ke>0&&(at*=256);)mt+=this[L+--Ke]*at;return mt>=(at*=128)&&(mt-=Math.pow(2,8*k)),mt},R.prototype.readInt8=function(L,k){return L>>>=0,k||_t(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},R.prototype.readInt16LE=function(L,k){L>>>=0,k||_t(L,2,this.length);var Ee=this[L]|this[L+1]<<8;return 32768&Ee?4294901760|Ee:Ee},R.prototype.readInt16BE=function(L,k){L>>>=0,k||_t(L,2,this.length);var Ee=this[L+1]|this[L]<<8;return 32768&Ee?4294901760|Ee:Ee},R.prototype.readInt32LE=function(L,k){return L>>>=0,k||_t(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},R.prototype.readInt32BE=function(L,k){return L>>>=0,k||_t(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},R.prototype.readFloatLE=function(L,k){return L>>>=0,k||_t(L,4,this.length),l.read(this,L,!0,23,4)},R.prototype.readFloatBE=function(L,k){return L>>>=0,k||_t(L,4,this.length),l.read(this,L,!1,23,4)},R.prototype.readDoubleLE=function(L,k){return L>>>=0,k||_t(L,8,this.length),l.read(this,L,!0,52,8)},R.prototype.readDoubleBE=function(L,k){return L>>>=0,k||_t(L,8,this.length),l.read(this,L,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(L,k,Ee,Ke){L=+L,k>>>=0,Ee>>>=0,Ke||sn(this,L,k,Ee,Math.pow(2,8*Ee)-1,0);var mt=1,pn=0;for(this[k]=255&L;++pn<Ee&&(mt*=256);)this[k+pn]=L/mt&255;return k+Ee},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(L,k,Ee,Ke){L=+L,k>>>=0,Ee>>>=0,Ke||sn(this,L,k,Ee,Math.pow(2,8*Ee)-1,0);var mt=Ee-1,pn=1;for(this[k+mt]=255&L;--mt>=0&&(pn*=256);)this[k+mt]=L/pn&255;return k+Ee},R.prototype.writeUint8=R.prototype.writeUInt8=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,1,255,0),this[k]=255&L,k+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,2,65535,0),this[k]=255&L,this[k+1]=L>>>8,k+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,2,65535,0),this[k]=L>>>8,this[k+1]=255&L,k+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,4,4294967295,0),this[k+3]=L>>>24,this[k+2]=L>>>16,this[k+1]=L>>>8,this[k]=255&L,k+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,4,4294967295,0),this[k]=L>>>24,this[k+1]=L>>>16,this[k+2]=L>>>8,this[k+3]=255&L,k+4},R.prototype.writeIntLE=function(L,k,Ee,Ke){if(L=+L,k>>>=0,!Ke){var at=Math.pow(2,8*Ee-1);sn(this,L,k,Ee,at-1,-at)}var mt=0,pn=1,rn=0;for(this[k]=255&L;++mt<Ee&&(pn*=256);)L<0&&0===rn&&0!==this[k+mt-1]&&(rn=1),this[k+mt]=(L/pn>>0)-rn&255;return k+Ee},R.prototype.writeIntBE=function(L,k,Ee,Ke){if(L=+L,k>>>=0,!Ke){var at=Math.pow(2,8*Ee-1);sn(this,L,k,Ee,at-1,-at)}var mt=Ee-1,pn=1,rn=0;for(this[k+mt]=255&L;--mt>=0&&(pn*=256);)L<0&&0===rn&&0!==this[k+mt+1]&&(rn=1),this[k+mt]=(L/pn>>0)-rn&255;return k+Ee},R.prototype.writeInt8=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,1,127,-128),L<0&&(L=255+L+1),this[k]=255&L,k+1},R.prototype.writeInt16LE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,2,32767,-32768),this[k]=255&L,this[k+1]=L>>>8,k+2},R.prototype.writeInt16BE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,2,32767,-32768),this[k]=L>>>8,this[k+1]=255&L,k+2},R.prototype.writeInt32LE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,4,2147483647,-2147483648),this[k]=255&L,this[k+1]=L>>>8,this[k+2]=L>>>16,this[k+3]=L>>>24,k+4},R.prototype.writeInt32BE=function(L,k,Ee){return L=+L,k>>>=0,Ee||sn(this,L,k,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[k]=L>>>24,this[k+1]=L>>>16,this[k+2]=L>>>8,this[k+3]=255&L,k+4},R.prototype.writeFloatLE=function(L,k,Ee){return In(this,L,k,!0,Ee)},R.prototype.writeFloatBE=function(L,k,Ee){return In(this,L,k,!1,Ee)},R.prototype.writeDoubleLE=function(L,k,Ee){return An(this,L,k,!0,Ee)},R.prototype.writeDoubleBE=function(L,k,Ee){return An(this,L,k,!1,Ee)},R.prototype.copy=function(L,k,Ee,Ke){if(!R.isBuffer(L))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!Ke&&0!==Ke&&(Ke=this.length),k>=L.length&&(k=L.length),k||(k=0),Ke>0&&Ke<Ee&&(Ke=Ee),Ke===Ee||0===L.length||0===this.length)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Ke<0)throw new RangeError("sourceEnd out of bounds");Ke>this.length&&(Ke=this.length),L.length-k<Ke-Ee&&(Ke=L.length-k+Ee);var at=Ke-Ee;return this===L&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(k,Ee,Ke):Uint8Array.prototype.set.call(L,this.subarray(Ee,Ke),k),at},R.prototype.fill=function(L,k,Ee,Ke){if("string"==typeof L){if("string"==typeof k?(Ke=k,k=0,Ee=this.length):"string"==typeof Ee&&(Ke=Ee,Ee=this.length),void 0!==Ke&&"string"!=typeof Ke)throw new TypeError("encoding must be a string");if("string"==typeof Ke&&!R.isEncoding(Ke))throw new TypeError("Unknown encoding: "+Ke);if(1===L.length){var at=L.charCodeAt(0);("utf8"===Ke&&at<128||"latin1"===Ke)&&(L=at)}}else"number"==typeof L?L&=255:"boolean"==typeof L&&(L=Number(L));if(k<0||this.length<k||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=k)return this;var mt;if(k>>>=0,Ee=void 0===Ee?this.length:Ee>>>0,L||(L=0),"number"==typeof L)for(mt=k;mt<Ee;++mt)this[mt]=L;else{var pn=R.isBuffer(L)?L:R.from(L,Ke),rn=pn.length;if(0===rn)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(mt=0;mt<Ee-k;++mt)this[mt+k]=pn[mt%rn]}return this};var di=/[^+/0-9A-Za-z-_]/g;function le(ve,L){L=L||1/0;for(var k,Ee=ve.length,Ke=null,at=[],mt=0;mt<Ee;++mt){if((k=ve.charCodeAt(mt))>55295&&k<57344){if(!Ke){if(k>56319){(L-=3)>-1&&at.push(239,191,189);continue}if(mt+1===Ee){(L-=3)>-1&&at.push(239,191,189);continue}Ke=k;continue}if(k<56320){(L-=3)>-1&&at.push(239,191,189),Ke=k;continue}k=65536+(Ke-55296<<10|k-56320)}else Ke&&(L-=3)>-1&&at.push(239,191,189);if(Ke=null,k<128){if((L-=1)<0)break;at.push(k)}else if(k<2048){if((L-=2)<0)break;at.push(k>>6|192,63&k|128)}else if(k<65536){if((L-=3)<0)break;at.push(k>>12|224,k>>6&63|128,63&k|128)}else{if(!(k<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;at.push(k>>18|240,k>>12&63|128,k>>6&63|128,63&k|128)}}return at}function nn(ve){return v.toByteArray(function pe(ve){if((ve=(ve=ve.split("=")[0]).trim().replace(di,"")).length<2)return"";for(;ve.length%4!=0;)ve+="=";return ve}(ve))}function bn(ve,L,k,Ee){for(var Ke=0;Ke<Ee&&!(Ke+k>=L.length||Ke>=ve.length);++Ke)L[Ke+k]=ve[Ke];return Ke}function wn(ve,L){return ve instanceof L||null!=ve&&null!=ve.constructor&&null!=ve.constructor.name&&ve.constructor.name===L.name}function Un(ve){return ve!=ve}var Yn=function(){for(var ve="0123456789abcdef",L=new Array(256),k=0;k<16;++k)for(var Ee=16*k,Ke=0;Ke<16;++Ke)L[Ee+Ke]=ve[k]+ve[Ke];return L}()},6570:je=>{function we(v){if(v)return function I(v){for(var l in we.prototype)v[l]=we.prototype[l];return v}(v)}je.exports=we,we.prototype.on=we.prototype.addEventListener=function(v,l){return this._callbacks=this._callbacks||{},(this._callbacks[v]=this._callbacks[v]||[]).push(l),this},we.prototype.once=function(v,l){var x=this;function ee(){x.off(v,ee),l.apply(this,arguments)}return this._callbacks=this._callbacks||{},ee.fn=l,this.on(v,ee),this},we.prototype.off=we.prototype.removeListener=we.prototype.removeAllListeners=we.prototype.removeEventListener=function(v,l){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var x=this._callbacks[v];if(!x)return this;if(1==arguments.length)return delete this._callbacks[v],this;for(var ee,te=0;te<x.length;te++)if((ee=x[te])===l||ee.fn===l){x.splice(te,1);break}return this},we.prototype.emit=function(v){this._callbacks=this._callbacks||{};var l=[].slice.call(arguments,1),x=this._callbacks[v];if(x)for(var ee=0,te=(x=x.slice(0)).length;ee<te;++ee)x[ee].apply(this,l);return this},we.prototype.listeners=function(v){return this._callbacks=this._callbacks||{},this._callbacks[v]||[]},we.prototype.hasListeners=function(v){return!!this.listeners(v).length}},9069:je=>{"use strict";var v,we="object"==typeof Reflect?Reflect:null,I=we&&"function"==typeof we.apply?we.apply:function(z,P,N){return Function.prototype.apply.call(z,P,N)};v=we&&"function"==typeof we.ownKeys?we.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var x=Number.isNaN||function(z){return z!=z};function ee(){ee.init.call(this)}je.exports=ee,je.exports.once=function De(_e,z){return new Promise(function(P,N){function q(se){_e.removeListener(z,ye),N(se)}function ye(){"function"==typeof _e.removeListener&&_e.removeListener("error",q),P([].slice.call(arguments))}W(_e,z,ye,{once:!0}),"error"!==z&&function Ce(_e,z,P){"function"==typeof _e.on&&W(_e,"error",z,P)}(_e,q,{once:!0})})},ee.EventEmitter=ee,ee.prototype._events=void 0,ee.prototype._eventsCount=0,ee.prototype._maxListeners=void 0;var te=10;function K(_e){if("function"!=typeof _e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _e)}function R(_e){return void 0===_e._maxListeners?ee.defaultMaxListeners:_e._maxListeners}function H(_e,z,P,N){var q,ye,se;if(K(P),void 0===(ye=_e._events)?(ye=_e._events=Object.create(null),_e._eventsCount=0):(void 0!==ye.newListener&&(_e.emit("newListener",z,P.listener?P.listener:P),ye=_e._events),se=ye[z]),void 0===se)se=ye[z]=P,++_e._eventsCount;else if("function"==typeof se?se=ye[z]=N?[P,se]:[se,P]:N?se.unshift(P):se.push(P),(q=R(_e))>0&&se.length>q&&!se.warned){se.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+se.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=_e,oe.type=z,oe.count=se.length,function l(_e){console&&console.warn&&console.warn(_e)}(oe)}return _e}function $(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function j(_e,z,P){var N={fired:!1,wrapFn:void 0,target:_e,type:z,listener:P},q=$.bind(N);return q.listener=P,N.wrapFn=q,q}function Y(_e,z,P){var N=_e._events;if(void 0===N)return[];var q=N[z];return void 0===q?[]:"function"==typeof q?P?[q.listener||q]:[q]:P?function J(_e){for(var z=new Array(_e.length),P=0;P<z.length;++P)z[P]=_e[P].listener||_e[P];return z}(q):ne(q,q.length)}function Q(_e){var z=this._events;if(void 0!==z){var P=z[_e];if("function"==typeof P)return 1;if(void 0!==P)return P.length}return 0}function ne(_e,z){for(var P=new Array(z),N=0;N<z;++N)P[N]=_e[N];return P}function W(_e,z,P,N){if("function"==typeof _e.on)N.once?_e.once(z,P):_e.on(z,P);else{if("function"!=typeof _e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _e);_e.addEventListener(z,function q(ye){N.once&&_e.removeEventListener(z,q),P(ye)})}}Object.defineProperty(ee,"defaultMaxListeners",{enumerable:!0,get:function(){return te},set:function(_e){if("number"!=typeof _e||_e<0||x(_e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_e+".");te=_e}}),ee.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ee.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||x(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},ee.prototype.getMaxListeners=function(){return R(this)},ee.prototype.emit=function(z){for(var P=[],N=1;N<arguments.length;N++)P.push(arguments[N]);var q="error"===z,ye=this._events;if(void 0!==ye)q=q&&void 0===ye.error;else if(!q)return!1;if(q){var se;if(P.length>0&&(se=P[0]),se instanceof Error)throw se;var oe=new Error("Unhandled error."+(se?" ("+se.message+")":""));throw oe.context=se,oe}var de=ye[z];if(void 0===de)return!1;if("function"==typeof de)I(de,this,P);else{var re=de.length,ae=ne(de,re);for(N=0;N<re;++N)I(ae[N],this,P)}return!0},ee.prototype.on=ee.prototype.addListener=function(z,P){return H(this,z,P,!1)},ee.prototype.prependListener=function(z,P){return H(this,z,P,!0)},ee.prototype.once=function(z,P){return K(P),this.on(z,j(this,z,P)),this},ee.prototype.prependOnceListener=function(z,P){return K(P),this.prependListener(z,j(this,z,P)),this},ee.prototype.off=ee.prototype.removeListener=function(z,P){var N,q,ye,se,oe;if(K(P),void 0===(q=this._events))return this;if(void 0===(N=q[z]))return this;if(N===P||N.listener===P)0==--this._eventsCount?this._events=Object.create(null):(delete q[z],q.removeListener&&this.emit("removeListener",z,N.listener||P));else if("function"!=typeof N){for(ye=-1,se=N.length-1;se>=0;se--)if(N[se]===P||N[se].listener===P){oe=N[se].listener,ye=se;break}if(ye<0)return this;0===ye?N.shift():function Z(_e,z){for(;z+1<_e.length;z++)_e[z]=_e[z+1];_e.pop()}(N,ye),1===N.length&&(q[z]=N[0]),void 0!==q.removeListener&&this.emit("removeListener",z,oe||P)}return this},ee.prototype.removeAllListeners=function(z){var P,N,q;if(void 0===(N=this._events))return this;if(void 0===N.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==N[z]&&(0==--this._eventsCount?this._events=Object.create(null):delete N[z]),this;if(0===arguments.length){var se,ye=Object.keys(N);for(q=0;q<ye.length;++q)"removeListener"!==(se=ye[q])&&this.removeAllListeners(se);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(P=N[z]))this.removeListener(z,P);else if(void 0!==P)for(q=P.length-1;q>=0;q--)this.removeListener(z,P[q]);return this},ee.prototype.listeners=function(z){return Y(this,z,!0)},ee.prototype.rawListeners=function(z){return Y(this,z,!1)},ee.listenerCount=function(_e,z){return"function"==typeof _e.listenerCount?_e.listenerCount(z):Q.call(_e,z)},ee.prototype.listenerCount=Q,ee.prototype.eventNames=function(){return this._eventsCount>0?v(this._events):[]}},5867:(je,we,I)=>{"use strict";I.d(we,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=I(9681);(0,v.registerVersion)("firebase","9.14.0","app")},127:(je,we,I)=>{"use strict";I.d(we,{Z:()=>v.Z});var v=I(3942);v.Z.registerVersion("firebase","9.14.0","app-compat")},1277:(je,we,I)=>{"use strict";I.r(we);var v=I(5861),l=I(3942),x=I(2090),ee=I(9681),te=I(1877),K=I(655),R=I(3475);const J=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function Z(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ce=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new te.Yd("@firebase/auth");function z(b,...g){_e.logLevel<=te.in.ERROR&&_e.error(`Auth (${ee.SDK_VERSION}): ${b}`,...g)}function P(b,...g){throw se(b,...g)}function N(b,...g){return se(b,...g)}function q(b,g,_){const C=Object.assign(Object.assign({},De()),{[g]:_});return new x.LL("auth","Firebase",C).create(g,{appName:b.name})}function ye(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&P(b,"argument-error"),q(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function se(b,...g){if("string"!=typeof b){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Ce.create(b,...g)}function oe(b,g,..._){if(!b)throw se(g,..._)}function de(b){const g="INTERNAL ASSERTION FAILED: "+b;throw z(g),new Error(g)}function re(b,g){b||de(g)}const ae=new Map;function fe(b){re(b instanceof Function,"Expected a class definition");let g=ae.get(b);return g?(re(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,ae.set(b,g),g)}function qe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ct(){return"http:"===kt()||"https:"===kt()}function kt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class sn{constructor(g,_){this.shortDelay=g,this.longDelay=_,re(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bn(b,g){re(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class In{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const An={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},di=new sn(3e4,6e4);function pe(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function le(b,g,_,C){return lt.apply(this,arguments)}function lt(){return(lt=(0,v.Z)(function*(b,g,_,C,V={}){return Ge(b,V,(0,v.Z)(function*(){let he={},Le={};C&&("GET"===g?Le=C:he={body:JSON.stringify(C)});const et=(0,x.xO)(Object.assign({key:b.config.apiKey},Le)).slice(1),Tt=yield b._getAdditionalHeaders();return Tt["Content-Type"]="application/json",b.languageCode&&(Tt["X-Firebase-Locale"]=b.languageCode),In.fetch()(Un(b,b.config.apiHost,_,et),Object.assign({method:g,headers:Tt,referrerPolicy:"no-referrer"},he))}))})).apply(this,arguments)}function Ge(b,g,_){return nn.apply(this,arguments)}function nn(){return(nn=(0,v.Z)(function*(b,g,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},An),g);try{const V=new Yn(b),he=yield Promise.race([_(),V.promise]);V.clearNetworkTimeout();const Le=yield he.json();if("needConfirmation"in Le)throw ve(b,"account-exists-with-different-credential",Le);if(he.ok&&!("errorMessage"in Le))return Le;{const et=he.ok?Le.errorMessage:Le.error.message,[Tt,jt]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw ve(b,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Tt)throw ve(b,"email-already-in-use",Le);if("USER_DISABLED"===Tt)throw ve(b,"user-disabled",Le);const ln=C[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(jt)throw q(b,ln,jt);P(b,ln)}}catch(V){if(V instanceof x.ZR)throw V;P(b,"network-request-failed")}})).apply(this,arguments)}function bn(b,g,_,C){return wn.apply(this,arguments)}function wn(){return(wn=(0,v.Z)(function*(b,g,_,C,V={}){const he=yield le(b,g,_,C,V);return"mfaPendingCredential"in he&&P(b,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function Un(b,g,_,C){const V=`${g}${_}?${C}`;return b.config.emulator?Bn(b.config,V):`${b.config.apiScheme}://${V}`}class Yn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(N(this.auth,"network-request-failed")),di.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ve(b,g,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const V=N(b,g,C);return V.customData._tokenResponse=_,V}function k(){return(k=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ee(b,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function at(b,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function pn(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function yn(){return(yn=(0,v.Z)(function*(b,g=!1){const _=(0,x.m9)(b),C=yield _.getIdToken(g),V=Ht(C);oe(V&&V.exp&&V.auth_time&&V.iat,_.auth,"internal-error");const he="object"==typeof V.firebase?V.firebase:void 0,Le=he?.sign_in_provider;return{claims:V,token:C,authTime:pn(Nt(V.auth_time)),issuedAtTime:pn(Nt(V.iat)),expirationTime:pn(Nt(V.exp)),signInProvider:Le||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function Nt(b){return 1e3*Number(b)}function Ht(b){var g;const[_,C,V]=b.split(".");if(void 0===_||void 0===C||void 0===V)return z("JWT malformed, contained fewer than 3 sections"),null;try{const he=(0,x.tV)(C);return he?JSON.parse(he):(z("Failed to decode base64 JWT payload"),null)}catch(he){return z("Caught error parsing JWT payload as JSON",null===(g=he)||void 0===g?void 0:g.toString()),null}}function vi(b,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,v.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof x.ZR&&zi(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function zi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class an{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const V=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,v.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,v.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class ft{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=pn(this.lastLoginAt),this.creationTime=pn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ke(b){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,v.Z)(function*(b){var g;const _=b.auth,C=yield b.getIdToken(),V=yield vi(b,at(_,{idToken:C}));oe(V?.users.length,_,"internal-error");const he=V.users[0];b._notifyReloadListener(he);const Le=null!==(g=he.providerUserInfo)&&void 0!==g&&g.length?Ot(he.providerUserInfo):[],et=Gn(b.providerData,Le),ln=!!b.isAnonymous&&!(b.email&&he.passwordHash||et?.length),on={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:et,metadata:new ft(he.createdAt,he.lastLoginAt),isAnonymous:ln};Object.assign(b,on)})).apply(this,arguments)}function $t(){return($t=(0,v.Z)(function*(b){const g=(0,x.m9)(b);yield ke(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Gn(b,g){return[...b.filter(C=>!g.some(V=>V.providerId===C.providerId)),...g]}function Ot(b){return b.map(g=>{var{providerId:_}=g,C=(0,K._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Bt(){return(Bt=(0,v.Z)(function*(b,g){const _=yield Ge(b,{},(0,v.Z)(function*(){const C=(0,x.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:V,apiKey:he}=b.config,Le=Un(b,V,"/v1/token",`key=${he}`),et=yield b._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",In.fetch()(Le,{method:"POST",headers:et,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){oe(g.idToken,"internal-error"),oe(typeof g.idToken<"u","internal-error"),oe(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Vn(b){const g=Ht(b);return oe(g,"internal-error"),oe(typeof g.exp<"u","internal-error"),oe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,v.Z)(function*(){return oe(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,v.Z)(function*(){const{accessToken:V,refreshToken:he,expiresIn:Le}=yield function ut(b,g){return Bt.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(V,he,Number(Le))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:V,expirationTime:he}=_,Le=new Qt;return C&&(oe("string"==typeof C,"internal-error",{appName:g}),Le.refreshToken=C),V&&(oe("string"==typeof V,"internal-error",{appName:g}),Le.accessToken=V),he&&(oe("number"==typeof he,"internal-error",{appName:g}),Le.expirationTime=he),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Qt,this.toJSON())}_performRefresh(){return de("not implemented")}}function Ut(b,g){oe("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class gn{constructor(g){var{uid:_,auth:C,stsTokenManager:V}=g,he=(0,K._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new an(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new ft(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,v.Z)(function*(){const C=yield vi(_,_.stsTokenManager.getToken(_.auth,g));return oe(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function cn(b){return yn.apply(this,arguments)}(this,g)}reload(){return function ot(b){return $t.apply(this,arguments)}(this)}_assign(g){this!==g&&(oe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new gn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,v.Z)(function*(){let V=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),V=!0),_&&(yield ke(C)),yield C.auth._persistUserIfCurrent(C),V&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,v.Z)(function*(){const _=yield g.getIdToken();return yield vi(g,function L(b,g){return k.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,V,he,Le,et,Tt,jt,ln;const on=null!==(C=_.displayName)&&void 0!==C?C:void 0,fr=null!==(V=_.email)&&void 0!==V?V:void 0,vs=null!==(he=_.phoneNumber)&&void 0!==he?he:void 0,Og=null!==(Le=_.photoURL)&&void 0!==Le?Le:void 0,Rg=null!==(et=_.tenantId)&&void 0!==et?et:void 0,Qu=null!==(Tt=_._redirectEventId)&&void 0!==Tt?Tt:void 0,L0=null!==(jt=_.createdAt)&&void 0!==jt?jt:void 0,Af=null!==(ln=_.lastLoginAt)&&void 0!==ln?ln:void 0,{uid:Mf,emailVerified:kg,isAnonymous:Y_,providerData:Pg,stsTokenManager:tu}=_;oe(Mf&&tu,g,"internal-error");const xf=Qt.fromJSON(this.name,tu);oe("string"==typeof Mf,g,"internal-error"),Ut(on,g.name),Ut(fr,g.name),oe("boolean"==typeof kg,g,"internal-error"),oe("boolean"==typeof Y_,g,"internal-error"),Ut(vs,g.name),Ut(Og,g.name),Ut(Rg,g.name),Ut(Qu,g.name),Ut(L0,g.name),Ut(Af,g.name);const ih=new gn({uid:Mf,auth:g,email:fr,emailVerified:kg,displayName:on,isAnonymous:Y_,photoURL:Og,phoneNumber:vs,tenantId:Rg,stsTokenManager:xf,createdAt:L0,lastLoginAt:Af});return Pg&&Array.isArray(Pg)&&(ih.providerData=Pg.map(Fg=>Object.assign({},Fg))),Qu&&(ih._redirectEventId=Qu),ih}static _fromIdTokenResponse(g,_,C=!1){return(0,v.Z)(function*(){const V=new Qt;V.updateFromServerResponse(_);const he=new gn({uid:_.localId,auth:g,stsTokenManager:V,isAnonymous:C});return yield ke(he),he})()}}const Me=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(_,C){var V=this;return(0,v.Z)(function*(){V.storage[_]=C})()}_get(_){var C=this;return(0,v.Z)(function*(){const V=C.storage[_];return void 0===V?null:V})()}_remove(_){var C=this;return(0,v.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function Be(b,g,_){return`firebase:${b}:${g}:${_}`}class st{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:V,name:he}=this.auth;this.fullUserKey=Be(this.userKey,V.apiKey,he),this.fullPersistenceKey=Be("persistence",V.apiKey,he),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,v.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?gn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,v.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,v.Z)(function*(){if(!_.length)return new st(fe(Me),g,C);const V=(yield Promise.all(_.map(function(){var jt=(0,v.Z)(function*(ln){if(yield ln._isAvailable())return ln});return function(ln){return jt.apply(this,arguments)}}()))).filter(jt=>jt);let he=V[0]||fe(Me);const Le=Be(C,g.config.apiKey,g.name);let et=null;for(const jt of _)try{const ln=yield jt._get(Le);if(ln){const on=gn._fromJSON(g,ln);jt!==he&&(et=on),he=jt;break}}catch{}const Tt=V.filter(jt=>jt._shouldAllowMigration);return he._shouldAllowMigration&&Tt.length?(he=Tt[0],et&&(yield he._set(Le,et.toJSON())),yield Promise.all(_.map(function(){var jt=(0,v.Z)(function*(ln){if(ln!==he)try{yield ln._remove(Le)}catch{}});return function(ln){return jt.apply(this,arguments)}}())),new st(he,g,C)):new st(he,g,C)})()}}function $e(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ae(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(At(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Re(g))return"Blackberry";if(Pe(g))return"Webos";if(He(g))return"Safari";if((g.includes("chrome/")||Ne(g))&&!g.includes("edge/"))return"Chrome";if(We(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function At(b=(0,x.z$)()){return/firefox\//i.test(b)}function He(b=(0,x.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ne(b=(0,x.z$)()){return/crios\//i.test(b)}function Ae(b=(0,x.z$)()){return/iemobile/i.test(b)}function We(b=(0,x.z$)()){return/android/i.test(b)}function Re(b=(0,x.z$)()){return/blackberry/i.test(b)}function Pe(b=(0,x.z$)()){return/webos/i.test(b)}function wt(b=(0,x.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ds(b=(0,x.z$)()){return wt(b)||We(b)||Pe(b)||Re(b)||/windows phone/i.test(b)||Ae(b)}function Wi(b,g=[]){let _;switch(b){case"Browser":_=$e((0,x.z$)());break;case"Worker":_=`${$e((0,x.z$)())}-${b}`;break;default:_=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ee.SDK_VERSION}/${C}`}class ho{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const C=he=>new Promise((Le,et)=>{try{Le(g(he))}catch(Tt){et(Tt)}});C.onAbort=_,this.queue.push(C);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,v.Z)(function*(){var C;if(_.auth.currentUser===g)return;const V=[];try{for(const he of _.queue)yield he(g),he.onAbort&&V.push(he.onAbort)}catch(he){V.reverse();for(const Le of V)try{Le()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=he)||void 0===C?void 0:C.message})}})()}}class Sn{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Br(this),this.idTokenSubscription=new Br(this),this.beforeStateQueue=new ho(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=fe(_)),this._initializationPromise=this.queue((0,v.Z)(function*(){var V,he;if(!C._deleted&&(C.persistenceManager=yield st.create(C,g),!C._deleted)){if(null!==(V=C._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(he=C.currentUser)||void 0===he?void 0:he.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,v.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,v.Z)(function*(){var C;const V=yield _.assertedPersistence.getCurrentUser();let he=V,Le=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const et=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Tt=he?._redirectEventId,jt=yield _.tryRedirectSignIn(g);(!et||et===Tt)&&jt?.user&&(he=jt.user,Le=!0)}if(!he)return _.directlySetCurrentUser(null);if(!he._redirectEventId){if(Le)try{yield _.beforeStateQueue.runMiddleware(he)}catch(et){he=V,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(et))}return he?_.reloadAndSetCurrentUserOrClear(he):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===he._redirectEventId?_.directlySetCurrentUser(he):_.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(g){var _=this;return(0,v.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,v.Z)(function*(){var C;try{yield ke(g)}catch(V){if("auth/network-request-failed"!==(null===(C=V)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,v.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,v.Z)(function*(){const C=g?(0,x.m9)(g):null;return C&&oe(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g,_=!1){var C=this;return(0,v.Z)(function*(){if(!C._deleted)return g&&oe(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,v.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,v.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,v.Z)(function*(){yield _.assertedPersistence.setPersistence(fe(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new x.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,v.Z)(function*(){const V=yield C.getOrInitRedirectPersistenceManager(_);return null===g?V.removeCurrentUser():V.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,v.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&fe(g)||_._popupRedirectResolver;oe(C,_,"argument-error"),_.redirectPersistenceManager=yield st.create(_,[fe(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,v.Z)(function*(){var C,V;return _._isInitialized&&(yield _.queue((0,v.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(V=_.redirectUser)||void 0===V?void 0:V._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,v.Z)(function*(){if(g===_.currentUser)return _.queue((0,v.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,V){if(this._deleted)return()=>{};const he="function"==typeof _?_:_.next.bind(_),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Le,this,"internal-error"),Le.then(()=>he(this.currentUser)),"function"==typeof _?g.addObserver(_,C,V):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,v.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,v.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const V=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return V&&(C["X-Firebase-Client"]=V),C})()}}function qn(b){return(0,x.m9)(b)}class Br{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,x.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Di(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function ui(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class qi{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return de("not implemented")}_getIdTokenResponse(g){return de("not implemented")}_linkToIdToken(g,_){return de("not implemented")}_getReauthenticationResolver(g){return de("not implemented")}}function Gt(b,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:resetPassword",pe(b,g))})).apply(this,arguments)}function en(b,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ki(b,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:update",pe(b,g))})).apply(this,arguments)}function hs(){return(hs=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signInWithPassword",pe(b,g))})).apply(this,arguments)}function fs(b,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:sendOobCode",pe(b,g))})).apply(this,arguments)}function gi(b,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,v.Z)(function*(b,g){return fs(b,g)})).apply(this,arguments)}function pi(b,g){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,v.Z)(function*(b,g){return fs(b,g)})).apply(this,arguments)}function Vr(b,g){return la.apply(this,arguments)}function la(){return(la=(0,v.Z)(function*(b,g){return fs(b,g)})).apply(this,arguments)}function js(b,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,v.Z)(function*(b,g){return fs(b,g)})).apply(this,arguments)}function Tu(){return(Tu=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signInWithEmailLink",pe(b,g))})).apply(this,arguments)}function No(){return(No=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signInWithEmailLink",pe(b,g))})).apply(this,arguments)}class ca extends qi{constructor(g,_,C,V=null){super("password",C),this._email=g,this._password=_,this._tenantId=V}static _fromEmailAndPassword(g,_){return new ca(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new ca(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,v.Z)(function*(){switch(_.signInMethod){case"password":return function Si(b,g){return hs.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Du(b,g){return Tu.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:P(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,v.Z)(function*(){switch(C.signInMethod){case"password":return en(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function xc(b,g){return No.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:P(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Yt(b,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signInWithIdp",pe(b,g))})).apply(this,arguments)}class Mr extends qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Mr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):P("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:V}=_,he=(0,K._T)(_,["providerId","signInMethod"]);if(!C||!V)return null;const Le=new Mr(C,V);return Le.idToken=he.idToken||void 0,Le.accessToken=he.accessToken||void 0,Le.secret=he.secret,Le.nonce=he.nonce,Le.pendingToken=he.pendingToken||null,Le}_getIdTokenResponse(g){return Yt(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Yt(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Yt(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,x.xO)(_)}return g}}function af(b,g){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:sendVerificationCode",pe(b,g))})).apply(this,arguments)}function Gs(){return(Gs=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signInWithPhoneNumber",pe(b,g))})).apply(this,arguments)}function Oc(){return(Oc=(0,v.Z)(function*(b,g){const _=yield bn(b,"POST","/v1/accounts:signInWithPhoneNumber",pe(b,g));if(_.temporaryProof)throw ve(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const eg={USER_NOT_FOUND:"user-not-found"};function $s(){return($s=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signInWithPhoneNumber",pe(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),eg)})).apply(this,arguments)}class Ts extends qi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ts({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ts({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Jr(b,g){return Gs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Rd(b,g){return Oc.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function sr(b,g){return $s.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:V}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:V}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:V,temporaryProof:he}=g;return C||_||V||he?new Ts({verificationId:_,verificationCode:C,phoneNumber:V,temporaryProof:he}):null}}class Ba{constructor(g){var _,C,V,he,Le,et;const Tt=(0,x.zd)((0,x.pd)(g)),jt=null!==(_=Tt.apiKey)&&void 0!==_?_:null,ln=null!==(C=Tt.oobCode)&&void 0!==C?C:null,on=function Iu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Tt.mode)&&void 0!==V?V:null);oe(jt&&ln&&on,"argument-error"),this.apiKey=jt,this.operation=on,this.code=ln,this.continueUrl=null!==(he=Tt.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(Le=Tt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(et=Tt.tenantId)&&void 0!==et?et:null}static parseLink(g){const _=function Su(b){const g=(0,x.zd)((0,x.pd)(b)).link,_=g?(0,x.zd)((0,x.pd)(g)).deep_link_id:null,C=(0,x.zd)((0,x.pd)(b)).deep_link_id;return(C?(0,x.zd)((0,x.pd)(C)).link:null)||C||_||g||b}(g);try{return new Ba(_)}catch{return null}}}let Is=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return ca._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const V=Ba.parseLink(C);return oe(V,"argument-error"),ca._fromEmailAndCode(_,V.code,V.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ss{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class zs extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class fo extends zs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),Mr._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return oe(g.idToken||g.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return fo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return fo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:V,pendingToken:he,nonce:Le,providerId:et}=g;if(!C&&!V&&!_&&!he||!et)return null;try{return new fo(et)._credential({idToken:_,accessToken:C,nonce:Le,pendingToken:he})}catch{return null}}}let da=(()=>{class b extends zs{constructor(){super("facebook.com")}static credential(_){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Oo=(()=>{class b extends zs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:V}=_;if(!C&&!V)return null;try{return b.credential(C,V)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ws=(()=>{class b extends zs{constructor(){super("github.com")}static credential(_){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class qs extends qi{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Yt(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Yt(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Yt(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:V,pendingToken:he}=_;return C&&V&&he&&C===V?new qs(C,he):null}static _create(g,_){return new qs(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zi extends Ss{constructor(g){oe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Zi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Zi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=qs.fromJSON(g);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return qs._create(C,_)}catch{return null}}}let Hr=(()=>{class b extends zs{constructor(){super("twitter.com")}static credential(_,C){return Mr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:V}=_;if(!C||!V)return null;try{return b.credential(C,V)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ro(b,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signUp",pe(b,g))})).apply(this,arguments)}class _r{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,V=!1){return(0,v.Z)(function*(){const he=yield gn._fromIdTokenResponse(g,C,V),Le=Nl(C);return new _r({user:he,providerId:Le,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,v.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const V=Nl(C);return new _r({user:g,providerId:V,_tokenResponse:C,operationType:_})})()}}function Nl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ai(){return(Ai=(0,v.Z)(function*(b){var g;const _=qn(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new _r({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Ro(_,{returnSecureToken:!0}),V=yield _r._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(V.user),V})).apply(this,arguments)}class ko extends x.ZR{constructor(g,_,C,V){var he;super(_.code,_.message),this.operationType=C,this.user=V,Object.setPrototypeOf(this,ko.prototype),this.customData={appName:g.name,tenantId:null!==(he=g.tenantId)&&void 0!==he?he:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,V){return new ko(g,_,C,V)}}function kd(b,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?ko._fromErrorAndOperation(b,he,g,C):he})}function xr(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Ha(){return(Ha=(0,v.Z)(function*(b,g){const _=(0,x.m9)(b);yield Kn(!0,_,g);const{providerUserInfo:C}=yield Ee(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),V=xr(C||[]);return _.providerData=_.providerData.filter(he=>V.has(he.providerId)),V.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Po(b,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,v.Z)(function*(b,g,_=!1){const C=yield vi(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return _r._forOperation(b,"link",C)})).apply(this,arguments)}function Kn(b,g,_){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,v.Z)(function*(b,g,_){yield ke(g);const V=!1===b?"provider-already-linked":"no-such-provider";oe(xr(g.providerData).has(_)===b,g.auth,V)})).apply(this,arguments)}function As(b,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,v.Z)(function*(b,g,_=!1){var C;const{auth:V}=b,he="reauthenticate";try{const Le=yield vi(b,kd(V,he,g,b),_);oe(Le.idToken,V,"internal-error");const et=Ht(Le.idToken);oe(et,V,"internal-error");const{sub:Tt}=et;return oe(b.uid===Tt,V,"user-mismatch"),_r._forOperation(b,he,Le)}catch(Le){throw"auth/user-not-found"===(null===(C=Le)||void 0===C?void 0:C.code)&&P(V,"user-mismatch"),Le}})).apply(this,arguments)}function ps(b,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,v.Z)(function*(b,g,_=!1){const C="signIn",V=yield kd(b,C,g),he=yield _r._fromIdTokenResponse(b,C,V);return _||(yield b._updateCurrentUser(he.user)),he})).apply(this,arguments)}function Mi(b,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,v.Z)(function*(b,g){return ps(qn(b),g)})).apply(this,arguments)}function ha(b,g){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,v.Z)(function*(b,g){const _=(0,x.m9)(b);return yield Kn(!1,_,g.providerId),Po(_,g)})).apply(this,arguments)}function Fl(b,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,v.Z)(function*(b,g){return As((0,x.m9)(b),g)})).apply(this,arguments)}function ja(b,g){return po.apply(this,arguments)}function po(){return(po=(0,v.Z)(function*(b,g){return bn(b,"POST","/v1/accounts:signInWithCustomToken",pe(b,g))})).apply(this,arguments)}function Ga(){return(Ga=(0,v.Z)(function*(b,g){const _=qn(b),C=yield ja(_,{token:g,returnSecureToken:!0}),V=yield _r._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(V.user),V})).apply(this,arguments)}class ht{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Mn._fromServerResponse(g,_):P(g,"internal-error")}}class Mn extends ht{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Mn(_)}}function go(b,g,_){var C;oe((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function xi(){return(xi=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b),V={requestType:"PASSWORD_RESET",email:g};_&&go(C,V,_),yield pi(C,V)})).apply(this,arguments)}function Fo(){return(Fo=(0,v.Z)(function*(b,g,_){yield Gt((0,x.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function za(){return(za=(0,v.Z)(function*(b,g){yield Ki((0,x.m9)(b),{oobCode:g})})).apply(this,arguments)}function Wa(b,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,v.Z)(function*(b,g){const _=(0,x.m9)(b),C=yield Gt(_,{oobCode:g}),V=C.requestType;switch(oe(V,_,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(C.mfaInfo,_,"internal-error");default:oe(C.email,_,"internal-error")}let he=null;return C.mfaInfo&&(he=ht._fromServerResponse(qn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:he},operation:V}})).apply(this,arguments)}function Bl(){return(Bl=(0,v.Z)(function*(b,g){const{data:_}=yield Wa((0,x.m9)(b),g);return _.email})).apply(this,arguments)}function ki(){return(ki=(0,v.Z)(function*(b,g,_){const C=qn(b),V=yield Ro(C,{returnSecureToken:!0,email:g,password:_}),he=yield _r._fromIdTokenResponse(C,"signIn",V);return yield C._updateCurrentUser(he.user),he})).apply(this,arguments)}function mo(){return(mo=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b),V={requestType:"EMAIL_SIGNIN",email:g};oe(_.handleCodeInApp,C,"argument-error"),_&&go(C,V,_),yield Vr(C,V)})).apply(this,arguments)}function Lo(){return(Lo=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b),V=Is.credentialWithLink(g,_||qe());return oe(V._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Mi(C,V)})).apply(this,arguments)}function fa(b,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:createAuthUri",pe(b,g))})).apply(this,arguments)}function Ka(){return(Ka=(0,v.Z)(function*(b,g){const C={identifier:g,continueUri:Ct()?qe():"http://localhost"},{signinMethods:V}=yield fa((0,x.m9)(b),C);return V||[]})).apply(this,arguments)}function Za(){return(Za=(0,v.Z)(function*(b,g){const _=(0,x.m9)(b),V={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&go(_.auth,V,g);const{email:he}=yield gi(_.auth,V);he!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ul(){return(Ul=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b),he={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&go(C.auth,he,_);const{email:Le}=yield js(C.auth,he);Le!==b.email&&(yield b.reload())})).apply(this,arguments)}function Vl(b,g){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,v.Z)(function*(b,g){return le(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Vc(){return(Vc=(0,v.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,x.m9)(b),he={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Le=yield vi(C,Vl(C.auth,he));C.displayName=Le.displayName||null,C.photoURL=Le.photoUrl||null;const et=C.providerData.find(({providerId:Tt})=>"password"===Tt);et&&(et.displayName=C.displayName,et.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Le)})).apply(this,arguments)}function O(b,g,_){return ue.apply(this,arguments)}function ue(){return(ue=(0,v.Z)(function*(b,g,_){const{auth:C}=b,he={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(he.email=g),_&&(he.password=_);const Le=yield vi(b,en(C,he));yield b._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class Ye{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class nt extends Ye{constructor(g,_,C,V){super(g,_,C),this.username=V}}class Rt extends Ye{constructor(g,_){super(g,"facebook.com",_)}}class Fn extends nt{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Xn extends Ye{constructor(g,_){super(g,"google.com",_)}}class Jn extends nt{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Hn(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function xe(b){var g,_;if(!b)return null;const{providerId:C}=b,V=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},he=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const Le=null===(_=null===(g=Ht(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Le)return new Ye(he,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!C)return null;switch(C){case"facebook.com":return new Rt(he,V);case"github.com":return new Fn(he,V);case"google.com":return new Xn(he,V);case"twitter.com":return new Jn(he,V,b.screenName||null);case"custom":case"anonymous":return new Ye(he,null);default:return new Ye(he,C,V)}}(_)}class vo{constructor(g,_,C){this.type=g,this.credential=_,this.auth=C}static _fromIdtoken(g,_){return new vo("enroll",g,_)}static _fromMfaPendingCredential(g){return new vo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return vo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return vo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ga{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=qn(g),V=_.customData._serverResponse,he=(V.mfaInfo||[]).map(et=>ht._fromServerResponse(C,et));oe(V.mfaPendingCredential,C,"internal-error");const Le=vo._fromMfaPendingCredential(V.mfaPendingCredential);return new ga(Le,he,function(){var et=(0,v.Z)(function*(Tt){const jt=yield Tt._process(C,Le);delete V.mfaInfo,delete V.mfaPendingCredential;const ln=Object.assign(Object.assign({},V),{idToken:jt.idToken,refreshToken:jt.refreshToken});switch(_.operationType){case"signIn":const on=yield _r._fromIdTokenResponse(C,_.operationType,ln);return yield C._updateCurrentUser(on.user),on;case"reauthenticate":return oe(_.user,C,"internal-error"),_r._forOperation(_.user,_.operationType,ln);default:P(C,"internal-error")}});return function(Tt){return et.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,v.Z)(function*(){return _.signInResolver(g)})()}}function Mu(b,g){return le(b,"POST","/v2/accounts/mfaEnrollment:start",pe(b,g))}class Fd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>ht._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new Fd(g)}getSession(){var g=this;return(0,v.Z)(function*(){return vo._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var C=this;return(0,v.Z)(function*(){const V=g,he=yield C.getSession(),Le=yield vi(C.user,V._process(C.user.auth,he,_));return yield C.user._updateTokensIfNecessary(Le),C.user.reload()})()}unenroll(g){var _=this;return(0,v.Z)(function*(){var C;const V="string"==typeof g?g:g.uid,he=yield _.user.getIdToken(),Le=yield vi(_.user,function lf(b,g){return le(b,"POST","/v2/accounts/mfaEnrollment:withdraw",pe(b,g))}(_.user.auth,{idToken:he,mfaEnrollmentId:V}));_.enrolledFactors=_.enrolledFactors.filter(({uid:et})=>et!==V),yield _.user._updateTokensIfNecessary(Le);try{yield _.user.reload()}catch(et){if("auth/user-token-expired"!==(null===(C=et)||void 0===C?void 0:C.code))throw et}})()}}const Hc=new WeakMap,Ya="__sak";class Qa{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ya,"1"),this.storage.removeItem(Ya),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hl=(()=>{class b extends Qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ja(){const b=(0,x.z$)();return He(b)||wt(b)}()&&function En(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ds(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const V=this.storage.getItem(C),he=this.localCache[C];V!==he&&_(C,he,V)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((et,Tt,jt)=>{this.notifyListeners(et,jt)});const V=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(V);if(_.newValue!==et)null!==_.newValue?this.storage.setItem(V,_.newValue):this.storage.removeItem(V);else if(this.localCache[V]===_.newValue&&!C)return}const he=()=>{const et=this.storage.getItem(V);!C&&this.localCache[V]===et||this.notifyListeners(V,et)},Le=this.storage.getItem(V);!function ii(){return(0,x.w1)()&&10===document.documentMode}()||Le===_.newValue||_.newValue===_.oldValue?he():setTimeout(he,10)}notifyListeners(_,C){this.localCache[_]=C;const V=this.listeners[_];if(V)for(const he of Array.from(V))he(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var V=()=>super._set,he=this;return(0,v.Z)(function*(){yield V().call(he,_,C),he.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,V=this;return(0,v.Z)(function*(){const he=yield C().call(V,_);return V.localCache[_]=JSON.stringify(he),he})()}_remove(_){var C=()=>super._remove,V=this;return(0,v.Z)(function*(){yield C().call(V,_),delete V.localCache[_]})()}}return b.type="LOCAL",b})(),Bo=(()=>{class b extends Qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let _0=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(he=>he.isListeningto(_));if(C)return C;const V=new b(_);return this.receivers.push(V),V}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,v.Z)(function*(){const V=_,{eventId:he,eventType:Le,data:et}=V.data,Tt=C.handlersMap[Le];if(!Tt?.size)return;V.ports[0].postMessage({status:"ack",eventId:he,eventType:Le});const jt=Array.from(Tt).map(function(){var on=(0,v.Z)(function*(fr){return fr(V.origin,et)});return function(fr){return on.apply(this,arguments)}}()),ln=yield function Nu(b){return Promise.all(b.map(function(){var g=(0,v.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(jt);V.ports[0].postMessage({status:"done",eventId:he,eventType:Le,response:ln})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Gc(b="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return b+_}class Gl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var V=this;return(0,v.Z)(function*(){const he=typeof MessageChannel<"u"?new MessageChannel:null;if(!he)throw new Error("connection_unavailable");let Le,et;return new Promise((Tt,jt)=>{const ln=Gc("",20);he.port1.start();const on=setTimeout(()=>{jt(new Error("unsupported_event"))},C);et={messageChannel:he,onMessage(fr){const vs=fr;if(vs.data.eventId===ln)switch(vs.data.status){case"ack":clearTimeout(on),Le=setTimeout(()=>{jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),Tt(vs.data.response);break;default:clearTimeout(on),clearTimeout(Le),jt(new Error("invalid_response"))}}},V.handlers.add(et),he.port1.addEventListener("message",et.onMessage),V.target.postMessage({eventType:g,eventId:ln,data:_},[he.port2])}).finally(()=>{et&&V.removeMessageHandler(et)})})()}}function lr(){return window}function Ou(){return typeof lr().WorkerGlobalScope<"u"&&"function"==typeof lr().importScripts}function Nr(){return(Nr=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xa="firebaseLocalStorageDb",_a="firebaseLocalStorage",$l="fbase_key";class ya{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function $c(b,g){return b.transaction([_a],g?"readwrite":"readonly").objectStore(_a)}function bo(){const b=indexedDB.open(Xa,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(_a,{keyPath:$l})}catch(V){_(V)}}),b.addEventListener("success",(0,v.Z)(function*(){const C=b.result;C.objectStoreNames.contains(_a)?g(C):(C.close(),yield function va(){const b=indexedDB.deleteDatabase(Xa);return new ya(b).toPromise()}(),g(yield bo()))}))})}function ba(b,g,_){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,v.Z)(function*(b,g,_){const C=$c(b,!0).put({[$l]:g,value:_});return new ya(C).toPromise()})).apply(this,arguments)}function wo(){return(wo=(0,v.Z)(function*(b,g){const _=$c(b,!1).get(g),C=yield new ya(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ea(b,g){const _=$c(b,!0).delete(g);return new ya(_).toPromise()}const zl=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,v.Z)(function*(){return _.db||(_.db=yield bo()),_.db})()}_withRetries(_){var C=this;return(0,v.Z)(function*(){let V=0;for(;;)try{const he=yield C._openDb();return yield _(he)}catch(he){if(V++>3)throw he;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,v.Z)(function*(){return Ou()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,v.Z)(function*(){_.receiver=_0._getInstance(function ma(){return Ou()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,v.Z)(function*(V,he){return{keyProcessed:(yield _._poll()).includes(he.key)}});return function(V,he){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,v.Z)(function*(V,he){return["keyChanged"]});return function(V,he){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,v.Z)(function*(){var C,V;if(_.activeServiceWorker=yield function Uo(){return Nr.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Gl(_.activeServiceWorker);const he=yield _.sender._send("ping",{},800);!he||(null===(C=he[0])||void 0===C?void 0:C.fulfilled)&&(null===(V=he[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,v.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Ru(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const _=yield bo();return yield ba(_,Ya,"1"),yield Ea(_,Ya),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,v.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var V=this;return(0,v.Z)(function*(){return V._withPendingWrite((0,v.Z)(function*(){return yield V._withRetries(he=>ba(he,_,C)),V.localCache[_]=C,V.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,v.Z)(function*(){const V=yield C._withRetries(he=>function wa(b,g){return wo.apply(this,arguments)}(he,_));return C.localCache[_]=V,V})()}_remove(_){var C=this;return(0,v.Z)(function*(){return C._withPendingWrite((0,v.Z)(function*(){return yield C._withRetries(V=>Ea(V,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,v.Z)(function*(){const C=yield _._withRetries(Le=>{const et=$c(Le,!1).getAll();return new ya(et).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const V=[],he=new Set;for(const{fbase_key:Le,value:et}of C)he.add(Le),JSON.stringify(_.localCache[Le])!==JSON.stringify(et)&&(_.notifyListeners(Le,et),V.push(Le));for(const Le of Object.keys(_.localCache))_.localCache[Le]&&!he.has(Le)&&(_.notifyListeners(Le,null),V.push(Le));return V})()}notifyListeners(_,C){this.localCache[_]=C;const V=this.listeners[_];if(V)for(const he of Array.from(V))he(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Pu(b,g){return le(b,"POST","/v2/accounts/mfaSignIn:start",pe(b,g))}function Js(){return(Js=(0,v.Z)(function*(b){return(yield le(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xs(b){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=V=>{const he=N("internal-error");he.customData=V,_(he)},C.type="text/javascript",C.charset="UTF-8",function Eo(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function zc(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Wl=1e12;class bi{constructor(g){this.auth=g,this.counter=Wl,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new F_(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||Wl;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Wl))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,v.Z)(function*(){var C;return null===(C=_._widgets.get(g||Wl))||void 0===C||C.execute(),""})()}}class F_{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof g?document.getElementById(g):g;oe(V,"argument-error",{appName:_}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function L_(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ng=zc("rcb"),B_=new sn(3e4,6e4);class ff{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=lr().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return oe(function rg(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(lr().grecaptcha):new Promise((C,V)=>{const he=lr().setTimeout(()=>{V(N(g,"network-request-failed"))},B_.get());lr()[ng]=()=>{lr().clearTimeout(he),delete lr()[ng];const et=lr().grecaptcha;if(!et)return void V(N(g,"internal-error"));const Tt=et.render;et.render=(jt,ln)=>{const on=Tt(jt,ln);return this.counter++,on},this.hostLanguage=_,C(et)},Xs(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:ng,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(he),V(N(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=lr().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wc{load(g){return(0,v.Z)(function*(){return new bi(g)})()}clearedOneInstance(){}}const pf="recaptcha",gf={theme:"light",type:"image"};class dr{constructor(g,_=Object.assign({},gf),C){this.parameters=_,this.type=pf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(C),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof g?document.getElementById(g):g;oe(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wc:new ff,this.validateStartingState()}verify(){var g=this;return(0,v.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(he=>{const Le=et=>{!et||(g.tokenChangeListeners.delete(Le),he(et))};g.tokenChangeListeners.add(Le),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=lr()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,v.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,v.Z)(function*(){oe(Ct()&&!Ou(),g.auth,"internal-error"),yield function Bd(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ns(b){return Js.apply(this,arguments)}(g.auth);oe(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ql{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ts._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function tl(){return(tl=(0,v.Z)(function*(b,g,_){const C=qn(b),V=yield Ho(C,g,(0,x.m9)(_));return new ql(V,he=>Mi(C,he))})).apply(this,arguments)}function Os(){return(Os=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b);yield Kn(!1,C,"phone");const V=yield Ho(C.auth,g,(0,x.m9)(_));return new ql(V,he=>ha(C,he))})).apply(this,arguments)}function Vo(){return(Vo=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b),V=yield Ho(C.auth,g,(0,x.m9)(_));return new ql(V,he=>Fl(C,he))})).apply(this,arguments)}function Ho(b,g,_){return Da.apply(this,arguments)}function Da(){return(Da=(0,v.Z)(function*(b,g,_){var C;const V=yield _.verify();try{let he;if(oe("string"==typeof V,b,"argument-error"),oe(_.type===pf,b,"argument-error"),he="string"==typeof g?{phoneNumber:g}:g,"session"in he){const Le=he.session;if("phoneNumber"in he)return oe("enroll"===Le.type,b,"internal-error"),(yield Mu(b,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:he.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{oe("signin"===Le.type,b,"internal-error");const et=(null===(C=he.multiFactorHint)||void 0===C?void 0:C.uid)||he.multiFactorUid;return oe(et,b,"missing-multi-factor-info"),(yield Pu(b,{mfaPendingCredential:Le.credential,mfaEnrollmentId:et,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield af(b,{phoneNumber:he.phoneNumber,recaptchaToken:V});return Le}}finally{_._reset()}})).apply(this,arguments)}function Ud(){return(Ud=(0,v.Z)(function*(b,g){yield Po((0,x.m9)(b),g)})).apply(this,arguments)}let Fu=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=qn(_)}verifyPhoneNumber(_,C){return Ho(this.auth,_,(0,x.m9)(C))}static credential(_,C){return Ts._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:V}=_;return C&&V?Ts._fromTokenResponse(C,V):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function nl(b,g){return g?fe(g):(oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Lu extends qi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Yt(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Yt(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Yt(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ys(b){return ps(b.auth,new Lu(b),b.bypassAuthState)}function Ta(b){const{auth:g,user:_}=b;return oe(_,g,"internal-error"),As(_,new Lu(b),b.bypassAuthState)}function Ia(b){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,v.Z)(function*(b){const{auth:g,user:_}=b;return oe(_,g,"internal-error"),Po(_,new Lu(b),b.bypassAuthState)})).apply(this,arguments)}class Kc{constructor(g,_,C,V,he=!1){this.auth=g,this.resolver=C,this.user=V,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,v.Z)(function*(C,V){g.pendingPromise={resolve:C,reject:V};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(he){g.reject(he)}});return function(C,V){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,v.Z)(function*(){const{urlResponse:C,sessionId:V,postBody:he,tenantId:Le,error:et,type:Tt}=g;if(et)return void _.reject(et);const jt={auth:_.auth,requestUri:C,sessionId:V,tenantId:Le||void 0,postBody:he||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Tt)(jt))}catch(ln){_.reject(ln)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ys;case"linkViaPopup":case"linkViaRedirect":return Ia;case"reauthViaPopup":case"reauthViaRedirect":return Ta;default:P(this.auth,"internal-error")}}resolve(g){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vd=new sn(2e3,1e4);function Zc(){return(Zc=(0,v.Z)(function*(b,g,_){const C=qn(b);ye(b,g,Ss);const V=nl(C,_);return new il(C,"signInViaPopup",g,V).executeNotNull()})).apply(this,arguments)}function jd(){return(jd=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b);ye(C.auth,g,Ss);const V=nl(C.auth,_);return new il(C.auth,"reauthViaPopup",g,V,C).executeNotNull()})).apply(this,arguments)}function Kl(){return(Kl=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b);ye(C.auth,g,Ss);const V=nl(C.auth,_);return new il(C.auth,"linkViaPopup",g,V,C).executeNotNull()})).apply(this,arguments)}let il=(()=>{class b extends Kc{constructor(_,C,V,he,Le){super(_,C,he,Le),this.provider=V,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,v.Z)(function*(){const C=yield _.execute();return oe(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,v.Z)(function*(){re(1===_.filter.length,"Popup operations only handle one event");const C=Gc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(V=>{_.reject(V)}),_.resolver._isIframeWebStorageSupported(_.auth,V=>{V||_.reject(N(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(N(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,V;this.pollId=null!==(V=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(N(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Vd.get())};_()}}return b.currentPopupAction=null,b})();const eo=new Map;class Uu extends Kc{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,v.Z)(function*(){let C=eo.get(_.auth._key());if(!C){try{const he=(yield function Vu(b,g){return jo.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(he)}catch(V){C=()=>Promise.reject(V)}eo.set(_.auth._key(),C)}return _.bypassAuthState||eo.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,v.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const V=yield C.auth._redirectUserForId(g.eventId);if(V)return C.user=V,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function jo(){return(jo=(0,v.Z)(function*(b,g){const _=Hu(g),C=$o(b);if(!(yield C._isAvailable()))return!1;const V="true"===(yield C._get(_));return yield C._remove(_),V})).apply(this,arguments)}function Gd(b,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,v.Z)(function*(b,g){return $o(b)._set(Hu(g),"true")})).apply(this,arguments)}function Yl(b,g){eo.set(b._key(),g)}function $o(b){return fe(b._redirectPersistence)}function Hu(b){return Be("pendingRedirect",b.config.apiKey,b.name)}function M(){return(M=(0,v.Z)(function*(b,g,_){const C=qn(b);ye(b,g,Ss);const V=nl(C,_);return yield Gd(V,C),V._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function Ie(){return(Ie=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b);ye(C.auth,g,Ss);const V=nl(C.auth,_);yield Gd(V,C.auth);const he=yield Xt(C);return V._openRedirect(C.auth,g,"reauthViaRedirect",he)})).apply(this,arguments)}function pt(){return(pt=(0,v.Z)(function*(b,g,_){const C=(0,x.m9)(b);ye(C.auth,g,Ss);const V=nl(C.auth,_);yield Kn(!1,C,g.providerId),yield Gd(V,C.auth);const he=yield Xt(C);return V._openRedirect(C.auth,g,"linkViaRedirect",he)})).apply(this,arguments)}function Jt(){return(Jt=(0,v.Z)(function*(b,g){return yield qn(b)._initializationPromise,un(b,g,!1)})).apply(this,arguments)}function un(b,g){return On.apply(this,arguments)}function On(){return(On=(0,v.Z)(function*(b,g,_=!1){const C=qn(b),V=nl(C,g),Le=yield new Uu(C,V,_).execute();return Le&&!_&&(delete Le.user._redirectEventId,yield C._persistUserIfCurrent(Le.user),yield C._setRedirectUser(null,g)),Le})).apply(this,arguments)}function Xt(b){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,v.Z)(function*(b){const g=Gc(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ql{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function sl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rl(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!rl(g)){const V=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(N(this.auth,V))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jl(g))}saveEventToCache(g){this.cachedEventUids.add(Jl(g)),this.lastProcessedEventTime=Date.now()}}function Jl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function rl({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function mi(b){return ol.apply(this,arguments)}function ol(){return(ol=(0,v.Z)(function*(b,g={}){return le(b,"GET","/v1/projects",g)})).apply(this,arguments)}const al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zo=/^https?/;function ag(){return(ag=(0,v.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield mi(b);for(const _ of g)try{if(y0(_))return}catch{}P(b,"unauthorized-domain")})).apply(this,arguments)}function y0(b){const g=qe(),{protocol:_,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const Le=new URL(b);return""===Le.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Le.hostname===C}if(!zo.test(_))return!1;if(al.test(b))return C===b;const V=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(C)}const H_=new sn(3e4,6e4);function v0(){const b=lr().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let $d=null;function cg(b){return $d=$d||function lg(b){return new Promise((g,_)=>{var C,V,he;function Le(){v0(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{v0(),_(N(b,"network-request-failed"))},timeout:H_.get()})}if(null!==(V=null===(C=lr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==V&&V.Iframe)g(gapi.iframes.getContext());else{if(null===(he=lr().gapi)||void 0===he||!he.load){const et=zc("iframefcb");return lr()[et]=()=>{gapi.load?Le():_(N(b,"network-request-failed"))},Xs(`https://apis.google.com/js/api.js?onload=${et}`).catch(Tt=>_(Tt))}Le()}}).catch(g=>{throw $d=null,g})}(b),$d}const ug=new sn(5e3,15e3),w0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hg(b){const g=b.config;oe(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Bn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:b.name,v:ee.SDK_VERSION},V=Xl.get(b.config.apiHost);V&&(C.eid=V);const he=b._getFrameworks();return he.length&&(C.fw=he.join(",")),`${_}?${(0,x.xO)(C).slice(1)}`}function Qc(){return Qc=(0,v.Z)(function*(b){const g=yield cg(b),_=lr().gapi;return oe(_,b,"internal-error"),g.open({where:document.body,url:hg(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w0,dontclear:!0},C=>new Promise(function(){var V=(0,v.Z)(function*(he,Le){yield C.restyle({setHideOnLeave:!1});const et=N(b,"network-request-failed"),Tt=lr().setTimeout(()=>{Le(et)},ug.get());function jt(){lr().clearTimeout(Tt),he(C)}C.ping(jt).then(jt,()=>{Le(et)})});return function(he,Le){return V.apply(this,arguments)}}()))}),Qc.apply(this,arguments)}const yf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ju{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sa(b,g,_,C,V,he){oe(b.config.authDomain,b,"auth-domain-config-required"),oe(b.config.apiKey,b,"invalid-api-key");const Le={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:ee.SDK_VERSION,eventId:V};if(g instanceof Ss){g.setDefaultLanguage(b.languageCode),Le.providerId=g.providerId||"",(0,x.xb)(g.getCustomParameters())||(Le.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Tt,jt]of Object.entries(he||{}))Le[Tt]=jt}if(g instanceof zs){const Tt=g.getScopes().filter(jt=>""!==jt);Tt.length>0&&(Le.scopes=Tt.join(","))}b.tenantId&&(Le.tid=b.tenantId);const et=Le;for(const Tt of Object.keys(et))void 0===et[Tt]&&delete et[Tt];return`${function S0({config:b}){return b.emulator?Bn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,x.xO)(et).slice(1)}`}const pg="webStorageSupport";class Wo extends class A0{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Wo(g)}_finalizeEnroll(g,_,C){return function Pd(b,g){return le(b,"POST","/v2/accounts/mfaEnrollment:finalize",pe(b,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function hf(b,g){return le(b,"POST","/v2/accounts/mfaSignIn:finalize",pe(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gu=(()=>{class b{constructor(){}static assertion(_){return Wo._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var G_="@firebase/auth",mg="0.20.11";class M0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,v.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{var V;g((null===(V=C)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pi(){return window}function it(){return(it=(0,v.Z)(function*(b,g,_){var C;const{BuildInfo:V}=Pi();re(g.sessionId,"AuthEvent did not contain a session ID");const he=yield Wt(g.sessionId),Le={};return wt()?Le.ibi=V.packageName:We()?Le.apn=V.packageName:P(b,"operation-not-supported-in-this-environment"),V.displayName&&(Le.appDisplayName=V.displayName),Le.sessionId=he,Sa(b,_,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,Le)})).apply(this,arguments)}function Rs(){return(Rs=(0,v.Z)(function*(b){const{BuildInfo:g}=Pi(),_={};wt()?_.iosBundleId=g.packageName:We()?_.androidPackageName=g.packageName:P(b,"operation-not-supported-in-this-environment"),yield mi(b,_)})).apply(this,arguments)}function $_(){return($_=(0,v.Z)(function*(b,g,_){const{cordova:C}=Pi();let V=()=>{};try{yield new Promise((he,Le)=>{let et=null;function Tt(){var on;he();const fr=null===(on=C.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof fr&&fr(),"function"==typeof _?.close&&_.close()}function jt(){et||(et=window.setTimeout(()=>{Le(N(b,"redirect-cancelled-by-user"))},2e3))}function ln(){"visible"===document?.visibilityState&&jt()}g.addPassiveListener(Tt),document.addEventListener("resume",jt,!1),We()&&document.addEventListener("visibilitychange",ln,!1),V=()=>{g.removePassiveListener(Tt),document.removeEventListener("resume",jt,!1),document.removeEventListener("visibilitychange",ln,!1),et&&window.clearTimeout(et)}})}finally{V()}})).apply(this,arguments)}function Wt(b){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,v.Z)(function*(b){const g=xn(b),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xn(b){if(re(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),_=new Uint8Array(g);for(let C=0;C<b.length;C++)_[C]=b.charCodeAt(C);return _}(0,x.Pz)("authIdTokenMaxAge"),function x0(b){(0,ee._registerComponent)(new R.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),V=g.getProvider("heartbeat"),{apiKey:he,authDomain:Le}=C.options;return((et,Tt)=>{oe(he&&!he.includes(":"),"invalid-api-key",{appName:et.name}),oe(!Le?.includes(":"),"argument-error",{appName:et.name});const jt={apiKey:he,authDomain:Le,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(b)},ln=new Sn(et,Tt,jt);return function Je(b,g){const _=g?.persistence||[],C=(Array.isArray(_)?_:[_]).map(fe);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,g?.popupRedirectResolver)}(ln,_),ln})(C,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new R.wA("auth-internal",g=>{const _=qn(g.getProvider("auth").getImmediate());return new M0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(G_,mg,function UC(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,ee.registerVersion)(G_,mg,"esm2017")}("Browser");class qd extends Ql{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,v.Z)(function*(){yield g.initPromise})()}}function vf(b){return bg.apply(this,arguments)}function bg(){return(bg=(0,v.Z)(function*(b){const g=yield vr()._get(nc(b));return g&&(yield vr()._remove(nc(b))),g})).apply(this,arguments)}function bf(){const b=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*g.length);b.push(g.charAt(C))}return b.join("")}function vr(){return fe(Hl)}function nc(b){return Be("authEvent",b.config.apiKey,b.name)}function wf(b){if(!b?.includes("?"))return{};const[g,..._]=b.split("?");return(0,x.zd)(_.join("?"))}function Gr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:N("no-auth-event")}}function Xc(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function ic(b=(0,x.z$)()){return!("file:"!==Xc()&&"ionic:"!==Xc()&&"capacitor:"!==Xc()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cf(){try{const b=self.localStorage,g=Gc();if(b)return b.setItem(g,"1"),b.removeItem(g),!function Dg(b=(0,x.z$)()){return function K_(){return(0,x.w1)()&&11===document?.documentMode}()||function eu(b=(0,x.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,x.hl)()}catch{return Yd()&&(0,x.hl)()}return!1}function Yd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Df(){return(function ll(){return"http:"===Xc()||"https:"===Xc()}()||(0,x.ru)()||ic())&&!function Cg(){return(0,x.b$)()||(0,x.UG)()}()&&Cf()&&!Yd()}function Qd(){return ic()&&typeof document<"u"}function Jd(){return(Jd=(0,v.Z)(function*(){return!!Qd()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const ss={LOCAL:"local",NONE:"none",SESSION:"session"},zu=oe,rc="persistence";function Wu(b){return qu.apply(this,arguments)}function qu(){return(qu=(0,v.Z)(function*(b){yield b._initializationPromise;const g=Tf(),_=Be(rc,b.config.apiKey,b.name);g&&g.setItem(_,b._getPersistence())})).apply(this,arguments)}function Tf(){var b;try{return(null===(b=function Xd(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const sc=oe;class ks{constructor(){this.browserResolver=fe(class gg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bo,this._completeRedirectFn=un,this._overrideRedirectResult=Yl}_openPopup(g,_,C,V){var he=this;return(0,v.Z)(function*(){var Le;re(null===(Le=he.eventManagers[g._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const et=Sa(g,_,C,qe(),V);return function fg(b,g,_,C=500,V=600){const he=Math.max((window.screen.availHeight-V)/2,0).toString(),Le=Math.max((window.screen.availWidth-C)/2,0).toString();let et="";const Tt=Object.assign(Object.assign({},yf),{width:C.toString(),height:V.toString(),top:he,left:Le}),jt=(0,x.z$)().toLowerCase();_&&(et=Ne(jt)?"_blank":_),At(jt)&&(g=g||"http://localhost",Tt.scrollbars="yes");const ln=Object.entries(Tt).reduce((fr,[vs,Og])=>`${fr}${vs}=${Og},`,"");if(function fi(b=(0,x.z$)()){var g;return wt(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(jt)&&"_self"!==et)return function T0(b,g){const _=document.createElement("a");_.href=b,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",et),new ju(null);const on=window.open(g||"",et,ln);oe(on,b,"popup-blocked");try{on.focus()}catch{}return new ju(on)}(g,et,Gc())})()}_openRedirect(g,_,C,V){var he=this;return(0,v.Z)(function*(){return yield he._originValidation(g),function Ns(b){lr().location.href=b}(Sa(g,_,C,qe(),V)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:V,promise:he}=this.eventManagers[_];return V?Promise.resolve(V):(re(he,"If manager is not set, promise should be"),he)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,v.Z)(function*(){const C=yield function E0(b){return Qc.apply(this,arguments)}(g),V=new Ql(g);return C.register("authEvent",he=>(oe(he?.authEvent,g,"invalid-auth-event"),{status:V.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:V},_.iframes[g._key()]=C,V})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(pg,{type:pg},V=>{var he;const Le=null===(he=V?.[0])||void 0===he?void 0:he[pg];void 0!==Le&&_(!!Le),P(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Yc(b){return ag.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ds()||He()||wt()}}),this.cordovaResolver=fe(class Zd{constructor(){this._redirectPersistence=Bo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=un,this._overrideRedirectResult=Yl}_initialize(g){var _=this;return(0,v.Z)(function*(){const C=g._key();let V=_.eventManagers.get(C);return V||(V=new qd(g),_.eventManagers.set(C,V),_.attachCallbackListeners(g,V)),V})()}_openPopup(g){P(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,C,V){var he=this;return(0,v.Z)(function*(){!function tc(b){var g,_,C,V,he,Le,et,Tt,jt,ln;const on=Pi();oe("function"==typeof(null===(g=on?.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(_=on?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(he=null===(V=null===(C=on?.cordova)||void 0===C?void 0:C.plugins)||void 0===V?void 0:V.browsertab)||void 0===he?void 0:he.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Tt=null===(et=null===(Le=on?.cordova)||void 0===Le?void 0:Le.plugins)||void 0===et?void 0:et.browsertab)||void 0===Tt?void 0:Tt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(ln=null===(jt=on?.cordova)||void 0===jt?void 0:jt.InAppBrowser)||void 0===ln?void 0:ln.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Le=yield he._initialize(g);yield Le.initialized(),Le.resetRedirect(),function mf(){eo.clear()}(),yield he._originValidation(g);const et=function Kd(b,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:bf(),postBody:null,tenantId:b.tenantId,error:N(b,"no-auth-event")}}(g,C,V);yield function O0(b,g){return vr()._set(nc(b),g)}(g,et);const Tt=yield function qo(b,g,_){return it.apply(this,arguments)}(g,et,_),jt=yield function Co(b){const{cordova:g}=Pi();return new Promise(_=>{g.plugins.browsertab.isAvailable(C=>{let V=null;C?g.plugins.browsertab.openUrl(b):V=g.InAppBrowser.open(b,function Dn(b=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(V)})})}(Tt);return function me(b,g,_){return $_.apply(this,arguments)}(g,Le,jt)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function rs(b){return Rs.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:C,handleOpenURL:V,BuildInfo:he}=Pi(),Le=setTimeout((0,v.Z)(function*(){yield vf(g),_.onEvent(Gr())}),500),et=function(){var ln=(0,v.Z)(function*(on){clearTimeout(Le);const fr=yield vf(g);let vs=null;fr&&on?.url&&(vs=function z_(b,g){var _,C;const V=function wi(b){const g=wf(b),_=g.link?decodeURIComponent(g.link):void 0,C=wf(_).link,V=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return wf(V).link||V||C||_||b}(g);if(V.includes("/__/auth/callback")){const he=wf(V),Le=he.firebaseError?function jr(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(he.firebaseError)):null,et=null===(C=null===(_=Le?.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Tt=et?N(et):null;return Tt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Tt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:V,postBody:null}}return null}(fr,on.url)),_.onEvent(vs||Gr())});return function(fr){return ln.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,et);const Tt=V,jt=`${he.packageName.toLowerCase()}://`;Pi().handleOpenURL=function(){var ln=(0,v.Z)(function*(on){if(on.toLowerCase().startsWith(jt)&&et({url:on}),"function"==typeof Tt)try{Tt(on)}catch(fr){console.error(fr)}});return function(on){return ln.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bo,this._completeRedirectFn=un,this._overrideRedirectResult=Yl}_initialize(g){var _=this;return(0,v.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,C,V){var he=this;return(0,v.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._openPopup(g,_,C,V)})()}_openRedirect(g,_,C,V){var he=this;return(0,v.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._openRedirect(g,_,C,V)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Qd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,v.Z)(function*(){if(g.underlyingResolver)return;const _=yield function Tg(){return Jd.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Sg(b){return b.unwrap()}function Ag(b){return If(b)}function If(b){const{_tokenResponse:g}=b instanceof x.ZR?b.customData:b;if(!g)return null;if(!(b instanceof x.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Fu.credentialFromResult(b);const _=g.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=Oo;break;case"facebook.com":C=da;break;case"github.com":C=Ws;break;case"twitter.com":C=Hr;break;default:const{oauthIdToken:V,oauthAccessToken:he,oauthTokenSecret:Le,pendingToken:et,nonce:Tt}=g;return he||Le||V||et?et?_.startsWith("saml.")?qs._create(_,et):Mr._fromParams({providerId:_,signInMethod:_,pendingToken:et,idToken:V,accessToken:he}):new fo(_).credential({idToken:V,accessToken:he,rawNonce:Tt}):null}return b instanceof x.ZR?C.credentialFromError(b):C.credentialFromResult(b)}function hr(b,g){return g.catch(_=>{throw _ instanceof x.ZR&&function Z_(b,g){var _,C;const V=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=g)||void 0===C?void 0:C.code))g.resolver=new Mg(b,function Ui(b,g){var _;const C=(0,x.m9)(b),V=g;return oe(g.customData.operationType,C,"argument-error"),oe(null===(_=V.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),ga._fromError(C,V)}(b,g));else if(V){const he=If(g),Le=g;he&&(Le.credential=he,Le.tenantId=V.tenantId||void 0,Le.email=V.email||void 0,Le.phoneNumber=V.phoneNumber||void 0)}}(b,_),_}).then(_=>{const V=_.user;return{operationType:_.operationType,credential:Ag(_),additionalUserInfo:Hn(_),user:Ko.getOrCreate(V)}})}function Zu(b,g){return th.apply(this,arguments)}function th(){return(th=(0,v.Z)(function*(b,g){const _=yield g;return{verificationId:_.verificationId,confirm:C=>hr(b,_.confirm(C))}})).apply(this,arguments)}class Mg{constructor(g,_){this.resolver=_,this.auth=function Ku(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return hr(Sg(this.auth),this.resolver.resolveSignIn(g))}}class Ko{constructor(g){this._delegate=g,this.multiFactor=function jc(b){const g=(0,x.m9)(b);return Hc.has(g)||Hc.set(g,Fd._fromUser(g)),Hc.get(g)}(g)}static getOrCreate(g){return Ko.USER_MAP.has(g)||Ko.USER_MAP.set(g,new Ko(g)),Ko.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,v.Z)(function*(){return hr(_.auth,ha(_._delegate,g))})()}linkWithPhoneNumber(g,_){var C=this;return(0,v.Z)(function*(){return Zu(C.auth,function is(b,g,_){return Os.apply(this,arguments)}(C._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,v.Z)(function*(){return hr(_.auth,function V_(b,g,_){return Kl.apply(this,arguments)}(_._delegate,g,ks))})()}linkWithRedirect(g){var _=this;return(0,v.Z)(function*(){return yield Wu(qn(_.auth)),function ze(b,g,_){return function Qe(b,g,_){return pt.apply(this,arguments)}(b,g,_)}(_._delegate,g,ks)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,v.Z)(function*(){return hr(_.auth,Fl(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Zu(this.auth,function qc(b,g,_){return Vo.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return hr(this.auth,function U_(b,g,_){return jd.apply(this,arguments)}(this._delegate,g,ks))}reauthenticateWithRedirect(g){var _=this;return(0,v.Z)(function*(){return yield Wu(qn(_.auth)),function F(b,g,_){return function ie(b,g,_){return Ie.apply(this,arguments)}(b,g,_)}(_._delegate,g,ks)})()}sendEmailVerification(g){return function Fc(b,g){return Za.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,v.Z)(function*(){return yield function or(b,g){return Ha.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function A(b,g){return O((0,x.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function G(b,g){return O((0,x.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function og(b,g){return Ud.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Uc(b,g){return Vc.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Lc(b,g,_){return Ul.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ko.USER_MAP=new WeakMap;const cl=oe;let xg=(()=>{class b{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=_.options;cl(V,"invalid-api-key",{appName:_.name}),cl(V,"invalid-api-key",{appName:_.name});const he=typeof window<"u"?ks:void 0;this._delegate=C.initialize({options:{persistence:k0(V,_.name),popupRedirectResolver:he}}),this._delegate._updateErrorMap(J),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function Sr(b,g,_){const C=qn(b);oe(C._canInitEmulator,C,"emulator-config-failed"),oe(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const V=!!_?.disableWarnings,he=Di(g),{host:Le,port:et}=function $n(b){const g=Di(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(C);if(V){const he=V[1];return{host:he,port:ui(C.substr(he.length+1))}}{const[he,Le]=C.split(":");return{host:he,port:ui(Le)}}}(g);C.config.emulator={url:`${he}//${Le}${null===et?"":`:${et}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Le,port:et,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function ds(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,C)}applyActionCode(_){return function ar(b,g){return za.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Wa(this._delegate,_)}confirmPasswordReset(_,C){return function $a(b,g,_){return Fo.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var V=this;return(0,v.Z)(function*(){return hr(V._delegate,function Qs(b,g,_){return ki.apply(this,arguments)}(V._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function qa(b,g){return Ka.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function xs(b,g){return"EMAIL_SIGNIN"===Ba.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,v.Z)(function*(){cl(Df(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function xt(b,g){return Jt.apply(this,arguments)}(_._delegate,ks);return C?hr(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function R0(b,g){qn(b)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,C,V){const{next:he,error:Le,complete:et}=Sf(_,C,V);return this._delegate.onAuthStateChanged(he,Le,et)}onIdTokenChanged(_,C,V){const{next:he,error:Le,complete:et}=Sf(_,C,V);return this._delegate.onIdTokenChanged(he,Le,et)}sendSignInLinkToEmail(_,C){return function Pc(b,g,_){return mo.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function Ys(b,g,_){return xi.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,v.Z)(function*(){let V;switch(function Ig(b,g){zu(Object.values(ss).includes(g),b,"invalid-persistence-type"),(0,x.b$)()?zu(g!==ss.SESSION,b,"unsupported-persistence-type"):(0,x.UG)()?zu(g===ss.NONE,b,"unsupported-persistence-type"):Yd()?zu(g===ss.NONE||g===ss.LOCAL&&(0,x.hl)(),b,"unsupported-persistence-type"):zu(g===ss.NONE||Cf(),b,"unsupported-persistence-type")}(C._delegate,_),_){case ss.SESSION:V=Bo;break;case ss.LOCAL:V=(yield fe(zl)._isAvailable())?zl:Hl;break;case ss.NONE:V=Me;break;default:return P("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return hr(this._delegate,function Va(b){return Ai.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return hr(this._delegate,Mi(this._delegate,_))}signInWithCustomToken(_){return hr(this._delegate,function Rc(b,g){return Ga.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return hr(this._delegate,function Xr(b,g,_){return Mi((0,x.m9)(b),Is.credential(g,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return hr(this._delegate,function _o(b,g,_){return Lo.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return Zu(this._delegate,function sg(b,g,_){return tl.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,v.Z)(function*(){return cl(Df(),C._delegate,"operation-not-supported-in-this-environment"),hr(C._delegate,function Hd(b,g,_){return Zc.apply(this,arguments)}(C._delegate,_,ks))})()}signInWithRedirect(_){var C=this;return(0,v.Z)(function*(){return cl(Df(),C._delegate,"operation-not-supported-in-this-environment"),yield Wu(C._delegate),function Vi(b,g,_){return function _f(b,g,_){return M.apply(this,arguments)}(b,g,_)}(C._delegate,_,ks)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function kc(b,g){return Bl.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=ss,b})();function Sf(b,g,_){let C=b;"function"!=typeof b&&({next:C,error:g,complete:_}=b);const V=C;return{next:Le=>V(Le&&Ko.getOrCreate(Le)),error:g,complete:_}}function k0(b,g){const _=function eh(b,g){const _=Tf();if(!_)return[];const C=Be(rc,b,g);switch(_.getItem(C)){case ss.NONE:return[Me];case ss.LOCAL:return[zl,Bo];case ss.SESSION:return[Bo];default:return[]}}(b,g);if(typeof self<"u"&&!_.includes(zl)&&_.push(zl),typeof window<"u")for(const C of[Hl,Bo])_.includes(C)||_.push(C);return _.includes(Me)||_.push(Me),_}class nh{constructor(){this.providerId="phone",this._delegate=new Fu(Sg(l.Z.auth()))}static credential(g,_){return Fu.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}nh.PHONE_SIGN_IN_METHOD=Fu.PHONE_SIGN_IN_METHOD,nh.PROVIDER_ID=Fu.PROVIDER_ID;const P0=oe;class Ng{constructor(g,_,C=l.Z.app()){var V;P0(null===(V=C.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new dr(g,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function F0(b){b.INTERNAL.registerComponent(new R.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new xg(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Is,FacebookAuthProvider:da,GithubAuthProvider:Ws,GoogleAuthProvider:Oo,OAuthProvider:fo,SAMLAuthProvider:Zi,PhoneAuthProvider:nh,PhoneMultiFactorGenerator:Gu,RecaptchaVerifier:Ng,TwitterAuthProvider:Hr,Auth:xg,AuthCredential:qi,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.2.24")}(l.Z)},8461:(je,we)=>{we.read=function(I,v,l,x,ee){var te,K,R=8*ee-x-1,H=(1<<R)-1,$=H>>1,j=-7,Y=l?ee-1:0,Q=l?-1:1,ne=I[v+Y];for(Y+=Q,te=ne&(1<<-j)-1,ne>>=-j,j+=R;j>0;te=256*te+I[v+Y],Y+=Q,j-=8);for(K=te&(1<<-j)-1,te>>=-j,j+=x;j>0;K=256*K+I[v+Y],Y+=Q,j-=8);if(0===te)te=1-$;else{if(te===H)return K?NaN:1/0*(ne?-1:1);K+=Math.pow(2,x),te-=$}return(ne?-1:1)*K*Math.pow(2,te-x)},we.write=function(I,v,l,x,ee,te){var K,R,H,$=8*te-ee-1,j=(1<<$)-1,Y=j>>1,Q=23===ee?Math.pow(2,-24)-Math.pow(2,-77):0,ne=x?0:te-1,Z=x?1:-1,J=v<0||0===v&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(R=isNaN(v)?1:0,K=j):(K=Math.floor(Math.log(v)/Math.LN2),v*(H=Math.pow(2,-K))<1&&(K--,H*=2),(v+=K+Y>=1?Q/H:Q*Math.pow(2,1-Y))*H>=2&&(K++,H/=2),K+Y>=j?(R=0,K=j):K+Y>=1?(R=(v*H-1)*Math.pow(2,ee),K+=Y):(R=v*Math.pow(2,Y-1)*Math.pow(2,ee),K=0));ee>=8;I[l+ne]=255&R,ne+=Z,R/=256,ee-=8);for(K=K<<ee|R,$+=ee;$>0;I[l+ne]=255&K,ne+=Z,K/=256,$-=8);I[l+ne-Z]|=128*J}},1135:(je,we,I)=>{"use strict";I.d(we,{X:()=>l});var v=I(7579);class l extends v.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const te=super._subscribe(ee);return!te.closed&&ee.next(this._value),te}getValue(){const{hasError:ee,thrownError:te,_value:K}=this;if(ee)throw te;return this._throwIfClosed(),K}next(ee){super.next(this._value=ee)}}},9751:(je,we,I)=>{"use strict";I.d(we,{y:()=>H});var v=I(930),l=I(727),x=I(8822),ee=I(9635),te=I(2416),K=I(576),R=I(2806);let H=(()=>{class Q{constructor(Z){Z&&(this._subscribe=Z)}lift(Z){const J=new Q;return J.source=this,J.operator=Z,J}subscribe(Z,J,De){const Ce=function Y(Q){return Q&&Q instanceof v.Lv||function j(Q){return Q&&(0,K.m)(Q.next)&&(0,K.m)(Q.error)&&(0,K.m)(Q.complete)}(Q)&&(0,l.Nn)(Q)}(Z)?Z:new v.Hp(Z,J,De);return(0,R.x)(()=>{const{operator:W,source:_e}=this;Ce.add(W?W.call(Ce,_e):_e?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Z){try{return this._subscribe(Z)}catch(J){Z.error(J)}}forEach(Z,J){return new(J=$(J))((De,Ce)=>{const W=new v.Hp({next:_e=>{try{Z(_e)}catch(z){Ce(z),W.unsubscribe()}},error:Ce,complete:De});this.subscribe(W)})}_subscribe(Z){var J;return null===(J=this.source)||void 0===J?void 0:J.subscribe(Z)}[x.L](){return this}pipe(...Z){return(0,ee.U)(Z)(this)}toPromise(Z){return new(Z=$(Z))((J,De)=>{let Ce;this.subscribe(W=>Ce=W,W=>De(W),()=>J(Ce))})}}return Q.create=ne=>new Q(ne),Q})();function $(Q){var ne;return null!==(ne=Q??te.v.Promise)&&void 0!==ne?ne:Promise}},7579:(je,we,I)=>{"use strict";I.d(we,{x:()=>R});var v=I(9751),l=I(727);const ee=(0,I(3888).d)($=>function(){$(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=I(8737),K=I(2806);let R=(()=>{class $ extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Q=new H(this,this);return Q.operator=Y,Q}_throwIfClosed(){if(this.closed)throw new ee}next(Y){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(Y)}})}error(Y){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Q}=this;for(;Q.length;)Q.shift().error(Y)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Q,isStopped:ne,observers:Z}=this;return Q||ne?l.Lc:(this.currentObservers=null,Z.push(Y),new l.w0(()=>{this.currentObservers=null,(0,te.P)(Z,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Q,thrownError:ne,isStopped:Z}=this;Q?Y.error(ne):Z&&Y.complete()}asObservable(){const Y=new v.y;return Y.source=this,Y}}return $.create=(j,Y)=>new H(j,Y),$})();class H extends R{constructor(j,Y){super(),this.destination=j,this.source=Y}next(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Q||Q.call(Y,j)}error(j){var Y,Q;null===(Q=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Q||Q.call(Y,j)}complete(){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===Y||Y.call(j)}_subscribe(j){var Y,Q;return null!==(Q=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(j))&&void 0!==Q?Q:l.Lc}}},930:(je,we,I)=>{"use strict";I.d(we,{Hp:()=>De,Lv:()=>Q});var v=I(576),l=I(727),x=I(2416),ee=I(7849),te=I(5032);const K=$("C",void 0,void 0);function $(P,N,q){return{kind:P,value:N,error:q}}var j=I(3410),Y=I(2806);class Q extends l.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,l.Nn)(N)&&N.add(this)):this.destination=z}static create(N,q,ye){return new De(N,q,ye)}next(N){this.isStopped?_e(function H(P){return $("N",P,void 0)}(N),this):this._next(N)}error(N){this.isStopped?_e(function R(P){return $("E",void 0,P)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?_e(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ne=Function.prototype.bind;function Z(P,N){return ne.call(P,N)}class J{constructor(N){this.partialObserver=N}next(N){const{partialObserver:q}=this;if(q.next)try{q.next(N)}catch(ye){Ce(ye)}}error(N){const{partialObserver:q}=this;if(q.error)try{q.error(N)}catch(ye){Ce(ye)}else Ce(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(q){Ce(q)}}}class De extends Q{constructor(N,q,ye){let se;if(super(),(0,v.m)(N)||!N)se={next:N??void 0,error:q??void 0,complete:ye??void 0};else{let oe;this&&x.v.useDeprecatedNextContext?(oe=Object.create(N),oe.unsubscribe=()=>this.unsubscribe(),se={next:N.next&&Z(N.next,oe),error:N.error&&Z(N.error,oe),complete:N.complete&&Z(N.complete,oe)}):se=N}this.destination=new J(se)}}function Ce(P){x.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(P):(0,ee.h)(P)}function _e(P,N){const{onStoppedNotification:q}=x.v;q&&j.z.setTimeout(()=>q(P,N))}const z={closed:!0,next:te.Z,error:function W(P){throw P},complete:te.Z}},727:(je,we,I)=>{"use strict";I.d(we,{Lc:()=>K,w0:()=>te,Nn:()=>R});var v=I(576);const x=(0,I(3888).d)($=>function(Y){$(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Q,ne)=>`${ne+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ee=I(8737);class te{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Z of Y)Z.remove(this);else Y.remove(this);const{initialTeardown:Q}=this;if((0,v.m)(Q))try{Q()}catch(Z){j=Z instanceof x?Z.errors:[Z]}const{_finalizers:ne}=this;if(ne){this._finalizers=null;for(const Z of ne)try{H(Z)}catch(J){j=j??[],J instanceof x?j=[...j,...J.errors]:j.push(J)}}if(j)throw new x(j)}}add(j){var Y;if(j&&j!==this)if(this.closed)H(j);else{if(j instanceof te){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(j)}}_hasParent(j){const{_parentage:Y}=this;return Y===j||Array.isArray(Y)&&Y.includes(j)}_addParent(j){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(j),Y):Y?[Y,j]:j}_removeParent(j){const{_parentage:Y}=this;Y===j?this._parentage=null:Array.isArray(Y)&&(0,ee.P)(Y,j)}remove(j){const{_finalizers:Y}=this;Y&&(0,ee.P)(Y,j),j instanceof te&&j._removeParent(this)}}te.EMPTY=(()=>{const $=new te;return $.closed=!0,$})();const K=te.EMPTY;function R($){return $ instanceof te||$&&"closed"in $&&(0,v.m)($.remove)&&(0,v.m)($.add)&&(0,v.m)($.unsubscribe)}function H($){(0,v.m)($)?$():$.unsubscribe()}},2416:(je,we,I)=>{"use strict";I.d(we,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(je,we,I)=>{"use strict";I.d(we,{a:()=>j});var v=I(9751),l=I(4742),x=I(8996),ee=I(4671),te=I(3268),K=I(3269),R=I(1810),H=I(5403),$=I(9672);function j(...ne){const Z=(0,K.yG)(ne),J=(0,K.jO)(ne),{args:De,keys:Ce}=(0,l.D)(ne);if(0===De.length)return(0,x.D)([],Z);const W=new v.y(function Y(ne,Z,J=ee.y){return De=>{Q(Z,()=>{const{length:Ce}=ne,W=new Array(Ce);let _e=Ce,z=Ce;for(let P=0;P<Ce;P++)Q(Z,()=>{const N=(0,x.D)(ne[P],Z);let q=!1;N.subscribe((0,H.x)(De,ye=>{W[P]=ye,q||(q=!0,z--),z||De.next(J(W.slice()))},()=>{--_e||De.complete()}))},De)},De)}}(De,Z,Ce?_e=>(0,R.n)(Ce,_e):ee.y));return J?W.pipe((0,te.Z)(J)):W}function Q(ne,Z,J){ne?(0,$.f)(J,ne,Z):Z()}},7272:(je,we,I)=>{"use strict";I.d(we,{z:()=>te});var v=I(8189),x=I(3269),ee=I(8996);function te(...K){return function l(){return(0,v.J)(1)}()((0,ee.D)(K,(0,x.yG)(K)))}},515:(je,we,I)=>{"use strict";I.d(we,{E:()=>l});const l=new(I(9751).y)(te=>te.complete())},8996:(je,we,I)=>{"use strict";I.d(we,{D:()=>N});var v=I(8421),l=I(5363),x=I(9468),K=I(9751),H=I(2202),$=I(576),j=I(9672);function Q(q,ye){if(!q)throw new Error("Iterable cannot be null");return new K.y(se=>{(0,j.f)(se,ye,()=>{const oe=q[Symbol.asyncIterator]();(0,j.f)(se,ye,()=>{oe.next().then(de=>{de.done?se.complete():se.next(de.value)})},0,!0)})})}var ne=I(3670),Z=I(8239),J=I(1144),De=I(6495),Ce=I(2206),W=I(4532),_e=I(3260);function N(q,ye){return ye?function P(q,ye){if(null!=q){if((0,ne.c)(q))return function ee(q,ye){return(0,v.Xf)(q).pipe((0,x.R)(ye),(0,l.Q)(ye))}(q,ye);if((0,J.z)(q))return function R(q,ye){return new K.y(se=>{let oe=0;return ye.schedule(function(){oe===q.length?se.complete():(se.next(q[oe++]),se.closed||this.schedule())})})}(q,ye);if((0,Z.t)(q))return function te(q,ye){return(0,v.Xf)(q).pipe((0,x.R)(ye),(0,l.Q)(ye))}(q,ye);if((0,Ce.D)(q))return Q(q,ye);if((0,De.T)(q))return function Y(q,ye){return new K.y(se=>{let oe;return(0,j.f)(se,ye,()=>{oe=q[H.h](),(0,j.f)(se,ye,()=>{let de,re;try{({value:de,done:re}=oe.next())}catch(ae){return void se.error(ae)}re?se.complete():se.next(de)},0,!0)}),()=>(0,$.m)(oe?.return)&&oe.return()})}(q,ye);if((0,_e.L)(q))return function z(q,ye){return Q((0,_e.Q)(q),ye)}(q,ye)}throw(0,W.z)(q)}(q,ye):(0,v.Xf)(q)}},8421:(je,we,I)=>{"use strict";I.d(we,{Xf:()=>ne});var v=I(655),l=I(1144),x=I(8239),ee=I(9751),te=I(3670),K=I(2206),R=I(4532),H=I(6495),$=I(3260),j=I(576),Y=I(7849),Q=I(8822);function ne(P){if(P instanceof ee.y)return P;if(null!=P){if((0,te.c)(P))return function Z(P){return new ee.y(N=>{const q=P[Q.L]();if((0,j.m)(q.subscribe))return q.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(P);if((0,l.z)(P))return function J(P){return new ee.y(N=>{for(let q=0;q<P.length&&!N.closed;q++)N.next(P[q]);N.complete()})}(P);if((0,x.t)(P))return function De(P){return new ee.y(N=>{P.then(q=>{N.closed||(N.next(q),N.complete())},q=>N.error(q)).then(null,Y.h)})}(P);if((0,K.D)(P))return W(P);if((0,H.T)(P))return function Ce(P){return new ee.y(N=>{for(const q of P)if(N.next(q),N.closed)return;N.complete()})}(P);if((0,$.L)(P))return function _e(P){return W((0,$.Q)(P))}(P)}throw(0,R.z)(P)}function W(P){return new ee.y(N=>{(function z(P,N){var q,ye,se,oe;return(0,v.mG)(this,void 0,void 0,function*(){try{for(q=(0,v.KL)(P);!(ye=yield q.next()).done;)if(N.next(ye.value),N.closed)return}catch(de){se={error:de}}finally{try{ye&&!ye.done&&(oe=q.return)&&(yield oe.call(q))}finally{if(se)throw se.error}}N.complete()})})(P,N).catch(q=>N.error(q))})}},6451:(je,we,I)=>{"use strict";I.d(we,{T:()=>K});var v=I(8189),l=I(8421),x=I(515),ee=I(3269),te=I(8996);function K(...R){const H=(0,ee.yG)(R),$=(0,ee._6)(R,1/0),j=R;return j.length?1===j.length?(0,l.Xf)(j[0]):(0,v.J)($)((0,te.D)(j,H)):x.E}},9646:(je,we,I)=>{"use strict";I.d(we,{of:()=>x});var v=I(3269),l=I(8996);function x(...ee){const te=(0,v.yG)(ee);return(0,l.D)(ee,te)}},5403:(je,we,I)=>{"use strict";I.d(we,{x:()=>l});var v=I(930);function l(ee,te,K,R,H){return new x(ee,te,K,R,H)}class x extends v.Lv{constructor(te,K,R,H,$,j){super(te),this.onFinalize=$,this.shouldUnsubscribe=j,this._next=K?function(Y){try{K(Y)}catch(Q){te.error(Q)}}:super._next,this._error=H?function(Y){try{H(Y)}catch(Q){te.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=R?function(){try{R()}catch(Y){te.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},8372:(je,we,I)=>{"use strict";I.d(we,{b:()=>ee});var v=I(4986),l=I(4482),x=I(5403);function ee(te,K=v.z){return(0,l.e)((R,H)=>{let $=null,j=null,Y=null;const Q=()=>{if($){$.unsubscribe(),$=null;const Z=j;j=null,H.next(Z)}};function ne(){const Z=Y+te,J=K.now();if(J<Z)return $=this.schedule(void 0,Z-J),void H.add($);Q()}R.subscribe((0,x.x)(H,Z=>{j=Z,Y=K.now(),$||($=K.schedule(ne,te),H.add($))},()=>{Q(),H.complete()},void 0,()=>{j=$=null}))})}},1884:(je,we,I)=>{"use strict";I.d(we,{x:()=>ee});var v=I(4671),l=I(4482),x=I(5403);function ee(K,R=v.y){return K=K??te,(0,l.e)((H,$)=>{let j,Y=!0;H.subscribe((0,x.x)($,Q=>{const ne=R(Q);(Y||!K(j,ne))&&(Y=!1,j=ne,$.next(Q))}))})}function te(K,R){return K===R}},9300:(je,we,I)=>{"use strict";I.d(we,{h:()=>x});var v=I(4482),l=I(5403);function x(ee,te){return(0,v.e)((K,R)=>{let H=0;K.subscribe((0,l.x)(R,$=>ee.call(te,$,H++)&&R.next($)))})}},4004:(je,we,I)=>{"use strict";I.d(we,{U:()=>x});var v=I(4482),l=I(5403);function x(ee,te){return(0,v.e)((K,R)=>{let H=0;K.subscribe((0,l.x)(R,$=>{R.next(ee.call(te,$,H++))}))})}},8189:(je,we,I)=>{"use strict";I.d(we,{J:()=>x});var v=I(5577),l=I(4671);function x(ee=1/0){return(0,v.z)(l.y,ee)}},5577:(je,we,I)=>{"use strict";I.d(we,{z:()=>H});var v=I(4004),l=I(8421),x=I(4482),ee=I(9672),te=I(5403),R=I(576);function H($,j,Y=1/0){return(0,R.m)(j)?H((Q,ne)=>(0,v.U)((Z,J)=>j(Q,Z,ne,J))((0,l.Xf)($(Q,ne))),Y):("number"==typeof j&&(Y=j),(0,x.e)((Q,ne)=>function K($,j,Y,Q,ne,Z,J,De){const Ce=[];let W=0,_e=0,z=!1;const P=()=>{z&&!Ce.length&&!W&&j.complete()},N=ye=>W<Q?q(ye):Ce.push(ye),q=ye=>{Z&&j.next(ye),W++;let se=!1;(0,l.Xf)(Y(ye,_e++)).subscribe((0,te.x)(j,oe=>{ne?.(oe),Z?N(oe):j.next(oe)},()=>{se=!0},void 0,()=>{if(se)try{for(W--;Ce.length&&W<Q;){const oe=Ce.shift();J?(0,ee.f)(j,J,()=>q(oe)):q(oe)}P()}catch(oe){j.error(oe)}}))};return $.subscribe((0,te.x)(j,N,()=>{z=!0,P()})),()=>{De?.()}}(Q,ne,$,Y)))}},5363:(je,we,I)=>{"use strict";I.d(we,{Q:()=>ee});var v=I(9672),l=I(4482),x=I(5403);function ee(te,K=0){return(0,l.e)((R,H)=>{R.subscribe((0,x.x)(H,$=>(0,v.f)(H,te,()=>H.next($),K),()=>(0,v.f)(H,te,()=>H.complete(),K),$=>(0,v.f)(H,te,()=>H.error($),K)))})}},3099:(je,we,I)=>{"use strict";I.d(we,{B:()=>te});var v=I(8421),l=I(7579),x=I(930),ee=I(4482);function te(R={}){const{connector:H=(()=>new l.x),resetOnError:$=!0,resetOnComplete:j=!0,resetOnRefCountZero:Y=!0}=R;return Q=>{let ne,Z,J,De=0,Ce=!1,W=!1;const _e=()=>{Z?.unsubscribe(),Z=void 0},z=()=>{_e(),ne=J=void 0,Ce=W=!1},P=()=>{const N=ne;z(),N?.unsubscribe()};return(0,ee.e)((N,q)=>{De++,!W&&!Ce&&_e();const ye=J=J??H();q.add(()=>{De--,0===De&&!W&&!Ce&&(Z=K(P,Y))}),ye.subscribe(q),!ne&&De>0&&(ne=new x.Hp({next:se=>ye.next(se),error:se=>{W=!0,_e(),Z=K(z,$,se),ye.error(se)},complete:()=>{Ce=!0,_e(),Z=K(z,j),ye.complete()}}),(0,v.Xf)(N).subscribe(ne))})(Q)}}function K(R,H,...$){if(!0===H)return void R();if(!1===H)return;const j=new x.Hp({next:()=>{j.unsubscribe(),R()}});return H(...$).subscribe(j)}},5684:(je,we,I)=>{"use strict";I.d(we,{T:()=>l});var v=I(9300);function l(x){return(0,v.h)((ee,te)=>x<=te)}},8675:(je,we,I)=>{"use strict";I.d(we,{O:()=>ee});var v=I(7272),l=I(3269),x=I(4482);function ee(...te){const K=(0,l.yG)(te);return(0,x.e)((R,H)=>{(K?(0,v.z)(te,R,K):(0,v.z)(te,R)).subscribe(H)})}},9468:(je,we,I)=>{"use strict";I.d(we,{R:()=>l});var v=I(4482);function l(x,ee=0){return(0,v.e)((te,K)=>{K.add(x.schedule(()=>te.subscribe(K),ee))})}},5698:(je,we,I)=>{"use strict";I.d(we,{q:()=>ee});var v=I(515),l=I(4482),x=I(5403);function ee(te){return te<=0?()=>v.E:(0,l.e)((K,R)=>{let H=0;K.subscribe((0,x.x)(R,$=>{++H<=te&&(R.next($),te<=H&&R.complete())}))})}},2722:(je,we,I)=>{"use strict";I.d(we,{R:()=>te});var v=I(4482),l=I(5403),x=I(8421),ee=I(5032);function te(K){return(0,v.e)((R,H)=>{(0,x.Xf)(K).subscribe((0,l.x)(H,()=>H.complete(),ee.Z)),!H.closed&&R.subscribe(H)})}},8505:(je,we,I)=>{"use strict";I.d(we,{b:()=>te});var v=I(576),l=I(4482),x=I(5403),ee=I(4671);function te(K,R,H){const $=(0,v.m)(K)||R||H?{next:K,error:R,complete:H}:K;return $?(0,l.e)((j,Y)=>{var Q;null===(Q=$.subscribe)||void 0===Q||Q.call($);let ne=!0;j.subscribe((0,x.x)(Y,Z=>{var J;null===(J=$.next)||void 0===J||J.call($,Z),Y.next(Z)},()=>{var Z;ne=!1,null===(Z=$.complete)||void 0===Z||Z.call($),Y.complete()},Z=>{var J;ne=!1,null===(J=$.error)||void 0===J||J.call($,Z),Y.error(Z)},()=>{var Z,J;ne&&(null===(Z=$.unsubscribe)||void 0===Z||Z.call($)),null===(J=$.finalize)||void 0===J||J.call($)}))}):ee.y}},4408:(je,we,I)=>{"use strict";I.d(we,{o:()=>te});var v=I(727);class l extends v.w0{constructor(R,H){super()}schedule(R,H=0){return this}}const x={setInterval(K,R,...H){const{delegate:$}=x;return $?.setInterval?$.setInterval(K,R,...H):setInterval(K,R,...H)},clearInterval(K){const{delegate:R}=x;return(R?.clearInterval||clearInterval)(K)},delegate:void 0};var ee=I(8737);class te extends l{constructor(R,H){super(R,H),this.scheduler=R,this.work=H,this.pending=!1}schedule(R,H=0){var $;if(this.closed)return this;this.state=R;const j=this.id,Y=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(Y,j,H)),this.pending=!0,this.delay=H,this.id=null!==($=this.id)&&void 0!==$?$:this.requestAsyncId(Y,this.id,H),this}requestAsyncId(R,H,$=0){return x.setInterval(R.flush.bind(R,this),$)}recycleAsyncId(R,H,$=0){if(null!=$&&this.delay===$&&!1===this.pending)return H;null!=H&&x.clearInterval(H)}execute(R,H){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $=this._execute(R,H);if($)return $;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,H){let j,$=!1;try{this.work(R)}catch(Y){$=!0,j=Y||new Error("Scheduled action threw falsy error")}if($)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:R,scheduler:H}=this,{actions:$}=H;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)($,this),null!=R&&(this.id=this.recycleAsyncId(H,R,null)),this.delay=null,super.unsubscribe()}}}},7565:(je,we,I)=>{"use strict";I.d(we,{v:()=>x});var v=I(6063);class l{constructor(te,K=l.now){this.schedulerActionCtor=te,this.now=K}schedule(te,K=0,R){return new this.schedulerActionCtor(this,te).schedule(R,K)}}l.now=v.l.now;class x extends l{constructor(te,K=l.now){super(te,K),this.actions=[],this._active=!1}flush(te){const{actions:K}=this;if(this._active)return void K.push(te);let R;this._active=!0;do{if(R=te.execute(te.state,te.delay))break}while(te=K.shift());if(this._active=!1,R){for(;te=K.shift();)te.unsubscribe();throw R}}}},4986:(je,we,I)=>{"use strict";I.d(we,{P:()=>ee,z:()=>x});var v=I(4408);const x=new(I(7565).v)(v.o),ee=x},6063:(je,we,I)=>{"use strict";I.d(we,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(je,we,I)=>{"use strict";I.d(we,{z:()=>v});const v={setTimeout(l,x,...ee){const{delegate:te}=v;return te?.setTimeout?te.setTimeout(l,x,...ee):setTimeout(l,x,...ee)},clearTimeout(l){const{delegate:x}=v;return(x?.clearTimeout||clearTimeout)(l)},delegate:void 0}},2202:(je,we,I)=>{"use strict";I.d(we,{h:()=>l});const l=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(je,we,I)=>{"use strict";I.d(we,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(je,we,I)=>{"use strict";I.d(we,{_6:()=>K,jO:()=>ee,yG:()=>te});var v=I(576),l=I(3532);function x(R){return R[R.length-1]}function ee(R){return(0,v.m)(x(R))?R.pop():void 0}function te(R){return(0,l.K)(x(R))?R.pop():void 0}function K(R,H){return"number"==typeof x(R)?R.pop():H}},4742:(je,we,I)=>{"use strict";I.d(we,{D:()=>te});const{isArray:v}=Array,{getPrototypeOf:l,prototype:x,keys:ee}=Object;function te(R){if(1===R.length){const H=R[0];if(v(H))return{args:H,keys:null};if(function K(R){return R&&"object"==typeof R&&l(R)===x}(H)){const $=ee(H);return{args:$.map(j=>H[j]),keys:$}}}return{args:R,keys:null}}},8737:(je,we,I)=>{"use strict";function v(l,x){if(l){const ee=l.indexOf(x);0<=ee&&l.splice(ee,1)}}I.d(we,{P:()=>v})},3888:(je,we,I)=>{"use strict";function v(l){const ee=l(te=>{Error.call(te),te.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}I.d(we,{d:()=>v})},1810:(je,we,I)=>{"use strict";function v(l,x){return l.reduce((ee,te,K)=>(ee[te]=x[K],ee),{})}I.d(we,{n:()=>v})},2806:(je,we,I)=>{"use strict";I.d(we,{O:()=>ee,x:()=>x});var v=I(2416);let l=null;function x(te){if(v.v.useDeprecatedSynchronousErrorHandling){const K=!l;if(K&&(l={errorThrown:!1,error:null}),te(),K){const{errorThrown:R,error:H}=l;if(l=null,R)throw H}}else te()}function ee(te){v.v.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=te)}},9672:(je,we,I)=>{"use strict";function v(l,x,ee,te=0,K=!1){const R=x.schedule(function(){ee(),K?l.add(this.schedule(null,te)):this.unsubscribe()},te);if(l.add(R),!K)return R}I.d(we,{f:()=>v})},4671:(je,we,I)=>{"use strict";function v(l){return l}I.d(we,{y:()=>v})},1144:(je,we,I)=>{"use strict";I.d(we,{z:()=>v});const v=l=>l&&"number"==typeof l.length&&"function"!=typeof l},2206:(je,we,I)=>{"use strict";I.d(we,{D:()=>l});var v=I(576);function l(x){return Symbol.asyncIterator&&(0,v.m)(x?.[Symbol.asyncIterator])}},576:(je,we,I)=>{"use strict";function v(l){return"function"==typeof l}I.d(we,{m:()=>v})},3670:(je,we,I)=>{"use strict";I.d(we,{c:()=>x});var v=I(8822),l=I(576);function x(ee){return(0,l.m)(ee[v.L])}},6495:(je,we,I)=>{"use strict";I.d(we,{T:()=>x});var v=I(2202),l=I(576);function x(ee){return(0,l.m)(ee?.[v.h])}},8239:(je,we,I)=>{"use strict";I.d(we,{t:()=>l});var v=I(576);function l(x){return(0,v.m)(x?.then)}},3260:(je,we,I)=>{"use strict";I.d(we,{L:()=>ee,Q:()=>x});var v=I(655),l=I(576);function x(te){return(0,v.FC)(this,arguments,function*(){const R=te.getReader();try{for(;;){const{value:H,done:$}=yield(0,v.qq)(R.read());if($)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(H)}}finally{R.releaseLock()}})}function ee(te){return(0,l.m)(te?.getReader)}},3532:(je,we,I)=>{"use strict";I.d(we,{K:()=>l});var v=I(576);function l(x){return x&&(0,v.m)(x.schedule)}},4482:(je,we,I)=>{"use strict";I.d(we,{A:()=>l,e:()=>x});var v=I(576);function l(ee){return(0,v.m)(ee?.lift)}function x(ee){return te=>{if(l(te))return te.lift(function(K){try{return ee(K,this)}catch(R){this.error(R)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(je,we,I)=>{"use strict";I.d(we,{Z:()=>ee});var v=I(4004);const{isArray:l}=Array;function ee(te){return(0,v.U)(K=>function x(te,K){return l(K)?te(...K):te(K)}(te,K))}},5032:(je,we,I)=>{"use strict";function v(){}I.d(we,{Z:()=>v})},9635:(je,we,I)=>{"use strict";I.d(we,{U:()=>x,z:()=>l});var v=I(4671);function l(...ee){return x(ee)}function x(ee){return 0===ee.length?v.y:1===ee.length?ee[0]:function(K){return ee.reduce((R,H)=>H(R),K)}}},7849:(je,we,I)=>{"use strict";I.d(we,{h:()=>x});var v=I(2416),l=I(3410);function x(ee){l.z.setTimeout(()=>{const{onUnhandledError:te}=v.v;if(!te)throw ee;te(ee)})}},4532:(je,we,I)=>{"use strict";function v(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}I.d(we,{z:()=>v})},3502:(je,we,I)=>{var v=I(3172),l=v.Buffer;function x(te,K){for(var R in te)K[R]=te[R]}function ee(te,K,R){return l(te,K,R)}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?je.exports=v:(x(v,we),we.Buffer=ee),ee.prototype=Object.create(l.prototype),x(l,ee),ee.from=function(te,K,R){if("number"==typeof te)throw new TypeError("Argument must not be a number");return l(te,K,R)},ee.alloc=function(te,K,R){if("number"!=typeof te)throw new TypeError("Argument must be a number");var H=l(te);return void 0!==K?"string"==typeof R?H.fill(K,R):H.fill(K):H.fill(0),H},ee.allocUnsafe=function(te){if("number"!=typeof te)throw new TypeError("Argument must be a number");return l(te)},ee.allocUnsafeSlow=function(te){if("number"!=typeof te)throw new TypeError("Argument must be a number");return v.SlowBuffer(te)}},1503:(je,we,I)=>{!function(v){v.parser=function(pe,le){return new x(pe,le)},v.SAXParser=x,v.SAXStream=j,v.createStream=function $(pe,le){return new j(pe,le)},v.MAX_BUFFER_LENGTH=65536;var R,l=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function x(pe,le){if(!(this instanceof x))return new x(pe,le);var lt=this;(function te(pe){for(var le=0,lt=l.length;le<lt;le++)pe[l[le]]=""})(lt),lt.q=lt.c="",lt.bufferCheckPosition=v.MAX_BUFFER_LENGTH,lt.opt=le||{},lt.opt.lowercase=lt.opt.lowercase||lt.opt.lowercasetags,lt.looseCase=lt.opt.lowercase?"toLowerCase":"toUpperCase",lt.tags=[],lt.closed=lt.closedRoot=lt.sawRoot=!1,lt.tag=lt.error=null,lt.strict=!!pe,lt.noscript=!(!pe&&!lt.opt.noscript),lt.state=se.BEGIN,lt.strictEntities=lt.opt.strictEntities,lt.ENTITIES=Object.create(lt.strictEntities?v.XML_ENTITIES:v.ENTITIES),lt.attribList=[],lt.opt.xmlns&&(lt.ns=Object.create(J)),lt.trackPosition=!1!==lt.opt.position,lt.trackPosition&&(lt.position=lt.line=lt.column=0),de(lt,"onready")}v.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(pe){function le(){}return le.prototype=pe,new le}),Object.keys||(Object.keys=function(pe){var le=[];for(var lt in pe)pe.hasOwnProperty(lt)&&le.push(lt);return le}),x.prototype={end:function(){Je(this)},write:function di(pe){var le=this;if(this.error)throw this.error;if(le.closed)return Se(le,"Cannot write after close. Assign an onready handler.");if(null===pe)return Je(le);"object"==typeof pe&&(pe=pe.toString());for(var lt=0,Ge="";Ge=An(pe,lt++),le.c=Ge,Ge;)switch(le.trackPosition&&(le.position++,"\n"===Ge?(le.line++,le.column=0):le.column++),le.state){case se.BEGIN:if(le.state=se.BEGIN_WHITESPACE,"\ufeff"===Ge)continue;In(le,Ge);continue;case se.BEGIN_WHITESPACE:In(le,Ge);continue;case se.TEXT:if(le.sawRoot&&!le.closedRoot){for(var nn=lt-1;Ge&&"<"!==Ge&&"&"!==Ge;)(Ge=An(pe,lt++))&&le.trackPosition&&(le.position++,"\n"===Ge?(le.line++,le.column=0):le.column++);le.textNode+=pe.substring(nn,lt-1)}"<"!==Ge||le.sawRoot&&le.closedRoot&&!le.strict?(!z(Ge)&&(!le.sawRoot||le.closedRoot)&&qe(le,"Text data outside of root node."),"&"===Ge?le.state=se.TEXT_ENTITY:le.textNode+=Ge):(le.state=se.OPEN_WAKA,le.startTagPosition=le.position);continue;case se.SCRIPT:"<"===Ge?le.state=se.SCRIPT_ENDING:le.script+=Ge;continue;case se.SCRIPT_ENDING:"/"===Ge?le.state=se.CLOSE_TAG:(le.script+="<"+Ge,le.state=se.SCRIPT);continue;case se.OPEN_WAKA:"!"===Ge?(le.state=se.SGML_DECL,le.sgmlDecl=""):z(Ge)||(q(De,Ge)?(le.state=se.OPEN_TAG,le.tagName=Ge):"/"===Ge?(le.state=se.CLOSE_TAG,le.tagName=""):"?"===Ge?(le.state=se.PROC_INST,le.procInstName=le.procInstBody=""):(qe(le,"Unencoded <"),le.startTagPosition+1<le.position&&(Ge=new Array(le.position-le.startTagPosition).join(" ")+Ge),le.textNode+="<"+Ge,le.state=se.TEXT));continue;case se.SGML_DECL:"[CDATA["===(le.sgmlDecl+Ge).toUpperCase()?(re(le,"onopencdata"),le.state=se.CDATA,le.sgmlDecl="",le.cdata=""):le.sgmlDecl+Ge==="--"?(le.state=se.COMMENT,le.comment="",le.sgmlDecl=""):"DOCTYPE"===(le.sgmlDecl+Ge).toUpperCase()?(le.state=se.DOCTYPE,(le.doctype||le.sawRoot)&&qe(le,"Inappropriately located doctype declaration"),le.doctype="",le.sgmlDecl=""):">"===Ge?(re(le,"onsgmldeclaration",le.sgmlDecl),le.sgmlDecl="",le.state=se.TEXT):(P(Ge)&&(le.state=se.SGML_DECL_QUOTED),le.sgmlDecl+=Ge);continue;case se.SGML_DECL_QUOTED:Ge===le.q&&(le.state=se.SGML_DECL,le.q=""),le.sgmlDecl+=Ge;continue;case se.DOCTYPE:">"===Ge?(le.state=se.TEXT,re(le,"ondoctype",le.doctype),le.doctype=!0):(le.doctype+=Ge,"["===Ge?le.state=se.DOCTYPE_DTD:P(Ge)&&(le.state=se.DOCTYPE_QUOTED,le.q=Ge));continue;case se.DOCTYPE_QUOTED:le.doctype+=Ge,Ge===le.q&&(le.q="",le.state=se.DOCTYPE);continue;case se.DOCTYPE_DTD:le.doctype+=Ge,"]"===Ge?le.state=se.DOCTYPE:P(Ge)&&(le.state=se.DOCTYPE_DTD_QUOTED,le.q=Ge);continue;case se.DOCTYPE_DTD_QUOTED:le.doctype+=Ge,Ge===le.q&&(le.state=se.DOCTYPE_DTD,le.q="");continue;case se.COMMENT:"-"===Ge?le.state=se.COMMENT_ENDING:le.comment+=Ge;continue;case se.COMMENT_ENDING:"-"===Ge?(le.state=se.COMMENT_ENDED,le.comment=fe(le.opt,le.comment),le.comment&&re(le,"oncomment",le.comment),le.comment=""):(le.comment+="-"+Ge,le.state=se.COMMENT);continue;case se.COMMENT_ENDED:">"!==Ge?(qe(le,"Malformed comment"),le.comment+="--"+Ge,le.state=se.COMMENT):le.state=se.TEXT;continue;case se.CDATA:"]"===Ge?le.state=se.CDATA_ENDING:le.cdata+=Ge;continue;case se.CDATA_ENDING:"]"===Ge?le.state=se.CDATA_ENDING_2:(le.cdata+="]"+Ge,le.state=se.CDATA);continue;case se.CDATA_ENDING_2:">"===Ge?(le.cdata&&re(le,"oncdata",le.cdata),re(le,"onclosecdata"),le.cdata="",le.state=se.TEXT):"]"===Ge?le.cdata+="]":(le.cdata+="]]"+Ge,le.state=se.CDATA);continue;case se.PROC_INST:"?"===Ge?le.state=se.PROC_INST_ENDING:z(Ge)?le.state=se.PROC_INST_BODY:le.procInstName+=Ge;continue;case se.PROC_INST_BODY:if(!le.procInstBody&&z(Ge))continue;"?"===Ge?le.state=se.PROC_INST_ENDING:le.procInstBody+=Ge;continue;case se.PROC_INST_ENDING:">"===Ge?(re(le,"onprocessinginstruction",{name:le.procInstName,body:le.procInstBody}),le.procInstName=le.procInstBody="",le.state=se.TEXT):(le.procInstBody+="?"+Ge,le.state=se.PROC_INST_BODY);continue;case se.OPEN_TAG:q(Ce,Ge)?le.tagName+=Ge:(Ct(le),">"===Ge?_t(le):"/"===Ge?le.state=se.OPEN_TAG_SLASH:(z(Ge)||qe(le,"Invalid character in tag name"),le.state=se.ATTRIB));continue;case se.OPEN_TAG_SLASH:">"===Ge?(_t(le,!0),sn(le)):(qe(le,"Forward-slash in opening tag not followed by >"),le.state=se.ATTRIB);continue;case se.ATTRIB:if(z(Ge))continue;">"===Ge?_t(le):"/"===Ge?le.state=se.OPEN_TAG_SLASH:q(De,Ge)?(le.attribName=Ge,le.attribValue="",le.state=se.ATTRIB_NAME):qe(le,"Invalid attribute name");continue;case se.ATTRIB_NAME:"="===Ge?le.state=se.ATTRIB_VALUE:">"===Ge?(qe(le,"Attribute without value"),le.attribValue=le.attribName,tn(le),_t(le)):z(Ge)?le.state=se.ATTRIB_NAME_SAW_WHITE:q(Ce,Ge)?le.attribName+=Ge:qe(le,"Invalid attribute name");continue;case se.ATTRIB_NAME_SAW_WHITE:if("="===Ge)le.state=se.ATTRIB_VALUE;else{if(z(Ge))continue;qe(le,"Attribute without value"),le.tag.attributes[le.attribName]="",le.attribValue="",re(le,"onattribute",{name:le.attribName,value:""}),le.attribName="",">"===Ge?_t(le):q(De,Ge)?(le.attribName=Ge,le.state=se.ATTRIB_NAME):(qe(le,"Invalid attribute name"),le.state=se.ATTRIB)}continue;case se.ATTRIB_VALUE:if(z(Ge))continue;P(Ge)?(le.q=Ge,le.state=se.ATTRIB_VALUE_QUOTED):(qe(le,"Unquoted attribute value"),le.state=se.ATTRIB_VALUE_UNQUOTED,le.attribValue=Ge);continue;case se.ATTRIB_VALUE_QUOTED:if(Ge!==le.q){"&"===Ge?le.state=se.ATTRIB_VALUE_ENTITY_Q:le.attribValue+=Ge;continue}tn(le),le.q="",le.state=se.ATTRIB_VALUE_CLOSED;continue;case se.ATTRIB_VALUE_CLOSED:z(Ge)?le.state=se.ATTRIB:">"===Ge?_t(le):"/"===Ge?le.state=se.OPEN_TAG_SLASH:q(De,Ge)?(qe(le,"No whitespace between attributes"),le.attribName=Ge,le.attribValue="",le.state=se.ATTRIB_NAME):qe(le,"Invalid attribute name");continue;case se.ATTRIB_VALUE_UNQUOTED:if(!N(Ge)){"&"===Ge?le.state=se.ATTRIB_VALUE_ENTITY_U:le.attribValue+=Ge;continue}tn(le),">"===Ge?_t(le):le.state=se.ATTRIB;continue;case se.CLOSE_TAG:if(le.tagName)">"===Ge?sn(le):q(Ce,Ge)?le.tagName+=Ge:le.script?(le.script+="</"+le.tagName,le.tagName="",le.state=se.SCRIPT):(z(Ge)||qe(le,"Invalid tagname in closing tag"),le.state=se.CLOSE_TAG_SAW_WHITE);else{if(z(Ge))continue;ye(De,Ge)?le.script?(le.script+="</"+Ge,le.state=se.SCRIPT):qe(le,"Invalid tagname in closing tag."):le.tagName=Ge}continue;case se.CLOSE_TAG_SAW_WHITE:if(z(Ge))continue;">"===Ge?sn(le):qe(le,"Invalid characters in closing tag");continue;case se.TEXT_ENTITY:case se.ATTRIB_VALUE_ENTITY_Q:case se.ATTRIB_VALUE_ENTITY_U:var wn,Un;switch(le.state){case se.TEXT_ENTITY:wn=se.TEXT,Un="textNode";break;case se.ATTRIB_VALUE_ENTITY_Q:wn=se.ATTRIB_VALUE_QUOTED,Un="attribValue";break;case se.ATTRIB_VALUE_ENTITY_U:wn=se.ATTRIB_VALUE_UNQUOTED,Un="attribValue"}";"===Ge?(le[Un]+=Bn(le),le.entity="",le.state=wn):q(le.entity.length?_e:W,Ge)?le.entity+=Ge:(qe(le,"Invalid character in entity name"),le[Un]+="&"+le.entity+Ge,le.entity="",le.state=wn);continue;default:throw new Error(le,"Unknown state: "+le.state)}return le.position>=le.bufferCheckPosition&&function ee(pe){for(var le=Math.max(v.MAX_BUFFER_LENGTH,10),lt=0,Ge=0,nn=l.length;Ge<nn;Ge++){var bn=pe[l[Ge]].length;if(bn>le)switch(l[Ge]){case"textNode":ae(pe);break;case"cdata":re(pe,"oncdata",pe.cdata),pe.cdata="";break;case"script":re(pe,"onscript",pe.script),pe.script="";break;default:Se(pe,"Max buffer length exceeded: "+l[Ge])}lt=Math.max(lt,bn)}pe.bufferCheckPosition=v.MAX_BUFFER_LENGTH-lt+pe.position}(le),le},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function K(pe){ae(pe),""!==pe.cdata&&(re(pe,"oncdata",pe.cdata),pe.cdata=""),""!==pe.script&&(re(pe,"onscript",pe.script),pe.script="")}(this)}};try{R=I(5398).Stream}catch{R=function(){}}var H=v.EVENTS.filter(function(pe){return"error"!==pe&&"end"!==pe});function j(pe,le){if(!(this instanceof j))return new j(pe,le);R.apply(this),this._parser=new x(pe,le),this.writable=!0,this.readable=!0;var lt=this;this._parser.onend=function(){lt.emit("end")},this._parser.onerror=function(Ge){lt.emit("error",Ge),lt._parser.error=null},this._decoder=null,H.forEach(function(Ge){Object.defineProperty(lt,"on"+Ge,{get:function(){return lt._parser["on"+Ge]},set:function(nn){if(!nn)return lt.removeAllListeners(Ge),lt._parser["on"+Ge]=nn,nn;lt.on(Ge,nn)},enumerable:!0,configurable:!1})})}(j.prototype=Object.create(R.prototype,{constructor:{value:j}})).write=function(pe){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(pe)){if(!this._decoder){var le=I(3054).s;this._decoder=new le("utf8")}pe=this._decoder.write(pe)}return this._parser.write(pe.toString()),this.emit("data",pe),!0},j.prototype.end=function(pe){return pe&&pe.length&&this.write(pe),this._parser.end(),!0},j.prototype.on=function(pe,le){var lt=this;return!lt._parser["on"+pe]&&-1!==H.indexOf(pe)&&(lt._parser["on"+pe]=function(){var Ge=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);Ge.splice(0,0,pe),lt.emit.apply(lt,Ge)}),R.prototype.on.call(lt,pe,le)};var ne="http://www.w3.org/XML/1998/namespace",Z="http://www.w3.org/2000/xmlns/",J={xml:ne,xmlns:Z},De=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ce=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,W=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_e=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function z(pe){return" "===pe||"\n"===pe||"\r"===pe||"\t"===pe}function P(pe){return'"'===pe||"'"===pe}function N(pe){return">"===pe||z(pe)}function q(pe,le){return pe.test(le)}function ye(pe,le){return!q(pe,le)}var pe,le,lt,se=0;for(var oe in v.STATE={BEGIN:se++,BEGIN_WHITESPACE:se++,TEXT:se++,TEXT_ENTITY:se++,OPEN_WAKA:se++,SGML_DECL:se++,SGML_DECL_QUOTED:se++,DOCTYPE:se++,DOCTYPE_QUOTED:se++,DOCTYPE_DTD:se++,DOCTYPE_DTD_QUOTED:se++,COMMENT_STARTING:se++,COMMENT:se++,COMMENT_ENDING:se++,COMMENT_ENDED:se++,CDATA:se++,CDATA_ENDING:se++,CDATA_ENDING_2:se++,PROC_INST:se++,PROC_INST_BODY:se++,PROC_INST_ENDING:se++,OPEN_TAG:se++,OPEN_TAG_SLASH:se++,ATTRIB:se++,ATTRIB_NAME:se++,ATTRIB_NAME_SAW_WHITE:se++,ATTRIB_VALUE:se++,ATTRIB_VALUE_QUOTED:se++,ATTRIB_VALUE_CLOSED:se++,ATTRIB_VALUE_UNQUOTED:se++,ATTRIB_VALUE_ENTITY_Q:se++,ATTRIB_VALUE_ENTITY_U:se++,CLOSE_TAG:se++,CLOSE_TAG_SAW_WHITE:se++,SCRIPT:se++,SCRIPT_ENDING:se++},v.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},v.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(v.ENTITIES).forEach(function(pe){var le=v.ENTITIES[pe],lt="number"==typeof le?String.fromCharCode(le):le;v.ENTITIES[pe]=lt}),v.STATE)v.STATE[v.STATE[oe]]=oe;function de(pe,le,lt){pe[le]&&pe[le](lt)}function re(pe,le,lt){pe.textNode&&ae(pe),de(pe,le,lt)}function ae(pe){pe.textNode=fe(pe.opt,pe.textNode),pe.textNode&&de(pe,"ontext",pe.textNode),pe.textNode=""}function fe(pe,le){return pe.trim&&(le=le.trim()),pe.normalize&&(le=le.replace(/\s+/g," ")),le}function Se(pe,le){return ae(pe),pe.trackPosition&&(le+="\nLine: "+pe.line+"\nColumn: "+pe.column+"\nChar: "+pe.c),le=new Error(le),pe.error=le,de(pe,"onerror",le),pe}function Je(pe){return pe.sawRoot&&!pe.closedRoot&&qe(pe,"Unclosed root tag"),pe.state!==se.BEGIN&&pe.state!==se.BEGIN_WHITESPACE&&pe.state!==se.TEXT&&Se(pe,"Unexpected end"),ae(pe),pe.c="",pe.closed=!0,de(pe,"onend"),x.call(pe,pe.strict,pe.opt),pe}function qe(pe,le){if("object"!=typeof pe||!(pe instanceof x))throw new Error("bad call to strictFail");pe.strict&&Se(pe,le)}function Ct(pe){pe.strict||(pe.tagName=pe.tagName[pe.looseCase]());var le=pe.tags[pe.tags.length-1]||pe,lt=pe.tag={name:pe.tagName,attributes:{}};pe.opt.xmlns&&(lt.ns=le.ns),pe.attribList.length=0,re(pe,"onopentagstart",lt)}function kt(pe,le){var Ge=pe.indexOf(":")<0?["",pe]:pe.split(":"),nn=Ge[0],bn=Ge[1];return le&&"xmlns"===pe&&(nn="xmlns",bn=""),{prefix:nn,local:bn}}function tn(pe){if(pe.strict||(pe.attribName=pe.attribName[pe.looseCase]()),-1!==pe.attribList.indexOf(pe.attribName)||pe.tag.attributes.hasOwnProperty(pe.attribName))pe.attribName=pe.attribValue="";else{if(pe.opt.xmlns){var le=kt(pe.attribName,!0),Ge=le.local;if("xmlns"===le.prefix)if("xml"===Ge&&pe.attribValue!==ne)qe(pe,"xml: prefix must be bound to "+ne+"\nActual: "+pe.attribValue);else if("xmlns"===Ge&&pe.attribValue!==Z)qe(pe,"xmlns: prefix must be bound to "+Z+"\nActual: "+pe.attribValue);else{var nn=pe.tag,bn=pe.tags[pe.tags.length-1]||pe;nn.ns===bn.ns&&(nn.ns=Object.create(bn.ns)),nn.ns[Ge]=pe.attribValue}pe.attribList.push([pe.attribName,pe.attribValue])}else pe.tag.attributes[pe.attribName]=pe.attribValue,re(pe,"onattribute",{name:pe.attribName,value:pe.attribValue});pe.attribName=pe.attribValue=""}}function _t(pe,le){if(pe.opt.xmlns){var lt=pe.tag,Ge=kt(pe.tagName);lt.prefix=Ge.prefix,lt.local=Ge.local,lt.uri=lt.ns[Ge.prefix]||"",lt.prefix&&!lt.uri&&(qe(pe,"Unbound namespace prefix: "+JSON.stringify(pe.tagName)),lt.uri=Ge.prefix),lt.ns&&(pe.tags[pe.tags.length-1]||pe).ns!==lt.ns&&Object.keys(lt.ns).forEach(function(mt){re(pe,"onopennamespace",{prefix:mt,uri:lt.ns[mt]})});for(var bn=0,wn=pe.attribList.length;bn<wn;bn++){var Un=pe.attribList[bn],Yn=Un[0],ve=Un[1],L=kt(Yn,!0),k=L.prefix,Ke=""===k?"":lt.ns[k]||"",at={name:Yn,value:ve,prefix:k,local:L.local,uri:Ke};k&&"xmlns"!==k&&!Ke&&(qe(pe,"Unbound namespace prefix: "+JSON.stringify(k)),at.uri=k),pe.tag.attributes[Yn]=at,re(pe,"onattribute",at)}pe.attribList.length=0}pe.tag.isSelfClosing=!!le,pe.sawRoot=!0,pe.tags.push(pe.tag),re(pe,"onopentag",pe.tag),le||(pe.state=pe.noscript||"script"!==pe.tagName.toLowerCase()?se.TEXT:se.SCRIPT,pe.tag=null,pe.tagName=""),pe.attribName=pe.attribValue="",pe.attribList.length=0}function sn(pe){if(!pe.tagName)return qe(pe,"Weird empty close tag."),pe.textNode+="</>",void(pe.state=se.TEXT);if(pe.script){if("script"!==pe.tagName)return pe.script+="</"+pe.tagName+">",pe.tagName="",void(pe.state=se.SCRIPT);re(pe,"onscript",pe.script),pe.script=""}var le=pe.tags.length,lt=pe.tagName;pe.strict||(lt=lt[pe.looseCase]());for(var Ge=lt;le--&&pe.tags[le].name!==Ge;)qe(pe,"Unexpected close tag");if(le<0)return qe(pe,"Unmatched closing tag: "+pe.tagName),pe.textNode+="</"+pe.tagName+">",void(pe.state=se.TEXT);pe.tagName=lt;for(var bn=pe.tags.length;bn-- >le;){var wn=pe.tag=pe.tags.pop();pe.tagName=pe.tag.name,re(pe,"onclosetag",pe.tagName);var Un={};for(var Yn in wn.ns)Un[Yn]=wn.ns[Yn];pe.opt.xmlns&&wn.ns!==(pe.tags[pe.tags.length-1]||pe).ns&&Object.keys(wn.ns).forEach(function(L){re(pe,"onclosenamespace",{prefix:L,uri:wn.ns[L]})})}0===le&&(pe.closedRoot=!0),pe.tagName=pe.attribValue=pe.attribName="",pe.attribList.length=0,pe.state=se.TEXT}function Bn(pe){var Ge,le=pe.entity,lt=le.toLowerCase(),nn="";return pe.ENTITIES[le]?pe.ENTITIES[le]:pe.ENTITIES[lt]?pe.ENTITIES[lt]:("#"===(le=lt).charAt(0)&&("x"===le.charAt(1)?(le=le.slice(2),nn=(Ge=parseInt(le,16)).toString(16)):(le=le.slice(1),nn=(Ge=parseInt(le,10)).toString(10))),le=le.replace(/^0+/,""),isNaN(Ge)||nn.toLowerCase()!==le?(qe(pe,"Invalid character entity"),"&"+pe.entity+";"):String.fromCodePoint(Ge))}function In(pe,le){"<"===le?(pe.state=se.OPEN_WAKA,pe.startTagPosition=pe.position):z(le)||(qe(pe,"Non-whitespace before first tag."),pe.textNode=le,pe.state=se.TEXT)}function An(pe,le){var lt="";return le<pe.length&&(lt=pe.charAt(le)),lt}se=v.STATE,String.fromCodePoint||(pe=String.fromCharCode,le=Math.floor,lt=function(){var Ge=16384,nn=[],Un=-1,Yn=arguments.length;if(!Yn)return"";for(var ve="";++Un<Yn;){var L=Number(arguments[Un]);if(!isFinite(L)||L<0||L>1114111||le(L)!==L)throw RangeError("Invalid code point: "+L);L<=65535?nn.push(L):nn.push(55296+((L-=65536)>>10),L%1024+56320),(Un+1===Yn||nn.length>Ge)&&(ve+=pe.apply(null,nn),nn.length=0)}return ve},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:lt,configurable:!0,writable:!0}):String.fromCodePoint=lt)}(we)},5398:(je,we,I)=>{var v=I(6570);function l(){v.call(this)}l.prototype=new v,je.exports=l,l.Stream=l,l.prototype.pipe=function(x,ee){var te=this;function K(ne){x.writable&&!1===x.write(ne)&&te.pause&&te.pause()}function R(){te.readable&&te.resume&&te.resume()}te.on("data",K),x.on("drain",R),!x._isStdio&&(!ee||!1!==ee.end)&&(te.on("end",$),te.on("close",j));var H=!1;function $(){H||(H=!0,x.end())}function j(){H||(H=!0,"function"==typeof x.destroy&&x.destroy())}function Y(ne){if(Q(),!this.hasListeners("error"))throw ne}function Q(){te.off("data",K),x.off("drain",R),te.off("end",$),te.off("close",j),te.off("error",Y),x.off("error",Y),te.off("end",Q),te.off("close",Q),x.off("end",Q),x.off("close",Q)}return te.on("error",Y),x.on("error",Y),te.on("end",Q),te.on("close",Q),x.on("end",Q),x.on("close",Q),x.emit("pipe",te),x}},3054:(je,we,I)=>{"use strict";var v=I(3502).Buffer,l=v.isEncoding||function(W){switch((W=""+W)&&W.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function te(W){var _e;switch(this.encoding=function ee(W){var _e=function x(W){if(!W)return"utf8";for(var _e;;)switch(W){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return W;default:if(_e)return;W=(""+W).toLowerCase(),_e=!0}}(W);if("string"!=typeof _e&&(v.isEncoding===l||!l(W)))throw new Error("Unknown encoding: "+W);return _e||W}(W),this.encoding){case"utf16le":this.text=Q,this.end=ne,_e=4;break;case"utf8":this.fillLast=$,_e=4;break;case"base64":this.text=Z,this.end=J,_e=3;break;default:return this.write=De,void(this.end=Ce)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(_e)}function K(W){return W<=127?0:W>>5==6?2:W>>4==14?3:W>>3==30?4:W>>6==2?-1:-2}function $(W){var _e=this.lastTotal-this.lastNeed,z=function H(W,_e,z){if(128!=(192&_e[0]))return W.lastNeed=0,"\ufffd";if(W.lastNeed>1&&_e.length>1){if(128!=(192&_e[1]))return W.lastNeed=1,"\ufffd";if(W.lastNeed>2&&_e.length>2&&128!=(192&_e[2]))return W.lastNeed=2,"\ufffd"}}(this,W);return void 0!==z?z:this.lastNeed<=W.length?(W.copy(this.lastChar,_e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(W.copy(this.lastChar,_e,0,W.length),void(this.lastNeed-=W.length))}function Q(W,_e){if((W.length-_e)%2==0){var z=W.toString("utf16le",_e);if(z){var P=z.charCodeAt(z.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=W[W.length-1],W.toString("utf16le",_e,W.length-1)}function ne(W){var _e=W&&W.length?this.write(W):"";return this.lastNeed?_e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):_e}function Z(W,_e){var z=(W.length-_e)%3;return 0===z?W.toString("base64",_e):(this.lastNeed=3-z,this.lastTotal=3,1===z?this.lastChar[0]=W[W.length-1]:(this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1]),W.toString("base64",_e,W.length-z))}function J(W){var _e=W&&W.length?this.write(W):"";return this.lastNeed?_e+this.lastChar.toString("base64",0,3-this.lastNeed):_e}function De(W){return W.toString(this.encoding)}function Ce(W){return W&&W.length?this.write(W):""}we.s=te,te.prototype.write=function(W){if(0===W.length)return"";var _e,z;if(this.lastNeed){if(void 0===(_e=this.fillLast(W)))return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<W.length?_e?_e+this.text(W,z):this.text(W,z):_e||""},te.prototype.end=function Y(W){var _e=W&&W.length?this.write(W):"";return this.lastNeed?_e+"\ufffd":_e},te.prototype.text=function j(W,_e){var z=function R(W,_e,z){var P=_e.length-1;if(P<z)return 0;var N=K(_e[P]);return N>=0?(N>0&&(W.lastNeed=N-1),N):--P<z||-2===N?0:(N=K(_e[P]))>=0?(N>0&&(W.lastNeed=N-2),N):--P<z||-2===N?0:(N=K(_e[P]))>=0?(N>0&&(2===N?N=0:W.lastNeed=N-3),N):0}(this,W,_e);if(!this.lastNeed)return W.toString("utf8",_e);this.lastTotal=z;var P=W.length-(z-this.lastNeed);return W.copy(this.lastChar,0,P),W.toString("utf8",_e,P)},te.prototype.fillLast=function(W){if(this.lastNeed<=W.length)return W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,W.length),this.lastNeed-=W.length}},5489:(je,we)=>{var v={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};for(var l in v)"millisecond"===l?v.ms=v[l]:v[l.charAt(0)]=v[l],v[l+"s"]=v[l];function x(K){this.count=0;var R=function te(K){var R=K.match(ee);return R&&v[R[2]]?R.slice(1):null}(K);R&&(this.time=Number(R[0])*v[R[1]],this.type=R[1])}x.prototype.do=function(K){this.time&&(this.interval=setInterval(function H(){R.count++,K.call(R)},this.time));var R=this;return this},x.prototype.stop=function(){return this.interval&&(clearInterval(this.interval),delete this.interval),this};var ee=/^\s*(\d+(?:\.\d+)?)\s*([a-z]+)\s*$/},4922:function(je,we){(function(){"use strict";we.stripBOM=function(I){return"\ufeff"===I[0]?I.substring(1):I}}).call(this)},4032:function(je,we,I){(function(){"use strict";var v,l,x,ee,te,K={}.hasOwnProperty;v=I(7904),l=I(7067).defaults,ee=function(R){return"string"==typeof R&&(R.indexOf("&")>=0||R.indexOf(">")>=0||R.indexOf("<")>=0)},te=function(R){return"<![CDATA["+x(R)+"]]>"},x=function(R){return R.replace("]]>","]]]]><![CDATA[>")},we.Builder=function(){function R(H){var $,j;for($ in this.options={},j=l[.2])!K.call(j,$)||(this.options[$]=j[$]);for($ in H)!K.call(H,$)||(this.options[$]=H[$])}return R.prototype.buildObject=function(H){var $,j,Y,Q,ne,Z;return $=this.options.attrkey,j=this.options.charkey,1===Object.keys(H).length&&this.options.rootName===l[.2].rootName?H=H[ne=Object.keys(H)[0]]:ne=this.options.rootName,Z=this,Y=function(J,De){var Ce,W,_e,z,P;if("object"!=typeof De)Z.options.cdata&&ee(De)?J.raw(te(De)):J.txt(De);else if(Array.isArray(De)){for(z in De)if(K.call(De,z))for(P in W=De[z])_e=W[P],J=Y(J.ele(P),_e).up()}else for(P in De)if(K.call(De,P))if(W=De[P],P===$){if("object"==typeof W)for(Ce in W)J=J.att(Ce,W[Ce])}else if(P===j)J=Z.options.cdata&&ee(W)?J.raw(te(W)):J.txt(W);else if(Array.isArray(W))for(z in W)!K.call(W,z)||(J="string"==typeof(_e=W[z])?Z.options.cdata&&ee(_e)?J.ele(P).raw(te(_e)).up():J.ele(P,_e).up():Y(J.ele(P),_e).up());else"object"==typeof W?J=Y(J.ele(P),W).up():"string"==typeof W&&Z.options.cdata&&ee(W)?J=J.ele(P).raw(te(W)).up():(null==W&&(W=""),J=J.ele(P,W.toString()).up());return J},Q=v.create(ne,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),Y(Q,H).end(this.options.renderOpts)},R}()}).call(this)},7067:function(je,we){(function(){we.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},2238:function(je,we,I){(function(){"use strict";var v,l,x,ee,te,K,R,H,$=function(Q,ne){return function(){return Q.apply(ne,arguments)}},Y={}.hasOwnProperty;R=I(1503),x=I(9069),v=I(4922),K=I(3749),H=I(5489).setImmediate,l=I(7067).defaults,ee=function(Q){return"object"==typeof Q&&null!=Q&&0===Object.keys(Q).length},te=function(Q,ne,Z){var J,De;for(J=0,De=Q.length;J<De;J++)ne=(0,Q[J])(ne,Z);return ne},we.Parser=function(Q){function ne(Z){var J,De;if(this.parseStringPromise=$(this.parseStringPromise,this),this.parseString=$(this.parseString,this),this.reset=$(this.reset,this),this.assignOrPush=$(this.assignOrPush,this),this.processAsync=$(this.processAsync,this),!(this instanceof we.Parser))return new we.Parser(Z);for(J in this.options={},De=l[.2])!Y.call(De,J)||(this.options[J]=De[J]);for(J in Z)!Y.call(Z,J)||(this.options[J]=Z[J]);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(K.normalize)),this.reset()}return function(Q,ne){for(var Z in ne)Y.call(ne,Z)&&(Q[Z]=ne[Z]);function J(){this.constructor=Q}J.prototype=ne.prototype,Q.prototype=new J,Q.__super__=ne.prototype}(ne,Q),ne.prototype.processAsync=function(){var Z,J;try{return this.remaining.length<=this.options.chunkSize?(Z=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(Z),this.saxParser.close()):(Z=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(Z),H(this.processAsync))}catch(De){if(J=De,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(J)}},ne.prototype.assignOrPush=function(Z,J,De){return J in Z?(Z[J]instanceof Array||(Z[J]=[Z[J]]),Z[J].push(De)):Z[J]=this.options.explicitArray?[De]:De},ne.prototype.reset=function(){var Z,J,De,Ce,W;return this.removeAllListeners(),this.saxParser=R.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(W=this,function(_e){if(W.saxParser.resume(),!W.saxParser.errThrown)return W.saxParser.errThrown=!0,W.emit("error",_e)}),this.saxParser.onend=function(W){return function(){if(!W.saxParser.ended)return W.saxParser.ended=!0,W.emit("end",W.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,Ce=[],Z=this.options.attrkey,J=this.options.charkey,this.saxParser.onopentag=function(W){return function(_e){var z,P,N,q,ye;if((N={})[J]="",!W.options.ignoreAttrs)for(z in ye=_e.attributes)!Y.call(ye,z)||(!(Z in N)&&!W.options.mergeAttrs&&(N[Z]={}),P=W.options.attrValueProcessors?te(W.options.attrValueProcessors,_e.attributes[z],z):_e.attributes[z],q=W.options.attrNameProcessors?te(W.options.attrNameProcessors,z):z,W.options.mergeAttrs?W.assignOrPush(N,q,P):N[Z][q]=P);return N["#name"]=W.options.tagNameProcessors?te(W.options.tagNameProcessors,_e.name):_e.name,W.options.xmlns&&(N[W.options.xmlnskey]={uri:_e.uri,local:_e.local}),Ce.push(N)}}(this),this.saxParser.onclosetag=function(W){return function(){var _e,z,P,N,q,ye,se,oe,de,re;if(ye=Ce.pop(),q=ye["#name"],(!W.options.explicitChildren||!W.options.preserveChildrenOrder)&&delete ye["#name"],!0===ye.cdata&&(_e=ye.cdata,delete ye.cdata),de=Ce[Ce.length-1],ye[J].match(/^\s*$/)&&!_e?(z=ye[J],delete ye[J]):(W.options.trim&&(ye[J]=ye[J].trim()),W.options.normalize&&(ye[J]=ye[J].replace(/\s{2,}/g," ").trim()),ye[J]=W.options.valueProcessors?te(W.options.valueProcessors,ye[J],q):ye[J],1===Object.keys(ye).length&&J in ye&&!W.EXPLICIT_CHARKEY&&(ye=ye[J])),ee(ye)&&(ye=""!==W.options.emptyTag?W.options.emptyTag:z),null!=W.options.validator&&(re="/"+function(){var ae,fe,Se;for(Se=[],ae=0,fe=Ce.length;ae<fe;ae++)Se.push((N=Ce[ae])["#name"]);return Se}().concat(q).join("/"),function(){try{ye=W.options.validator(re,de&&de[q],ye)}catch(fe){return W.emit("error",fe)}}()),W.options.explicitChildren&&!W.options.mergeAttrs&&"object"==typeof ye)if(W.options.preserveChildrenOrder){if(de){for(P in de[W.options.childkey]=de[W.options.childkey]||[],se={},ye)!Y.call(ye,P)||(se[P]=ye[P]);de[W.options.childkey].push(se),delete ye["#name"],1===Object.keys(ye).length&&J in ye&&!W.EXPLICIT_CHARKEY&&(ye=ye[J])}}else N={},W.options.attrkey in ye&&(N[W.options.attrkey]=ye[W.options.attrkey],delete ye[W.options.attrkey]),!W.options.charsAsChildren&&W.options.charkey in ye&&(N[W.options.charkey]=ye[W.options.charkey],delete ye[W.options.charkey]),Object.getOwnPropertyNames(ye).length>0&&(N[W.options.childkey]=ye),ye=N;return Ce.length>0?W.assignOrPush(de,q,ye):(W.options.explicitRoot&&(oe=ye,(ye={})[q]=oe),W.resultObject=ye,W.saxParser.ended=!0,W.emit("end",W.resultObject))}}(this),De=function(W){return function(_e){var z,P;if(P=Ce[Ce.length-1])return P[J]+=_e,W.options.explicitChildren&&W.options.preserveChildrenOrder&&W.options.charsAsChildren&&(W.options.includeWhiteChars||""!==_e.replace(/\\n/g,"").trim())&&(P[W.options.childkey]=P[W.options.childkey]||[],(z={"#name":"__text__"})[J]=_e,W.options.normalize&&(z[J]=z[J].replace(/\s{2,}/g," ").trim()),P[W.options.childkey].push(z)),P}}(this),this.saxParser.ontext=De,this.saxParser.oncdata=function(_e){var z;if(z=De(_e))return z.cdata=!0}},ne.prototype.parseString=function(Z,J){var De;null!=J&&"function"==typeof J&&(this.on("end",function(Ce){return this.reset(),J(null,Ce)}),this.on("error",function(Ce){return this.reset(),J(Ce)}));try{return""===(Z=Z.toString()).trim()?(this.emit("end",null),!0):(Z=v.stripBOM(Z),this.options.async?(this.remaining=Z,H(this.processAsync),this.saxParser):this.saxParser.write(Z).close())}catch(Ce){if(De=Ce,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",De),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw De}},ne.prototype.parseStringPromise=function(Z){return new Promise((J=this,function(De,Ce){return J.parseString(Z,function(W,_e){return W?Ce(W):De(_e)})}));var J},ne}(x),we.parseString=function(Q,ne,Z){var J,De;return null!=Z?("function"==typeof Z&&(J=Z),"object"==typeof ne&&(De=ne)):("function"==typeof ne&&(J=ne),De={}),new we.Parser(De).parseString(Q,J)},we.parseStringPromise=function(Q,ne){var Z;return"object"==typeof ne&&(Z=ne),new we.Parser(Z).parseStringPromise(Q)}}).call(this)},3749:function(je,we){(function(){"use strict";var I;I=new RegExp(/(?!xmlns)^.*:/),we.normalize=function(v){return v.toLowerCase()},we.firstCharLowerCase=function(v){return v.charAt(0).toLowerCase()+v.slice(1)},we.stripPrefix=function(v){return v.replace(I,"")},we.parseNumbers=function(v){return isNaN(v)||(v=v%1==0?parseInt(v,10):parseFloat(v)),v},we.parseBooleans=function(v){return/^(?:true|false)$/i.test(v)&&(v="true"===v.toLowerCase()),v}}).call(this)},5452:function(je,we,I){(function(){"use strict";var v,l,x,ee,K={}.hasOwnProperty;l=I(7067),v=I(4032),x=I(2238),ee=I(3749),we.defaults=l.defaults,we.processors=ee,we.ValidationError=function(R){function H($){this.message=$}return function(R,H){for(var $ in H)K.call(H,$)&&(R[$]=H[$]);function j(){this.constructor=R}j.prototype=H.prototype,R.prototype=new j,R.__super__=H.prototype}(H,Error),H}(),we.Builder=v.Builder,we.Parser=x.Parser,we.parseString=x.parseString,we.parseStringPromise=x.parseStringPromise}).call(this)},599:function(je){(function(){je.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},2269:function(je){(function(){je.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},3452:function(je){(function(){var we,I,v,l,x,ee,te,K=[].slice,R={}.hasOwnProperty;we=function(){var H,$,j,Y,Q,ne;if(ne=arguments[0],Q=2<=arguments.length?K.call(arguments,1):[],x(Object.assign))Object.assign.apply(null,arguments);else for(H=0,j=Q.length;H<j;H++)if(null!=(Y=Q[H]))for($ in Y)!R.call(Y,$)||(ne[$]=Y[$]);return ne},x=function(H){return!!H&&"[object Function]"===Object.prototype.toString.call(H)},ee=function(H){var $;return!!H&&("function"==($=typeof H)||"object"===$)},v=function(H){return x(Array.isArray)?Array.isArray(H):"[object Array]"===Object.prototype.toString.call(H)},l=function(H){var $;if(v(H))return!H.length;for($ in H)if(R.call(H,$))return!1;return!0},te=function(H){var $,j;return ee(H)&&(j=Object.getPrototypeOf(H))&&($=j.constructor)&&"function"==typeof $&&$ instanceof $&&Function.prototype.toString.call($)===Function.prototype.toString.call(Object)},I=function(H){return x(H.valueOf)?H.valueOf():H},je.exports.assign=we,je.exports.isFunction=x,je.exports.isObject=ee,je.exports.isArray=v,je.exports.isEmpty=l,je.exports.isPlainObject=te,je.exports.getValue=I}).call(this)},6316:function(je){(function(){je.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},5968:function(je,we,I){(function(){var v;v=I(2269),I(8563),je.exports=function(){function ee(te,K,R){if(this.parent=te,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==K)throw new Error("Missing attribute name. "+this.debugInfo(K));this.name=this.stringify.name(K),this.value=this.stringify.attValue(R),this.type=v.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(ee.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(ee.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(ee.prototype,"textContent",{get:function(){return this.value},set:function(te){return this.value=te||""}}),Object.defineProperty(ee.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(ee.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(ee.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(ee.prototype,"specified",{get:function(){return!0}}),ee.prototype.clone=function(){return Object.create(this)},ee.prototype.toString=function(te){return this.options.writer.attribute(this,this.options.writer.filterOptions(te))},ee.prototype.debugInfo=function(te){return null==(te=te||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+te+"}, parent: <"+this.parent.name+">"},ee.prototype.isEqualNode=function(te){return!(te.namespaceURI!==this.namespaceURI||te.prefix!==this.prefix||te.localName!==this.localName||te.value!==this.value)},ee}()}).call(this)},1361:function(je,we,I){(function(){var v,x,te={}.hasOwnProperty;v=I(2269),x=I(2182),je.exports=function(K){function R(H,$){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=v.CData,this.value=this.stringify.cdata($)}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),R.prototype.clone=function(){return Object.create(this)},R.prototype.toString=function(H){return this.options.writer.cdata(this,this.options.writer.filterOptions(H))},R}(x)}).call(this)},2182:function(je,we,I){(function(){var l,ee={}.hasOwnProperty;l=I(8563),je.exports=function(te){function K(R){K.__super__.constructor.call(this,R),this.value=""}return function(te,K){for(var R in K)ee.call(K,R)&&(te[R]=K[R]);function H(){this.constructor=te}H.prototype=K.prototype,te.prototype=new H,te.__super__=K.prototype}(K,te),Object.defineProperty(K.prototype,"data",{get:function(){return this.value},set:function(R){return this.value=R||""}}),Object.defineProperty(K.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(K.prototype,"textContent",{get:function(){return this.value},set:function(R){return this.value=R||""}}),K.prototype.clone=function(){return Object.create(this)},K.prototype.substringData=function(R,H){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.appendData=function(R){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.insertData=function(R,H){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.deleteData=function(R,H){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.replaceData=function(R,H,$){throw new Error("This DOM method is not implemented."+this.debugInfo())},K.prototype.isEqualNode=function(R){return!(!K.__super__.isEqualNode.apply(this,arguments).isEqualNode(R)||R.data!==this.data)},K}(l)}).call(this)},2516:function(je,we,I){(function(){var v,l,te={}.hasOwnProperty;v=I(2269),l=I(2182),je.exports=function(K){function R(H,$){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=v.Comment,this.value=this.stringify.comment($)}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),R.prototype.clone=function(){return Object.create(this)},R.prototype.toString=function(H){return this.options.writer.comment(this,this.options.writer.filterOptions(H))},R}(l)}).call(this)},5806:function(je,we,I){(function(){var l,x;l=I(9276),x=I(3735),je.exports=function(){function ee(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new l,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(ee.prototype,"parameterNames",{get:function(){return new x(Object.keys(this.defaultParams))}}),ee.prototype.getParameter=function(te){return this.params.hasOwnProperty(te)?this.params[te]:null},ee.prototype.canSetParameter=function(te,K){return!0},ee.prototype.setParameter=function(te,K){return null!=K?this.params[te]=K:delete this.params[te]},ee}()}).call(this)},9276:function(je){(function(){je.exports=function(){function I(){}return I.prototype.handleError=function(v){throw new Error(v)},I}()}).call(this)},9906:function(je){(function(){je.exports=function(){function I(){}return I.prototype.hasFeature=function(v,l){return!0},I.prototype.createDocumentType=function(v,l,x){throw new Error("This DOM method is not implemented.")},I.prototype.createDocument=function(v,l,x){throw new Error("This DOM method is not implemented.")},I.prototype.createHTMLDocument=function(v){throw new Error("This DOM method is not implemented.")},I.prototype.getFeature=function(v,l){throw new Error("This DOM method is not implemented.")},I}()}).call(this)},3735:function(je){(function(){je.exports=function(){function I(v){this.arr=v||[]}return Object.defineProperty(I.prototype,"length",{get:function(){return this.arr.length}}),I.prototype.item=function(v){return this.arr[v]||null},I.prototype.contains=function(v){return-1!==this.arr.indexOf(v)},I}()}).call(this)},7274:function(je,we,I){(function(){var v,x,te={}.hasOwnProperty;x=I(8563),v=I(2269),je.exports=function(K){function R(H,$,j,Y,Q,ne){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==j)throw new Error("Missing DTD attribute name. "+this.debugInfo($));if(!Y)throw new Error("Missing DTD attribute type. "+this.debugInfo($));if(!Q)throw new Error("Missing DTD attribute default. "+this.debugInfo($));if(0!==Q.indexOf("#")&&(Q="#"+Q),!Q.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo($));if(ne&&!Q.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo($));this.elementName=this.stringify.name($),this.type=v.AttributeDeclaration,this.attributeName=this.stringify.name(j),this.attributeType=this.stringify.dtdAttType(Y),ne&&(this.defaultValue=this.stringify.dtdAttDefault(ne)),this.defaultValueType=Q}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),R.prototype.toString=function(H){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(H))},R}(x)}).call(this)},2068:function(je,we,I){(function(){var v,x,te={}.hasOwnProperty;x=I(8563),v=I(2269),je.exports=function(K){function R(H,$,j){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing DTD element name. "+this.debugInfo());j||(j="(#PCDATA)"),Array.isArray(j)&&(j="("+j.join(",")+")"),this.name=this.stringify.name($),this.type=v.ElementDeclaration,this.value=this.stringify.dtdElementValue(j)}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),R.prototype.toString=function(H){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(H))},R}(x)}).call(this)},8349:function(je,we,I){(function(){var v,x,ee,K={}.hasOwnProperty;ee=I(3452).isObject,x=I(8563),v=I(2269),je.exports=function(R){function H($,j,Y,Q){if(H.__super__.constructor.call(this,$),null==Y)throw new Error("Missing DTD entity name. "+this.debugInfo(Y));if(null==Q)throw new Error("Missing DTD entity value. "+this.debugInfo(Y));if(this.pe=!!j,this.name=this.stringify.name(Y),this.type=v.EntityDeclaration,ee(Q)){if(!Q.pubID&&!Q.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(Y));if(Q.pubID&&!Q.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(Y));if(this.internal=!1,null!=Q.pubID&&(this.pubID=this.stringify.dtdPubID(Q.pubID)),null!=Q.sysID&&(this.sysID=this.stringify.dtdSysID(Q.sysID)),null!=Q.nData&&(this.nData=this.stringify.dtdNData(Q.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(Y))}else this.value=this.stringify.dtdEntityValue(Q),this.internal=!0}return function(R,H){for(var $ in H)K.call(H,$)&&(R[$]=H[$]);function j(){this.constructor=R}j.prototype=H.prototype,R.prototype=new j,R.__super__=H.prototype}(H,R),Object.defineProperty(H.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(H.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(H.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(H.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(H.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(H.prototype,"xmlVersion",{get:function(){return null}}),H.prototype.toString=function($){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions($))},H}(x)}).call(this)},3087:function(je,we,I){(function(){var v,x,te={}.hasOwnProperty;x=I(8563),v=I(2269),je.exports=function(K){function R(H,$,j){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing DTD notation name. "+this.debugInfo($));if(!j.pubID&&!j.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo($));this.name=this.stringify.name($),this.type=v.NotationDeclaration,null!=j.pubID&&(this.pubID=this.stringify.dtdPubID(j.pubID)),null!=j.sysID&&(this.sysID=this.stringify.dtdSysID(j.sysID))}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),Object.defineProperty(R.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(R.prototype,"systemId",{get:function(){return this.sysID}}),R.prototype.toString=function(H){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(H))},R}(x)}).call(this)},4789:function(je,we,I){(function(){var v,x,ee,K={}.hasOwnProperty;ee=I(3452).isObject,x=I(8563),v=I(2269),je.exports=function(R){function H($,j,Y,Q){var ne;H.__super__.constructor.call(this,$),ee(j)&&(j=(ne=j).version,Y=ne.encoding,Q=ne.standalone),j||(j="1.0"),this.type=v.Declaration,this.version=this.stringify.xmlVersion(j),null!=Y&&(this.encoding=this.stringify.xmlEncoding(Y)),null!=Q&&(this.standalone=this.stringify.xmlStandalone(Q))}return function(R,H){for(var $ in H)K.call(H,$)&&(R[$]=H[$]);function j(){this.constructor=R}j.prototype=H.prototype,R.prototype=new j,R.__super__=H.prototype}(H,R),H.prototype.toString=function($){return this.options.writer.declaration(this,this.options.writer.filterOptions($))},H}(x)}).call(this)},9195:function(je,we,I){(function(){var v,l,x,ee,te,R,H,$,Y={}.hasOwnProperty;$=I(3452).isObject,H=I(8563),v=I(2269),l=I(7274),ee=I(8349),x=I(2068),te=I(3087),R=I(5264),je.exports=function(Q){function ne(Z,J,De){var Ce,W,_e,z,P,N;if(ne.__super__.constructor.call(this,Z),this.type=v.DocType,Z.children)for(W=0,_e=(z=Z.children).length;W<_e;W++)if((Ce=z[W]).type===v.Element){this.name=Ce.name;break}this.documentObject=Z,$(J)&&(J=(P=J).pubID,De=P.sysID),null==De&&(De=(N=[J,De])[0],J=N[1]),null!=J&&(this.pubID=this.stringify.dtdPubID(J)),null!=De&&(this.sysID=this.stringify.dtdSysID(De))}return function(Q,ne){for(var Z in ne)Y.call(ne,Z)&&(Q[Z]=ne[Z]);function J(){this.constructor=Q}J.prototype=ne.prototype,Q.prototype=new J,Q.__super__=ne.prototype}(ne,Q),Object.defineProperty(ne.prototype,"entities",{get:function(){var Z,J,De,Ce,W;for(Ce={},J=0,De=(W=this.children).length;J<De;J++)(Z=W[J]).type===v.EntityDeclaration&&!Z.pe&&(Ce[Z.name]=Z);return new R(Ce)}}),Object.defineProperty(ne.prototype,"notations",{get:function(){var Z,J,De,Ce,W;for(Ce={},J=0,De=(W=this.children).length;J<De;J++)(Z=W[J]).type===v.NotationDeclaration&&(Ce[Z.name]=Z);return new R(Ce)}}),Object.defineProperty(ne.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(ne.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(ne.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),ne.prototype.element=function(Z,J){var De;return De=new x(this,Z,J),this.children.push(De),this},ne.prototype.attList=function(Z,J,De,Ce,W){var _e;return _e=new l(this,Z,J,De,Ce,W),this.children.push(_e),this},ne.prototype.entity=function(Z,J){var De;return De=new ee(this,!1,Z,J),this.children.push(De),this},ne.prototype.pEntity=function(Z,J){var De;return De=new ee(this,!0,Z,J),this.children.push(De),this},ne.prototype.notation=function(Z,J){var De;return De=new te(this,Z,J),this.children.push(De),this},ne.prototype.toString=function(Z){return this.options.writer.docType(this,this.options.writer.filterOptions(Z))},ne.prototype.ele=function(Z,J){return this.element(Z,J)},ne.prototype.att=function(Z,J,De,Ce,W){return this.attList(Z,J,De,Ce,W)},ne.prototype.ent=function(Z,J){return this.entity(Z,J)},ne.prototype.pent=function(Z,J){return this.pEntity(Z,J)},ne.prototype.not=function(Z,J){return this.notation(Z,J)},ne.prototype.up=function(){return this.root()||this.documentObject},ne.prototype.isEqualNode=function(Z){return!(!ne.__super__.isEqualNode.apply(this,arguments).isEqualNode(Z)||Z.name!==this.name||Z.publicId!==this.publicId||Z.systemId!==this.systemId)},ne}(H)}).call(this)},519:function(je,we,I){(function(){var v,l,x,te,K,R,H,j={}.hasOwnProperty;H=I(3452).isPlainObject,x=I(9906),l=I(5806),te=I(8563),v=I(2269),R=I(5041),K=I(4354),je.exports=function(Y){function Q(ne){Q.__super__.constructor.call(this,null),this.name="#document",this.type=v.Document,this.documentURI=null,this.domConfig=new l,ne||(ne={}),ne.writer||(ne.writer=new K),this.options=ne,this.stringify=new R(ne)}return function(Y,Q){for(var ne in Q)j.call(Q,ne)&&(Y[ne]=Q[ne]);function Z(){this.constructor=Y}Z.prototype=Q.prototype,Y.prototype=new Z,Y.__super__=Q.prototype}(Q,Y),Object.defineProperty(Q.prototype,"implementation",{value:new x}),Object.defineProperty(Q.prototype,"doctype",{get:function(){var ne,Z,J,De;for(Z=0,J=(De=this.children).length;Z<J;Z++)if((ne=De[Z]).type===v.DocType)return ne;return null}}),Object.defineProperty(Q.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(Q.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(Q.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(Q.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===v.Declaration?this.children[0].encoding:null}}),Object.defineProperty(Q.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===v.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(Q.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===v.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(Q.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(Q.prototype,"origin",{get:function(){return null}}),Object.defineProperty(Q.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(Q.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(Q.prototype,"contentType",{get:function(){return null}}),Q.prototype.end=function(ne){var Z;return Z={},ne?H(ne)&&(Z=ne,ne=this.options.writer):ne=this.options.writer,ne.document(this,ne.filterOptions(Z))},Q.prototype.toString=function(ne){return this.options.writer.document(this,this.options.writer.filterOptions(ne))},Q.prototype.createElement=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createTextNode=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createComment=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createCDATASection=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createProcessingInstruction=function(ne,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createAttribute=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createEntityReference=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementsByTagName=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.importNode=function(ne,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createElementNS=function(ne,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createAttributeNS=function(ne,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementsByTagNameNS=function(ne,Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementById=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.adoptNode=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.renameNode=function(ne,Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.getElementsByClassName=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createEvent=function(ne){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createNodeIterator=function(ne,Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q.prototype.createTreeWalker=function(ne,Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},Q}(te)}).call(this)},1105:function(je,we,I){(function(){var v,l,x,ee,te,K,R,H,$,j,Y,Q,Z,J,De,Ce,W,_e,z,P,N,q,ye,se={}.hasOwnProperty;ye=I(3452),N=ye.isObject,P=ye.isFunction,q=ye.isPlainObject,z=ye.getValue,v=I(2269),Q=I(519),Z=I(3352),ee=I(1361),te=I(2516),De=I(9942),_e=I(474),J=I(4666),j=I(4789),Y=I(9195),K=I(7274),H=I(8349),R=I(2068),$=I(3087),x=I(5968),W=I(5041),Ce=I(4354),l=I(6316),je.exports=function(){function oe(de,re,ae){var fe;this.name="?xml",this.type=v.Document,de||(de={}),fe={},de.writer?q(de.writer)&&(fe=de.writer,de.writer=new Ce):de.writer=new Ce,this.options=de,this.writer=de.writer,this.writerOptions=this.writer.filterOptions(fe),this.stringify=new W(de),this.onDataCallback=re||function(){},this.onEndCallback=ae||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return oe.prototype.createChildNode=function(de){var ae,fe,Se,Je,qe,Ct,kt;switch(de.type){case v.CData:this.cdata(de.value);break;case v.Comment:this.comment(de.value);break;case v.Element:for(ae in fe={},Ct=de.attribs)!se.call(Ct,ae)||(fe[ae]=Ct[ae].value);this.node(de.name,fe);break;case v.Dummy:this.dummy();break;case v.Raw:this.raw(de.value);break;case v.Text:this.text(de.value);break;case v.ProcessingInstruction:this.instruction(de.target,de.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+de.constructor.name)}for(Je=0,qe=(kt=de.children).length;Je<qe;Je++)this.createChildNode(Se=kt[Je]),Se.type===v.Element&&this.up();return this},oe.prototype.dummy=function(){return this},oe.prototype.node=function(de,re,ae){var fe;if(null==de)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(de));return this.openCurrent(),de=z(de),null==re&&(re={}),re=z(re),N(re)||(ae=(fe=[re,ae])[0],re=fe[1]),this.currentNode=new Z(this,de,re),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=ae&&this.text(ae),this},oe.prototype.element=function(de,re,ae){var fe,Se,Je,qe,Ct,kt;if(this.currentNode&&this.currentNode.type===v.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(de)||N(de)||P(de))for(qe=this.options.noValidation,this.options.noValidation=!0,(kt=new Q(this.options).element("TEMP_ROOT")).element(de),this.options.noValidation=qe,Se=0,Je=(Ct=kt.children).length;Se<Je;Se++)this.createChildNode(fe=Ct[Se]),fe.type===v.Element&&this.up();else this.node(de,re,ae);return this},oe.prototype.attribute=function(de,re){var ae;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(de));if(null!=de&&(de=z(de)),N(de))for(ae in de)!se.call(de,ae)||this.attribute(ae,de[ae]);else P(re)&&(re=re.apply()),this.options.keepNullAttributes&&null==re?this.currentNode.attribs[de]=new x(this,de,""):null!=re&&(this.currentNode.attribs[de]=new x(this,de,re));return this},oe.prototype.text=function(de){var re;return this.openCurrent(),re=new _e(this,de),this.onData(this.writer.text(re,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.cdata=function(de){var re;return this.openCurrent(),re=new ee(this,de),this.onData(this.writer.cdata(re,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.comment=function(de){var re;return this.openCurrent(),re=new te(this,de),this.onData(this.writer.comment(re,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.raw=function(de){var re;return this.openCurrent(),re=new De(this,de),this.onData(this.writer.raw(re,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.instruction=function(de,re){var ae,fe,Je,qe;if(this.openCurrent(),null!=de&&(de=z(de)),null!=re&&(re=z(re)),Array.isArray(de))for(ae=0,Je=de.length;ae<Je;ae++)this.instruction(fe=de[ae]);else if(N(de))for(fe in de)!se.call(de,fe)||this.instruction(fe,de[fe]);else P(re)&&(re=re.apply()),qe=new J(this,de,re),this.onData(this.writer.processingInstruction(qe,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},oe.prototype.declaration=function(de,re,ae){var fe;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return fe=new j(this,de,re,ae),this.onData(this.writer.declaration(fe,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.doctype=function(de,re,ae){if(this.openCurrent(),null==de)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new Y(this,re,ae),this.currentNode.rootNodeName=de,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},oe.prototype.dtdElement=function(de,re){var ae;return this.openCurrent(),ae=new R(this,de,re),this.onData(this.writer.dtdElement(ae,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.attList=function(de,re,ae,fe,Se){var Je;return this.openCurrent(),Je=new K(this,de,re,ae,fe,Se),this.onData(this.writer.dtdAttList(Je,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.entity=function(de,re){var ae;return this.openCurrent(),ae=new H(this,!1,de,re),this.onData(this.writer.dtdEntity(ae,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.pEntity=function(de,re){var ae;return this.openCurrent(),ae=new H(this,!0,de,re),this.onData(this.writer.dtdEntity(ae,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.notation=function(de,re){var ae;return this.openCurrent(),ae=new $(this,de,re),this.onData(this.writer.dtdNotation(ae,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},oe.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},oe.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},oe.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},oe.prototype.openNode=function(de){var ae,fe,Se;if(!de.isOpen){if(!this.root&&0===this.currentLevel&&de.type===v.Element&&(this.root=de),ae="",de.type===v.Element){for(fe in this.writerOptions.state=l.OpenTag,ae=this.writer.indent(de,this.writerOptions,this.currentLevel)+"<"+de.name,Se=de.attribs)!se.call(Se,fe)||(ae+=this.writer.attribute(Se[fe],this.writerOptions,this.currentLevel));ae+=(de.children?">":"/>")+this.writer.endline(de,this.writerOptions,this.currentLevel),this.writerOptions.state=l.InsideTag}else this.writerOptions.state=l.OpenTag,ae=this.writer.indent(de,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+de.rootNodeName,de.pubID&&de.sysID?ae+=' PUBLIC "'+de.pubID+'" "'+de.sysID+'"':de.sysID&&(ae+=' SYSTEM "'+de.sysID+'"'),de.children?(ae+=" [",this.writerOptions.state=l.InsideTag):(this.writerOptions.state=l.CloseTag,ae+=">"),ae+=this.writer.endline(de,this.writerOptions,this.currentLevel);return this.onData(ae,this.currentLevel),de.isOpen=!0}},oe.prototype.closeNode=function(de){var re;if(!de.isClosed)return"",this.writerOptions.state=l.CloseTag,re=de.type===v.Element?this.writer.indent(de,this.writerOptions,this.currentLevel)+"</"+de.name+">"+this.writer.endline(de,this.writerOptions,this.currentLevel):this.writer.indent(de,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(de,this.writerOptions,this.currentLevel),this.writerOptions.state=l.None,this.onData(re,this.currentLevel),de.isClosed=!0},oe.prototype.onData=function(de,re){return this.documentStarted=!0,this.onDataCallback(de,re+1)},oe.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},oe.prototype.debugInfo=function(de){return null==de?"":"node: <"+de+">"},oe.prototype.ele=function(){return this.element.apply(this,arguments)},oe.prototype.nod=function(de,re,ae){return this.node(de,re,ae)},oe.prototype.txt=function(de){return this.text(de)},oe.prototype.dat=function(de){return this.cdata(de)},oe.prototype.com=function(de){return this.comment(de)},oe.prototype.ins=function(de,re){return this.instruction(de,re)},oe.prototype.dec=function(de,re,ae){return this.declaration(de,re,ae)},oe.prototype.dtd=function(de,re,ae){return this.doctype(de,re,ae)},oe.prototype.e=function(de,re,ae){return this.element(de,re,ae)},oe.prototype.n=function(de,re,ae){return this.node(de,re,ae)},oe.prototype.t=function(de){return this.text(de)},oe.prototype.d=function(de){return this.cdata(de)},oe.prototype.c=function(de){return this.comment(de)},oe.prototype.r=function(de){return this.raw(de)},oe.prototype.i=function(de,re){return this.instruction(de,re)},oe.prototype.att=function(){return this.currentNode&&this.currentNode.type===v.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},oe.prototype.a=function(){return this.currentNode&&this.currentNode.type===v.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},oe.prototype.ent=function(de,re){return this.entity(de,re)},oe.prototype.pent=function(de,re){return this.pEntity(de,re)},oe.prototype.not=function(de,re){return this.notation(de,re)},oe}()}).call(this)},4173:function(je,we,I){(function(){var v,x,te={}.hasOwnProperty;x=I(8563),v=I(2269),je.exports=function(K){function R(H){R.__super__.constructor.call(this,H),this.type=v.Dummy}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),R.prototype.clone=function(){return Object.create(this)},R.prototype.toString=function(H){return""},R}(x)}).call(this)},3352:function(je,we,I){(function(){var v,l,ee,te,K,R,H,$,Y={}.hasOwnProperty;$=I(3452),H=$.isObject,R=$.isFunction,K=$.getValue,te=I(8563),v=I(2269),l=I(5968),ee=I(5264),je.exports=function(Q){function ne(Z,J,De){var Ce,W,_e,z;if(ne.__super__.constructor.call(this,Z),null==J)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(J),this.type=v.Element,this.attribs={},this.schemaTypeInfo=null,null!=De&&this.attribute(De),Z.type===v.Document&&(this.isRoot=!0,this.documentObject=Z,Z.rootObject=this,Z.children))for(W=0,_e=(z=Z.children).length;W<_e;W++)if((Ce=z[W]).type===v.DocType){Ce.name=this.name;break}}return function(Q,ne){for(var Z in ne)Y.call(ne,Z)&&(Q[Z]=ne[Z]);function J(){this.constructor=Q}J.prototype=ne.prototype,Q.prototype=new J,Q.__super__=ne.prototype}(ne,Q),Object.defineProperty(ne.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(ne.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(ne.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(ne.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(ne.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(ne.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(ne.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(ne.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new ee(this.attribs)),this.attributeMap}}),ne.prototype.clone=function(){var J,De,Ce;for(J in(De=Object.create(this)).isRoot&&(De.documentObject=null),De.attribs={},Ce=this.attribs)!Y.call(Ce,J)||(De.attribs[J]=Ce[J].clone());return De.children=[],this.children.forEach(function(W){var _e;return(_e=W.clone()).parent=De,De.children.push(_e)}),De},ne.prototype.attribute=function(Z,J){var De;if(null!=Z&&(Z=K(Z)),H(Z))for(De in Z)!Y.call(Z,De)||this.attribute(De,Z[De]);else R(J)&&(J=J.apply()),this.options.keepNullAttributes&&null==J?this.attribs[Z]=new l(this,Z,""):null!=J&&(this.attribs[Z]=new l(this,Z,J));return this},ne.prototype.removeAttribute=function(Z){var De,Ce;if(null==Z)throw new Error("Missing attribute name. "+this.debugInfo());if(Z=K(Z),Array.isArray(Z))for(De=0,Ce=Z.length;De<Ce;De++)delete this.attribs[Z[De]];else delete this.attribs[Z];return this},ne.prototype.toString=function(Z){return this.options.writer.element(this,this.options.writer.filterOptions(Z))},ne.prototype.att=function(Z,J){return this.attribute(Z,J)},ne.prototype.a=function(Z,J){return this.attribute(Z,J)},ne.prototype.getAttribute=function(Z){return this.attribs.hasOwnProperty(Z)?this.attribs[Z].value:null},ne.prototype.setAttribute=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getAttributeNode=function(Z){return this.attribs.hasOwnProperty(Z)?this.attribs[Z]:null},ne.prototype.setAttributeNode=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.removeAttributeNode=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getElementsByTagName=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getAttributeNS=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.setAttributeNS=function(Z,J,De){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.removeAttributeNS=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getAttributeNodeNS=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.setAttributeNodeNS=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getElementsByTagNameNS=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.hasAttribute=function(Z){return this.attribs.hasOwnProperty(Z)},ne.prototype.hasAttributeNS=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.setIdAttribute=function(Z,J){return this.attribs.hasOwnProperty(Z)?this.attribs[Z].isId:J},ne.prototype.setIdAttributeNS=function(Z,J,De){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.setIdAttributeNode=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getElementsByTagName=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getElementsByTagNameNS=function(Z,J){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.getElementsByClassName=function(Z){throw new Error("This DOM method is not implemented."+this.debugInfo())},ne.prototype.isEqualNode=function(Z){var J,De,Ce;if(!ne.__super__.isEqualNode.apply(this,arguments).isEqualNode(Z)||Z.namespaceURI!==this.namespaceURI||Z.prefix!==this.prefix||Z.localName!==this.localName||Z.attribs.length!==this.attribs.length)return!1;for(J=De=0,Ce=this.attribs.length-1;0<=Ce?De<=Ce:De>=Ce;J=0<=Ce?++De:--De)if(!this.attribs[J].isEqualNode(Z.attribs[J]))return!1;return!0},ne}(te)}).call(this)},5264:function(je){(function(){je.exports=function(){function I(v){this.nodes=v}return Object.defineProperty(I.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),I.prototype.clone=function(){return this.nodes=null},I.prototype.getNamedItem=function(v){return this.nodes[v]},I.prototype.setNamedItem=function(v){var l;return l=this.nodes[v.nodeName],this.nodes[v.nodeName]=v,l||null},I.prototype.removeNamedItem=function(v){var l;return l=this.nodes[v],delete this.nodes[v],l||null},I.prototype.item=function(v){return this.nodes[Object.keys(this.nodes)[v]]||null},I.prototype.getNamedItemNS=function(v,l){throw new Error("This DOM method is not implemented.")},I.prototype.setNamedItemNS=function(v){throw new Error("This DOM method is not implemented.")},I.prototype.removeNamedItemNS=function(v,l){throw new Error("This DOM method is not implemented.")},I}()}).call(this)},8563:function(je,we,I){(function(){var v,l,x,ee,te,K,R,H,Y,Q,ne,Z,J,De,Ce,W,_e,z={}.hasOwnProperty;_e=I(3452),W=_e.isObject,Ce=_e.isFunction,De=_e.isEmpty,J=_e.getValue,H=null,x=null,ee=null,te=null,K=null,ne=null,Z=null,Q=null,R=null,l=null,Y=null,v=null,je.exports=function(){function P(N){this.parent=N,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,H||(H=I(3352),x=I(1361),ee=I(2516),te=I(4789),K=I(9195),ne=I(9942),Z=I(474),Q=I(4666),R=I(4173),l=I(2269),Y=I(5112),I(5264),v=I(599))}return Object.defineProperty(P.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(P.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(P.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(P.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(P.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new Y(this.children)),this.childNodeList}}),Object.defineProperty(P.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(P.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(P.prototype,"previousSibling",{get:function(){var N;return N=this.parent.children.indexOf(this),this.parent.children[N-1]||null}}),Object.defineProperty(P.prototype,"nextSibling",{get:function(){var N;return N=this.parent.children.indexOf(this),this.parent.children[N+1]||null}}),Object.defineProperty(P.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(P.prototype,"textContent",{get:function(){var N,q,ye,se,oe;if(this.nodeType===l.Element||this.nodeType===l.DocumentFragment){for(oe="",q=0,ye=(se=this.children).length;q<ye;q++)(N=se[q]).textContent&&(oe+=N.textContent);return oe}return null},set:function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),P.prototype.setParent=function(N){var ye,se,oe,de;for(this.parent=N,N&&(this.options=N.options,this.stringify=N.stringify),de=[],ye=0,se=(oe=this.children).length;ye<se;ye++)de.push(oe[ye].setParent(this));return de},P.prototype.element=function(N,q,ye){var se,de,re,ae,fe,Se,Je,qe,Ct,kt;if(fe=null,null===q&&null==ye&&(q=(qe=[{},null])[0],ye=qe[1]),null==q&&(q={}),q=J(q),W(q)||(ye=(Ct=[q,ye])[0],q=Ct[1]),null!=N&&(N=J(N)),Array.isArray(N))for(de=0,Se=N.length;de<Se;de++)fe=this.element(N[de]);else if(Ce(N))fe=this.element(N.apply());else if(W(N)){for(ae in N)if(z.call(N,ae))if(Ce(kt=N[ae])&&(kt=kt.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===ae.indexOf(this.stringify.convertAttKey))fe=this.attribute(ae.substr(this.stringify.convertAttKey.length),kt);else if(!this.options.separateArrayItems&&Array.isArray(kt)&&De(kt))fe=this.dummy();else if(W(kt)&&De(kt))fe=this.element(ae);else if(this.options.keepNullNodes||null!=kt)if(!this.options.separateArrayItems&&Array.isArray(kt))for(re=0,Je=kt.length;re<Je;re++)(se={})[ae]=kt[re],fe=this.element(se);else W(kt)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===ae.indexOf(this.stringify.convertTextKey)?fe=this.element(kt):(fe=this.element(ae)).element(kt):fe=this.element(ae,kt);else fe=this.dummy()}else fe=this.options.keepNullNodes||null!==ye?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===N.indexOf(this.stringify.convertTextKey)?this.text(ye):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===N.indexOf(this.stringify.convertCDataKey)?this.cdata(ye):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===N.indexOf(this.stringify.convertCommentKey)?this.comment(ye):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===N.indexOf(this.stringify.convertRawKey)?this.raw(ye):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===N.indexOf(this.stringify.convertPIKey)?this.instruction(N.substr(this.stringify.convertPIKey.length),ye):this.node(N,q,ye):this.dummy();if(null==fe)throw new Error("Could not create any elements with: "+N+". "+this.debugInfo());return fe},P.prototype.insertBefore=function(N,q,ye){var se,oe,de,re,ae;if(N?.type)return re=q,(de=N).setParent(this),re?(oe=children.indexOf(re),ae=children.splice(oe),children.push(de),Array.prototype.push.apply(children,ae)):children.push(de),de;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(N));return oe=this.parent.children.indexOf(this),ae=this.parent.children.splice(oe),se=this.parent.element(N,q,ye),Array.prototype.push.apply(this.parent.children,ae),se},P.prototype.insertAfter=function(N,q,ye){var se,oe,de;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(N));return oe=this.parent.children.indexOf(this),de=this.parent.children.splice(oe+1),se=this.parent.element(N,q,ye),Array.prototype.push.apply(this.parent.children,de),se},P.prototype.remove=function(){var N;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return N=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[N,N-N+1].concat([])),this.parent},P.prototype.node=function(N,q,ye){var se,oe;return null!=N&&(N=J(N)),q||(q={}),q=J(q),W(q)||(ye=(oe=[q,ye])[0],q=oe[1]),se=new H(this,N,q),null!=ye&&se.text(ye),this.children.push(se),se},P.prototype.text=function(N){var q;return W(N)&&this.element(N),q=new Z(this,N),this.children.push(q),this},P.prototype.cdata=function(N){var q;return q=new x(this,N),this.children.push(q),this},P.prototype.comment=function(N){var q;return q=new ee(this,N),this.children.push(q),this},P.prototype.commentBefore=function(N){var ye,se;return ye=this.parent.children.indexOf(this),se=this.parent.children.splice(ye),this.parent.comment(N),Array.prototype.push.apply(this.parent.children,se),this},P.prototype.commentAfter=function(N){var ye,se;return ye=this.parent.children.indexOf(this),se=this.parent.children.splice(ye+1),this.parent.comment(N),Array.prototype.push.apply(this.parent.children,se),this},P.prototype.raw=function(N){var q;return q=new ne(this,N),this.children.push(q),this},P.prototype.dummy=function(){return new R(this)},P.prototype.instruction=function(N,q){var ye,oe,de,re;if(null!=N&&(N=J(N)),null!=q&&(q=J(q)),Array.isArray(N))for(de=0,re=N.length;de<re;de++)this.instruction(ye=N[de]);else if(W(N))for(ye in N)!z.call(N,ye)||this.instruction(ye,N[ye]);else Ce(q)&&(q=q.apply()),oe=new Q(this,N,q),this.children.push(oe);return this},P.prototype.instructionBefore=function(N,q){var se,oe;return se=this.parent.children.indexOf(this),oe=this.parent.children.splice(se),this.parent.instruction(N,q),Array.prototype.push.apply(this.parent.children,oe),this},P.prototype.instructionAfter=function(N,q){var se,oe;return se=this.parent.children.indexOf(this),oe=this.parent.children.splice(se+1),this.parent.instruction(N,q),Array.prototype.push.apply(this.parent.children,oe),this},P.prototype.declaration=function(N,q,ye){var se,oe;return se=this.document(),oe=new te(se,N,q,ye),0===se.children.length?se.children.unshift(oe):se.children[0].type===l.Declaration?se.children[0]=oe:se.children.unshift(oe),se.root()||se},P.prototype.dtd=function(N,q){var se,oe,de,re,ae,fe,Se,Je,qe;for(se=this.document(),oe=new K(se,N,q),de=re=0,fe=(Je=se.children).length;re<fe;de=++re)if(Je[de].type===l.DocType)return se.children[de]=oe,oe;for(de=ae=0,Se=(qe=se.children).length;ae<Se;de=++ae)if(qe[de].isRoot)return se.children.splice(de,0,oe),oe;return se.children.push(oe),oe},P.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},P.prototype.root=function(){var N;for(N=this;N;){if(N.type===l.Document)return N.rootObject;if(N.isRoot)return N;N=N.parent}},P.prototype.document=function(){var N;for(N=this;N;){if(N.type===l.Document)return N;N=N.parent}},P.prototype.end=function(N){return this.document().end(N)},P.prototype.prev=function(){var N;if((N=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[N-1]},P.prototype.next=function(){var N;if(-1===(N=this.parent.children.indexOf(this))||N===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[N+1]},P.prototype.importDocument=function(N){var q;return(q=N.root().clone()).parent=this,q.isRoot=!1,this.children.push(q),this},P.prototype.debugInfo=function(N){var q,ye;return null!=(N=N||this.name)||null!=(q=this.parent)&&q.name?null==N?"parent: <"+this.parent.name+">":null!=(ye=this.parent)&&ye.name?"node: <"+N+">, parent: <"+this.parent.name+">":"node: <"+N+">":""},P.prototype.ele=function(N,q,ye){return this.element(N,q,ye)},P.prototype.nod=function(N,q,ye){return this.node(N,q,ye)},P.prototype.txt=function(N){return this.text(N)},P.prototype.dat=function(N){return this.cdata(N)},P.prototype.com=function(N){return this.comment(N)},P.prototype.ins=function(N,q){return this.instruction(N,q)},P.prototype.doc=function(){return this.document()},P.prototype.dec=function(N,q,ye){return this.declaration(N,q,ye)},P.prototype.e=function(N,q,ye){return this.element(N,q,ye)},P.prototype.n=function(N,q,ye){return this.node(N,q,ye)},P.prototype.t=function(N){return this.text(N)},P.prototype.d=function(N){return this.cdata(N)},P.prototype.c=function(N){return this.comment(N)},P.prototype.r=function(N){return this.raw(N)},P.prototype.i=function(N,q){return this.instruction(N,q)},P.prototype.u=function(){return this.up()},P.prototype.importXMLBuilder=function(N){return this.importDocument(N)},P.prototype.replaceChild=function(N,q){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.removeChild=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.appendChild=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.hasChildNodes=function(){return 0!==this.children.length},P.prototype.cloneNode=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.isSupported=function(N,q){return!0},P.prototype.hasAttributes=function(){return 0!==this.attribs.length},P.prototype.compareDocumentPosition=function(N){var q,ye;return(q=this)===N?0:this.document()!==N.document()?(ye=v.Disconnected|v.ImplementationSpecific,Math.random()<.5?ye|=v.Preceding:ye|=v.Following,ye):q.isAncestor(N)?v.Contains|v.Preceding:q.isDescendant(N)?v.Contains|v.Following:q.isPreceding(N)?v.Preceding:v.Following},P.prototype.isSameNode=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.lookupPrefix=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.isDefaultNamespace=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.lookupNamespaceURI=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.isEqualNode=function(N){var q,ye,se;if(N.nodeType!==this.nodeType||N.children.length!==this.children.length)return!1;for(q=ye=0,se=this.children.length-1;0<=se?ye<=se:ye>=se;q=0<=se?++ye:--ye)if(!this.children[q].isEqualNode(N.children[q]))return!1;return!0},P.prototype.getFeature=function(N,q){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.setUserData=function(N,q,ye){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.getUserData=function(N){throw new Error("This DOM method is not implemented."+this.debugInfo())},P.prototype.contains=function(N){return!!N&&(N===this||this.isDescendant(N))},P.prototype.isDescendant=function(N){var q,se,oe,de;for(se=0,oe=(de=this.children).length;se<oe;se++)if(N===(q=de[se])||q.isDescendant(N))return!0;return!1},P.prototype.isAncestor=function(N){return N.isDescendant(this)},P.prototype.isPreceding=function(N){var q,ye;return q=this.treePosition(N),ye=this.treePosition(this),-1!==q&&-1!==ye&&q<ye},P.prototype.isFollowing=function(N){var q,ye;return q=this.treePosition(N),ye=this.treePosition(this),-1!==q&&-1!==ye&&q>ye},P.prototype.treePosition=function(N){var q,ye;return ye=0,q=!1,this.foreachTreeNode(this.document(),function(se){if(ye++,!q&&se===N)return q=!0}),q?ye:-1},P.prototype.foreachTreeNode=function(N,q){var ye,se,oe,de,re;for(N||(N=this.document()),se=0,oe=(de=N.children).length;se<oe;se++){if(re=q(ye=de[se]))return re;if(re=this.foreachTreeNode(ye,q))return re}},P}()}).call(this)},5112:function(je){(function(){je.exports=function(){function I(v){this.nodes=v}return Object.defineProperty(I.prototype,"length",{get:function(){return this.nodes.length||0}}),I.prototype.clone=function(){return this.nodes=null},I.prototype.item=function(v){return this.nodes[v]||null},I}()}).call(this)},4666:function(je,we,I){(function(){var v,l,te={}.hasOwnProperty;v=I(2269),l=I(2182),je.exports=function(K){function R(H,$,j){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing instruction target. "+this.debugInfo());this.type=v.ProcessingInstruction,this.target=this.stringify.insTarget($),this.name=this.target,j&&(this.value=this.stringify.insValue(j))}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),R.prototype.clone=function(){return Object.create(this)},R.prototype.toString=function(H){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(H))},R.prototype.isEqualNode=function(H){return!(!R.__super__.isEqualNode.apply(this,arguments).isEqualNode(H)||H.target!==this.target)},R}(l)}).call(this)},9942:function(je,we,I){(function(){var v,l,te={}.hasOwnProperty;v=I(2269),l=I(8563),je.exports=function(K){function R(H,$){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing raw text. "+this.debugInfo());this.type=v.Raw,this.value=this.stringify.raw($)}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),R.prototype.clone=function(){return Object.create(this)},R.prototype.toString=function(H){return this.options.writer.raw(this,this.options.writer.filterOptions(H))},R}(l)}).call(this)},7647:function(je,we,I){(function(){var v,l,ee,K={}.hasOwnProperty;v=I(2269),ee=I(3576),l=I(6316),je.exports=function(R){function H($,j){this.stream=$,H.__super__.constructor.call(this,j)}return function(R,H){for(var $ in H)K.call(H,$)&&(R[$]=H[$]);function j(){this.constructor=R}j.prototype=H.prototype,R.prototype=new j,R.__super__=H.prototype}(H,R),H.prototype.endline=function($,j,Y){return $.isLastRootNode&&j.state===l.CloseTag?"":H.__super__.endline.call(this,$,j,Y)},H.prototype.document=function($,j){var Q,ne,Z,J,De,Ce,W,_e;for(Q=ne=0,J=(Ce=$.children).length;ne<J;Q=++ne)Ce[Q].isLastRootNode=Q===$.children.length-1;for(j=this.filterOptions(j),_e=[],Z=0,De=(W=$.children).length;Z<De;Z++)_e.push(this.writeChildNode(W[Z],j,0));return _e},H.prototype.attribute=function($,j,Y){return this.stream.write(H.__super__.attribute.call(this,$,j,Y))},H.prototype.cdata=function($,j,Y){return this.stream.write(H.__super__.cdata.call(this,$,j,Y))},H.prototype.comment=function($,j,Y){return this.stream.write(H.__super__.comment.call(this,$,j,Y))},H.prototype.declaration=function($,j,Y){return this.stream.write(H.__super__.declaration.call(this,$,j,Y))},H.prototype.docType=function($,j,Y){var ne,Z,J;if(Y||(Y=0),this.openNode($,j,Y),j.state=l.OpenTag,this.stream.write(this.indent($,j,Y)),this.stream.write("<!DOCTYPE "+$.root().name),$.pubID&&$.sysID?this.stream.write(' PUBLIC "'+$.pubID+'" "'+$.sysID+'"'):$.sysID&&this.stream.write(' SYSTEM "'+$.sysID+'"'),$.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline($,j,Y)),j.state=l.InsideTag,ne=0,Z=(J=$.children).length;ne<Z;ne++)this.writeChildNode(J[ne],j,Y+1);j.state=l.CloseTag,this.stream.write("]")}return j.state=l.CloseTag,this.stream.write(j.spaceBeforeSlash+">"),this.stream.write(this.endline($,j,Y)),j.state=l.None,this.closeNode($,j,Y)},H.prototype.element=function($,j,Y){var Z,J,De,Ce,W,z,P;for(W in Y||(Y=0),this.openNode($,j,Y),j.state=l.OpenTag,this.stream.write(this.indent($,j,Y)+"<"+$.name),z=$.attribs)!K.call(z,W)||this.attribute(z[W],j,Y);if(J=0===(Z=$.children.length)?null:$.children[0],0===Z||$.children.every(function(N){return(N.type===v.Text||N.type===v.Raw)&&""===N.value}))j.allowEmpty?(this.stream.write(">"),j.state=l.CloseTag,this.stream.write("</"+$.name+">")):(j.state=l.CloseTag,this.stream.write(j.spaceBeforeSlash+"/>"));else if(!j.pretty||1!==Z||J.type!==v.Text&&J.type!==v.Raw||null==J.value){for(this.stream.write(">"+this.endline($,j,Y)),j.state=l.InsideTag,De=0,Ce=(P=$.children).length;De<Ce;De++)this.writeChildNode(P[De],j,Y+1);j.state=l.CloseTag,this.stream.write(this.indent($,j,Y)+"</"+$.name+">")}else this.stream.write(">"),j.state=l.InsideTag,j.suppressPrettyCount++,this.writeChildNode(J,j,Y+1),j.suppressPrettyCount--,j.state=l.CloseTag,this.stream.write("</"+$.name+">");return this.stream.write(this.endline($,j,Y)),j.state=l.None,this.closeNode($,j,Y)},H.prototype.processingInstruction=function($,j,Y){return this.stream.write(H.__super__.processingInstruction.call(this,$,j,Y))},H.prototype.raw=function($,j,Y){return this.stream.write(H.__super__.raw.call(this,$,j,Y))},H.prototype.text=function($,j,Y){return this.stream.write(H.__super__.text.call(this,$,j,Y))},H.prototype.dtdAttList=function($,j,Y){return this.stream.write(H.__super__.dtdAttList.call(this,$,j,Y))},H.prototype.dtdElement=function($,j,Y){return this.stream.write(H.__super__.dtdElement.call(this,$,j,Y))},H.prototype.dtdEntity=function($,j,Y){return this.stream.write(H.__super__.dtdEntity.call(this,$,j,Y))},H.prototype.dtdNotation=function($,j,Y){return this.stream.write(H.__super__.dtdNotation.call(this,$,j,Y))},H}(ee)}).call(this)},4354:function(je,we,I){(function(){var l,ee={}.hasOwnProperty;l=I(3576),je.exports=function(te){function K(R){K.__super__.constructor.call(this,R)}return function(te,K){for(var R in K)ee.call(K,R)&&(te[R]=K[R]);function H(){this.constructor=te}H.prototype=K.prototype,te.prototype=new H,te.__super__=K.prototype}(K,te),K.prototype.document=function(R,H){var j,Y,Q,ne;for(H=this.filterOptions(H),Q="",j=0,Y=(ne=R.children).length;j<Y;j++)Q+=this.writeChildNode(ne[j],H,0);return H.pretty&&Q.slice(-H.newline.length)===H.newline&&(Q=Q.slice(0,-H.newline.length)),Q},K}(l)}).call(this)},5041:function(je){(function(){var I=function(l,x){return function(){return l.apply(x,arguments)}},v={}.hasOwnProperty;je.exports=function(){function l(x){var ee,te;for(ee in this.assertLegalName=I(this.assertLegalName,this),this.assertLegalChar=I(this.assertLegalChar,this),x||(x={}),this.options=x,this.options.version||(this.options.version="1.0"),te=x.stringify||{})!v.call(te,ee)||(this[ee]=te[ee])}return l.prototype.name=function(x){return this.options.noValidation?x:this.assertLegalName(""+x||"")},l.prototype.text=function(x){return this.options.noValidation?x:this.assertLegalChar(this.textEscape(""+x||""))},l.prototype.cdata=function(x){return this.options.noValidation?x:(x=(x=""+x||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(x))},l.prototype.comment=function(x){if(this.options.noValidation)return x;if((x=""+x||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+x);return this.assertLegalChar(x)},l.prototype.raw=function(x){return this.options.noValidation?x:""+x||""},l.prototype.attValue=function(x){return this.options.noValidation?x:this.assertLegalChar(this.attEscape(x=""+x||""))},l.prototype.insTarget=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.insValue=function(x){if(this.options.noValidation)return x;if((x=""+x||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+x);return this.assertLegalChar(x)},l.prototype.xmlVersion=function(x){if(this.options.noValidation)return x;if(!(x=""+x||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+x);return x},l.prototype.xmlEncoding=function(x){if(this.options.noValidation)return x;if(!(x=""+x||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+x);return this.assertLegalChar(x)},l.prototype.xmlStandalone=function(x){return this.options.noValidation?x:x?"yes":"no"},l.prototype.dtdPubID=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.dtdSysID=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.dtdElementValue=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.dtdAttType=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.dtdAttDefault=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.dtdEntityValue=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.dtdNData=function(x){return this.options.noValidation?x:this.assertLegalChar(""+x||"")},l.prototype.convertAttKey="@",l.prototype.convertPIKey="?",l.prototype.convertTextKey="#text",l.prototype.convertCDataKey="#cdata",l.prototype.convertCommentKey="#comment",l.prototype.convertRawKey="#raw",l.prototype.assertLegalChar=function(x){var te;if(this.options.noValidation)return x;if("1.0"===this.options.version){if(te=x.match(/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+x+" at index "+te.index)}else if("1.1"===this.options.version&&(te=x.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/)))throw new Error("Invalid character in string: "+x+" at index "+te.index);return x},l.prototype.assertLegalName=function(x){if(this.options.noValidation)return x;if(this.assertLegalChar(x),!x.match(/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/))throw new Error("Invalid character in name");return x},l.prototype.textEscape=function(x){return this.options.noValidation?x:x.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},l.prototype.attEscape=function(x){return this.options.noValidation?x:x.replace(this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},l}()}).call(this)},474:function(je,we,I){(function(){var v,l,te={}.hasOwnProperty;v=I(2269),l=I(2182),je.exports=function(K){function R(H,$){if(R.__super__.constructor.call(this,H),null==$)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=v.Text,this.value=this.stringify.text($)}return function(K,R){for(var H in R)te.call(R,H)&&(K[H]=R[H]);function $(){this.constructor=K}$.prototype=R.prototype,K.prototype=new $,K.__super__=R.prototype}(R,K),Object.defineProperty(R.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(R.prototype,"wholeText",{get:function(){var H,$,j;for(j="",$=this.previousSibling;$;)j=$.data+j,$=$.previousSibling;for(j+=this.data,H=this.nextSibling;H;)j+=H.data,H=H.nextSibling;return j}}),R.prototype.clone=function(){return Object.create(this)},R.prototype.toString=function(H){return this.options.writer.text(this,this.options.writer.filterOptions(H))},R.prototype.splitText=function(H){throw new Error("This DOM method is not implemented."+this.debugInfo())},R.prototype.replaceWholeText=function(H){throw new Error("This DOM method is not implemented."+this.debugInfo())},R}(l)}).call(this)},3576:function(je,we,I){(function(){var v,l,Ce,W={}.hasOwnProperty;Ce=I(3452).assign,v=I(2269),I(4789),I(9195),I(1361),I(2516),I(3352),I(9942),I(474),I(4666),I(4173),I(7274),I(2068),I(8349),I(3087),l=I(6316),je.exports=function(){function _e(z){var P,N,q;for(P in z||(z={}),this.options=z,N=z.writer||{})!W.call(N,P)||(q=N[P],this["_"+P]=this[P],this[P]=q)}return _e.prototype.filterOptions=function(z){var P,N,q,ye,se,oe,de,re;return z||(z={}),z=Ce({},this.options,z),(P={writer:this}).pretty=z.pretty||!1,P.allowEmpty=z.allowEmpty||!1,P.indent=null!=(N=z.indent)?N:"  ",P.newline=null!=(q=z.newline)?q:"\n",P.offset=null!=(ye=z.offset)?ye:0,P.dontPrettyTextNodes=null!=(se=null!=(oe=z.dontPrettyTextNodes)?oe:z.dontprettytextnodes)?se:0,P.spaceBeforeSlash=null!=(de=null!=(re=z.spaceBeforeSlash)?re:z.spacebeforeslash)?de:"",!0===P.spaceBeforeSlash&&(P.spaceBeforeSlash=" "),P.suppressPrettyCount=0,P.user={},P.state=l.None,P},_e.prototype.indent=function(z,P,N){var q;return!P.pretty||P.suppressPrettyCount?"":P.pretty&&(q=(N||0)+P.offset+1)>0?new Array(q).join(P.indent):""},_e.prototype.endline=function(z,P,N){return!P.pretty||P.suppressPrettyCount?"":P.newline},_e.prototype.attribute=function(z,P,N){var q;return this.openAttribute(z,P,N),q=" "+z.name+'="'+z.value+'"',this.closeAttribute(z,P,N),q},_e.prototype.cdata=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"<![CDATA[",P.state=l.InsideTag,q+=z.value,P.state=l.CloseTag,q+="]]>"+this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.comment=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"\x3c!-- ",P.state=l.InsideTag,q+=z.value,P.state=l.CloseTag,q+=" --\x3e"+this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.declaration=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"<?xml",P.state=l.InsideTag,q+=' version="'+z.version+'"',null!=z.encoding&&(q+=' encoding="'+z.encoding+'"'),null!=z.standalone&&(q+=' standalone="'+z.standalone+'"'),P.state=l.CloseTag,q+=P.spaceBeforeSlash+"?>",q+=this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.docType=function(z,P,N){var ye,se,oe,de;if(N||(N=0),this.openNode(z,P,N),P.state=l.OpenTag,oe=this.indent(z,P,N),oe+="<!DOCTYPE "+z.root().name,z.pubID&&z.sysID?oe+=' PUBLIC "'+z.pubID+'" "'+z.sysID+'"':z.sysID&&(oe+=' SYSTEM "'+z.sysID+'"'),z.children.length>0){for(oe+=" [",oe+=this.endline(z,P,N),P.state=l.InsideTag,ye=0,se=(de=z.children).length;ye<se;ye++)oe+=this.writeChildNode(de[ye],P,N+1);P.state=l.CloseTag,oe+="]"}return P.state=l.CloseTag,oe+=P.spaceBeforeSlash+">",oe+=this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),oe},_e.prototype.element=function(z,P,N){var ye,se,oe,de,re,ae,fe,Se,Je,qe,Ct,kt,tn;for(Se in N||(N=0),Je=!1,qe="",this.openNode(z,P,N),P.state=l.OpenTag,qe+=this.indent(z,P,N)+"<"+z.name,Ct=z.attribs)!W.call(Ct,Se)||(qe+=this.attribute(Ct[Se],P,N));if(oe=0===(se=z.children.length)?null:z.children[0],0===se||z.children.every(function(_t){return(_t.type===v.Text||_t.type===v.Raw)&&""===_t.value}))P.allowEmpty?(qe+=">",P.state=l.CloseTag,qe+="</"+z.name+">"+this.endline(z,P,N)):(P.state=l.CloseTag,qe+=P.spaceBeforeSlash+"/>"+this.endline(z,P,N));else if(!P.pretty||1!==se||oe.type!==v.Text&&oe.type!==v.Raw||null==oe.value){if(P.dontPrettyTextNodes)for(de=0,ae=(kt=z.children).length;de<ae;de++)if(((ye=kt[de]).type===v.Text||ye.type===v.Raw)&&null!=ye.value){P.suppressPrettyCount++,Je=!0;break}for(qe+=">"+this.endline(z,P,N),P.state=l.InsideTag,re=0,fe=(tn=z.children).length;re<fe;re++)qe+=this.writeChildNode(ye=tn[re],P,N+1);P.state=l.CloseTag,qe+=this.indent(z,P,N)+"</"+z.name+">",Je&&P.suppressPrettyCount--,qe+=this.endline(z,P,N),P.state=l.None}else qe+=">",P.state=l.InsideTag,P.suppressPrettyCount++,Je=!0,qe+=this.writeChildNode(oe,P,N+1),P.suppressPrettyCount--,Je=!1,P.state=l.CloseTag,qe+="</"+z.name+">"+this.endline(z,P,N);return this.closeNode(z,P,N),qe},_e.prototype.writeChildNode=function(z,P,N){switch(z.type){case v.CData:return this.cdata(z,P,N);case v.Comment:return this.comment(z,P,N);case v.Element:return this.element(z,P,N);case v.Raw:return this.raw(z,P,N);case v.Text:return this.text(z,P,N);case v.ProcessingInstruction:return this.processingInstruction(z,P,N);case v.Dummy:return"";case v.Declaration:return this.declaration(z,P,N);case v.DocType:return this.docType(z,P,N);case v.AttributeDeclaration:return this.dtdAttList(z,P,N);case v.ElementDeclaration:return this.dtdElement(z,P,N);case v.EntityDeclaration:return this.dtdEntity(z,P,N);case v.NotationDeclaration:return this.dtdNotation(z,P,N);default:throw new Error("Unknown XML node type: "+z.constructor.name)}},_e.prototype.processingInstruction=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"<?",P.state=l.InsideTag,q+=z.target,z.value&&(q+=" "+z.value),P.state=l.CloseTag,q+=P.spaceBeforeSlash+"?>",q+=this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.raw=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N),P.state=l.InsideTag,q+=z.value,P.state=l.CloseTag,q+=this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.text=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N),P.state=l.InsideTag,q+=z.value,P.state=l.CloseTag,q+=this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.dtdAttList=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"<!ATTLIST",P.state=l.InsideTag,q+=" "+z.elementName+" "+z.attributeName+" "+z.attributeType,"#DEFAULT"!==z.defaultValueType&&(q+=" "+z.defaultValueType),z.defaultValue&&(q+=' "'+z.defaultValue+'"'),P.state=l.CloseTag,q+=P.spaceBeforeSlash+">"+this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.dtdElement=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"<!ELEMENT",P.state=l.InsideTag,q+=" "+z.name+" "+z.value,P.state=l.CloseTag,q+=P.spaceBeforeSlash+">"+this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.dtdEntity=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"<!ENTITY",P.state=l.InsideTag,z.pe&&(q+=" %"),q+=" "+z.name,z.value?q+=' "'+z.value+'"':(z.pubID&&z.sysID?q+=' PUBLIC "'+z.pubID+'" "'+z.sysID+'"':z.sysID&&(q+=' SYSTEM "'+z.sysID+'"'),z.nData&&(q+=" NDATA "+z.nData)),P.state=l.CloseTag,q+=P.spaceBeforeSlash+">"+this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.dtdNotation=function(z,P,N){var q;return this.openNode(z,P,N),P.state=l.OpenTag,q=this.indent(z,P,N)+"<!NOTATION",P.state=l.InsideTag,q+=" "+z.name,z.pubID&&z.sysID?q+=' PUBLIC "'+z.pubID+'" "'+z.sysID+'"':z.pubID?q+=' PUBLIC "'+z.pubID+'"':z.sysID&&(q+=' SYSTEM "'+z.sysID+'"'),P.state=l.CloseTag,q+=P.spaceBeforeSlash+">"+this.endline(z,P,N),P.state=l.None,this.closeNode(z,P,N),q},_e.prototype.openNode=function(z,P,N){},_e.prototype.closeNode=function(z,P,N){},_e.prototype.openAttribute=function(z,P,N){},_e.prototype.closeAttribute=function(z,P,N){},_e}()}).call(this)},7904:function(je,we,I){(function(){var v,l,x,ee,te,K,R,H,$,j;j=I(3452),H=j.assign,$=j.isFunction,x=I(9906),ee=I(519),te=I(1105),R=I(4354),K=I(7647),v=I(2269),l=I(6316),je.exports.create=function(Y,Q,ne,Z){var J,De;if(null==Y)throw new Error("Root element needs a name.");return Z=H({},Q,ne,Z),De=(J=new ee(Z)).element(Y),Z.headless||(J.declaration(Z),(null!=Z.pubID||null!=Z.sysID)&&J.dtd(Z)),De},je.exports.begin=function(Y,Q,ne){var Z;return $(Y)&&(Q=(Z=[Y,Q])[0],ne=Z[1],Y={}),Q?new te(Y,Q,ne):new ee(Y)},je.exports.stringWriter=function(Y){return new R(Y)},je.exports.streamWriter=function(Y,Q){return new K(Y,Q)},je.exports.implementation=new x,je.exports.nodeType=v,je.exports.writerState=l}).call(this)},655:(je,we,I)=>{"use strict";function ee(re,ae){var fe={};for(var Se in re)Object.prototype.hasOwnProperty.call(re,Se)&&ae.indexOf(Se)<0&&(fe[Se]=re[Se]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Se=Object.getOwnPropertySymbols(re);Je<Se.length;Je++)ae.indexOf(Se[Je])<0&&Object.prototype.propertyIsEnumerable.call(re,Se[Je])&&(fe[Se[Je]]=re[Se[Je]])}return fe}function H(re,ae,fe,Se){return new(fe||(fe=Promise))(function(qe,Ct){function kt(sn){try{_t(Se.next(sn))}catch(Bn){Ct(Bn)}}function tn(sn){try{_t(Se.throw(sn))}catch(Bn){Ct(Bn)}}function _t(sn){sn.done?qe(sn.value):function Je(qe){return qe instanceof fe?qe:new fe(function(Ct){Ct(qe)})}(sn.value).then(kt,tn)}_t((Se=Se.apply(re,ae||[])).next())})}function Ce(re){return this instanceof Ce?(this.v=re,this):new Ce(re)}function W(re,ae,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Se=fe.apply(re,ae||[]),qe=[];return Je={},Ct("next"),Ct("throw"),Ct("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Ct(In){Se[In]&&(Je[In]=function(An){return new Promise(function(di,pe){qe.push([In,An,di,pe])>1||kt(In,An)})})}function kt(In,An){try{!function tn(In){In.value instanceof Ce?Promise.resolve(In.value.v).then(_t,sn):Bn(qe[0][2],In)}(Se[In](An))}catch(di){Bn(qe[0][3],di)}}function _t(In){kt("next",In)}function sn(In){kt("throw",In)}function Bn(In,An){In(An),qe.shift(),qe.length&&kt(qe[0][0],qe[0][1])}}function z(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ae=re[Symbol.asyncIterator];return ae?ae.call(re):(re=function Q(re){var ae="function"==typeof Symbol&&Symbol.iterator,fe=ae&&re[ae],Se=0;if(fe)return fe.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Se>=re.length&&(re=void 0),{value:re&&re[Se++],done:!re}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),fe={},Se("next"),Se("throw"),Se("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Se(qe){fe[qe]=re[qe]&&function(Ct){return new Promise(function(kt,tn){!function Je(qe,Ct,kt,tn){Promise.resolve(tn).then(function(_t){qe({value:_t,done:kt})},Ct)}(kt,tn,(Ct=re[qe](Ct)).done,Ct.value)})}}}I.d(we,{FC:()=>W,KL:()=>z,_T:()=>ee,mG:()=>H,qq:()=>Ce})},2693:(je,we,I)=>{"use strict";I.d(we,{Em:()=>le,tE:()=>gn,qm:()=>$e,X6:()=>Qn,yG:()=>zi});var v=I(6895),l=I(4650),x=I(3353),ee=I(7579),te=I(727),K=I(1135),R=I(9646),H=I(9521),$=I(8505),j=I(8372),Y=I(9300),Q=I(4004),ne=I(5684),Z=I(1884),J=I(2722),De=I(1281),Ce=I(9841),W=I(7272),_e=I(9751),z=I(5698),P=I(8675);const q=new Set;let ye,se=(()=>{class He{constructor(Ae){this._platform=Ae,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):de}matchMedia(Ae){return(this._platform.WEBKIT||this._platform.BLINK)&&function oe(He){if(!q.has(He))try{ye||(ye=document.createElement("style"),ye.setAttribute("type","text/css"),document.head.appendChild(ye)),ye.sheet&&(ye.sheet.insertRule(`@media ${He} {body{ }}`,0),q.add(He))}catch(Ne){console.error(Ne)}}(Ae),this._matchMedia(Ae)}}return He.\u0275fac=function(Ae){return new(Ae||He)(l.LFG(x.t4))},He.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function de(He){return{matches:"all"===He||""===He,media:He,addListener:()=>{},removeListener:()=>{}}}let re=(()=>{class He{constructor(Ae,We){this._mediaMatcher=Ae,this._zone=We,this._queries=new Map,this._destroySubject=new ee.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ae){return ae((0,De.Eq)(Ae)).some(Re=>this._registerQuery(Re).mql.matches)}observe(Ae){const Re=ae((0,De.Eq)(Ae)).map(wt=>this._registerQuery(wt).observable);let Pe=(0,Ce.a)(Re);return Pe=(0,W.z)(Pe.pipe((0,z.q)(1)),Pe.pipe((0,ne.T)(1),(0,j.b)(0))),Pe.pipe((0,Q.U)(wt=>{const Dn={matches:!1,breakpoints:{}};return wt.forEach(({matches:fi,query:ii})=>{Dn.matches=Dn.matches||fi,Dn.breakpoints[ii]=fi}),Dn}))}_registerQuery(Ae){if(this._queries.has(Ae))return this._queries.get(Ae);const We=this._mediaMatcher.matchMedia(Ae),Pe={observable:new _e.y(wt=>{const Dn=fi=>this._zone.run(()=>wt.next(fi));return We.addListener(Dn),()=>{We.removeListener(Dn)}}).pipe((0,P.O)(We),(0,Q.U)(({matches:wt})=>({query:Ae,matches:wt})),(0,J.R)(this._destroySubject)),mql:We};return this._queries.set(Ae,Pe),Pe}}return He.\u0275fac=function(Ae){return new(Ae||He)(l.LFG(se),l.LFG(l.R0b))},He.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function ae(He){return He.map(Ne=>Ne.split(",")).reduce((Ne,Ae)=>Ne.concat(Ae)).map(Ne=>Ne.trim())}class le extends class di{constructor(Ne){this._items=Ne,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ee.x,this._typeaheadSubscription=te.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Ae=>Ae.disabled,this._pressedLetters=[],this.tabOut=new ee.x,this.change=new ee.x,Ne instanceof l.n_E&&Ne.changes.subscribe(Ae=>{if(this._activeItem){const Re=Ae.toArray().indexOf(this._activeItem);Re>-1&&Re!==this._activeItemIndex&&(this._activeItemIndex=Re)}})}skipPredicate(Ne){return this._skipPredicateFn=Ne,this}withWrap(Ne=!0){return this._wrap=Ne,this}withVerticalOrientation(Ne=!0){return this._vertical=Ne,this}withHorizontalOrientation(Ne){return this._horizontal=Ne,this}withAllowedModifierKeys(Ne){return this._allowedModifierKeys=Ne,this}withTypeAhead(Ne=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,$.b)(Ae=>this._pressedLetters.push(Ae)),(0,j.b)(Ne),(0,Y.h)(()=>this._pressedLetters.length>0),(0,Q.U)(()=>this._pressedLetters.join(""))).subscribe(Ae=>{const We=this._getItemsArray();for(let Re=1;Re<We.length+1;Re++){const Pe=(this._activeItemIndex+Re)%We.length,wt=We[Pe];if(!this._skipPredicateFn(wt)&&0===wt.getLabel().toUpperCase().trim().indexOf(Ae)){this.setActiveItem(Pe);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Ne=!0){return this._homeAndEnd=Ne,this}setActiveItem(Ne){const Ae=this._activeItem;this.updateActiveItem(Ne),this._activeItem!==Ae&&this.change.next(this._activeItemIndex)}onKeydown(Ne){const Ae=Ne.keyCode,Re=["altKey","ctrlKey","metaKey","shiftKey"].every(Pe=>!Ne[Pe]||this._allowedModifierKeys.indexOf(Pe)>-1);switch(Ae){case H.Mf:return void this.tabOut.next();case H.JH:if(this._vertical&&Re){this.setNextItemActive();break}return;case H.LH:if(this._vertical&&Re){this.setPreviousItemActive();break}return;case H.SV:if(this._horizontal&&Re){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case H.oh:if(this._horizontal&&Re){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case H.Sd:if(this._homeAndEnd&&Re){this.setFirstItemActive();break}return;case H.uR:if(this._homeAndEnd&&Re){this.setLastItemActive();break}return;default:return void((Re||(0,H.Vb)(Ne,"shiftKey"))&&(Ne.key&&1===Ne.key.length?this._letterKeyStream.next(Ne.key.toLocaleUpperCase()):(Ae>=H.A&&Ae<=H.Z||Ae>=H.xE&&Ae<=H.aO)&&this._letterKeyStream.next(String.fromCharCode(Ae))))}this._pressedLetters=[],Ne.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ne){const Ae=this._getItemsArray(),We="number"==typeof Ne?Ne:Ae.indexOf(Ne);this._activeItem=Ae[We]??null,this._activeItemIndex=We}_setActiveItemByDelta(Ne){this._wrap?this._setActiveInWrapMode(Ne):this._setActiveInDefaultMode(Ne)}_setActiveInWrapMode(Ne){const Ae=this._getItemsArray();for(let We=1;We<=Ae.length;We++){const Re=(this._activeItemIndex+Ne*We+Ae.length)%Ae.length;if(!this._skipPredicateFn(Ae[Re]))return void this.setActiveItem(Re)}}_setActiveInDefaultMode(Ne){this._setActiveItemByIndex(this._activeItemIndex+Ne,Ne)}_setActiveItemByIndex(Ne,Ae){const We=this._getItemsArray();if(We[Ne]){for(;this._skipPredicateFn(We[Ne]);)if(!We[Ne+=Ae])return;this.setActiveItem(Ne)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ne){return this._origin=Ne,this}setActiveItem(Ne){super.setActiveItem(Ne),this.activeItem&&this.activeItem.focus(this._origin)}}function Qn(He){return 0===He.buttons||0===He.offsetX&&0===He.offsetY}function zi(He){const Ne=He.touches&&He.touches[0]||He.changedTouches&&He.changedTouches[0];return!(!Ne||-1!==Ne.identifier||null!=Ne.radiusX&&1!==Ne.radiusX||null!=Ne.radiusY&&1!==Ne.radiusY)}const an=new l.OlP("cdk-input-modality-detector-options"),ft={ignoreKeys:[H.zL,H.jx,H.b2,H.MW,H.JU]},Ve=(0,x.i$)({passive:!0,capture:!0});let ot=(()=>{class He{constructor(Ae,We,Re,Pe){this._platform=Ae,this._mostRecentTarget=null,this._modality=new K.X(null),this._lastTouchMs=0,this._onKeydown=wt=>{this._options?.ignoreKeys?.some(Dn=>Dn===wt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,x.sA)(wt))},this._onMousedown=wt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Qn(wt)?"keyboard":"mouse"),this._mostRecentTarget=(0,x.sA)(wt))},this._onTouchstart=wt=>{zi(wt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,x.sA)(wt))},this._options={...ft,...Pe},this.modalityDetected=this._modality.pipe((0,ne.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Z.x)()),Ae.isBrowser&&We.runOutsideAngular(()=>{Re.addEventListener("keydown",this._onKeydown,Ve),Re.addEventListener("mousedown",this._onMousedown,Ve),Re.addEventListener("touchstart",this._onTouchstart,Ve)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ve),document.removeEventListener("mousedown",this._onMousedown,Ve),document.removeEventListener("touchstart",this._onTouchstart,Ve))}}return He.\u0275fac=function(Ae){return new(Ae||He)(l.LFG(x.t4),l.LFG(l.R0b),l.LFG(v.K0),l.LFG(an,8))},He.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const Qt=new l.OlP("cdk-focus-monitor-default-options"),Ut=(0,x.i$)({passive:!0,capture:!0});let gn=(()=>{class He{constructor(Ae,We,Re,Pe,wt){this._ngZone=Ae,this._platform=We,this._inputModalityDetector=Re,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ee.x,this._rootNodeFocusAndBlurListener=Dn=>{for(let ii=(0,x.sA)(Dn);ii;ii=ii.parentElement)"focus"===Dn.type?this._onFocus(Dn,ii):this._onBlur(Dn,ii)},this._document=Pe,this._detectionMode=wt?.detectionMode||0}monitor(Ae,We=!1){const Re=(0,De.fI)(Ae);if(!this._platform.isBrowser||1!==Re.nodeType)return(0,R.of)(null);const Pe=(0,x.kV)(Re)||this._getDocument(),wt=this._elementInfo.get(Re);if(wt)return We&&(wt.checkChildren=!0),wt.subject;const Dn={checkChildren:We,subject:new ee.x,rootNode:Pe};return this._elementInfo.set(Re,Dn),this._registerGlobalListeners(Dn),Dn.subject}stopMonitoring(Ae){const We=(0,De.fI)(Ae),Re=this._elementInfo.get(We);Re&&(Re.subject.complete(),this._setClasses(We),this._elementInfo.delete(We),this._removeGlobalListeners(Re))}focusVia(Ae,We,Re){const Pe=(0,De.fI)(Ae);Pe===this._getDocument().activeElement?this._getClosestElementsInfo(Pe).forEach(([Dn,fi])=>this._originChanged(Dn,We,fi)):(this._setOrigin(We),"function"==typeof Pe.focus&&Pe.focus(Re))}ngOnDestroy(){this._elementInfo.forEach((Ae,We)=>this.stopMonitoring(We))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ae){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ae)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ae&&this._isLastInteractionFromInputLabel(Ae)?"mouse":"program"}_shouldBeAttributedToTouch(Ae){return 1===this._detectionMode||!!Ae?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ae,We){Ae.classList.toggle("cdk-focused",!!We),Ae.classList.toggle("cdk-touch-focused","touch"===We),Ae.classList.toggle("cdk-keyboard-focused","keyboard"===We),Ae.classList.toggle("cdk-mouse-focused","mouse"===We),Ae.classList.toggle("cdk-program-focused","program"===We)}_setOrigin(Ae,We=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ae,this._originFromTouchInteraction="touch"===Ae&&We,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ae,We){const Re=this._elementInfo.get(We),Pe=(0,x.sA)(Ae);!Re||!Re.checkChildren&&We!==Pe||this._originChanged(We,this._getFocusOrigin(Pe),Re)}_onBlur(Ae,We){const Re=this._elementInfo.get(We);!Re||Re.checkChildren&&Ae.relatedTarget instanceof Node&&We.contains(Ae.relatedTarget)||(this._setClasses(We),this._emitOrigin(Re,null))}_emitOrigin(Ae,We){Ae.subject.observers.length&&this._ngZone.run(()=>Ae.subject.next(We))}_registerGlobalListeners(Ae){if(!this._platform.isBrowser)return;const We=Ae.rootNode,Re=this._rootNodeFocusListenerCount.get(We)||0;Re||this._ngZone.runOutsideAngular(()=>{We.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ut),We.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ut)}),this._rootNodeFocusListenerCount.set(We,Re+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,J.R)(this._stopInputModalityDetector)).subscribe(Pe=>{this._setOrigin(Pe,!0)}))}_removeGlobalListeners(Ae){const We=Ae.rootNode;if(this._rootNodeFocusListenerCount.has(We)){const Re=this._rootNodeFocusListenerCount.get(We);Re>1?this._rootNodeFocusListenerCount.set(We,Re-1):(We.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ut),We.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ut),this._rootNodeFocusListenerCount.delete(We))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ae,We,Re){this._setClasses(Ae,We),this._emitOrigin(Re,We),this._lastFocusOrigin=We}_getClosestElementsInfo(Ae){const We=[];return this._elementInfo.forEach((Re,Pe)=>{(Pe===Ae||Re.checkChildren&&Pe.contains(Ae))&&We.push([Pe,Re])}),We}_isLastInteractionFromInputLabel(Ae){const{_mostRecentTarget:We,mostRecentModality:Re}=this._inputModalityDetector;if("mouse"!==Re||!We||We===Ae||"INPUT"!==Ae.nodeName&&"TEXTAREA"!==Ae.nodeName||Ae.disabled)return!1;const Pe=Ae.labels;if(Pe)for(let wt=0;wt<Pe.length;wt++)if(Pe[wt].contains(We))return!0;return!1}}return He.\u0275fac=function(Ae){return new(Ae||He)(l.LFG(l.R0b),l.LFG(x.t4),l.LFG(ot),l.LFG(v.K0,8),l.LFG(Qt,8))},He.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const Me="cdk-high-contrast-black-on-white",Be="cdk-high-contrast-white-on-black",st="cdk-high-contrast-active";let $e=(()=>{class He{constructor(Ae,We){this._platform=Ae,this._document=We,this._breakpointSubscription=(0,l.f3M)(re).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ae=this._document.createElement("div");Ae.style.backgroundColor="rgb(1,2,3)",Ae.style.position="absolute",this._document.body.appendChild(Ae);const We=this._document.defaultView||window,Re=We&&We.getComputedStyle?We.getComputedStyle(Ae):null,Pe=(Re&&Re.backgroundColor||"").replace(/ /g,"");switch(Ae.remove(),Pe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ae=this._document.body.classList;Ae.remove(st,Me,Be),this._hasCheckedHighContrastMode=!0;const We=this.getHighContrastMode();1===We?Ae.add(st,Me):2===We&&Ae.add(st,Be)}}}return He.\u0275fac=function(Ae){return new(Ae||He)(l.LFG(x.t4),l.LFG(v.K0))},He.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})()},445:(je,we,I)=>{"use strict";I.d(we,{Is:()=>R,vT:()=>$});var v=I(4650),l=I(6895);const x=new v.OlP("cdk-dir-doc",{providedIn:"root",factory:function ee(){return(0,v.f3M)(l.K0)}}),te=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let R=(()=>{class j{constructor(Q){if(this.value="ltr",this.change=new v.vpe,Q){const Z=Q.documentElement?Q.documentElement.dir:null;this.value=function K(j){const Y=j?.toLowerCase()||"";return"auto"===Y&&typeof navigator<"u"&&navigator?.language?te.test(navigator.language)?"rtl":"ltr":"rtl"===Y?"rtl":"ltr"}((Q.body?Q.body.dir:null)||Z||"ltr")}}ngOnDestroy(){this.change.complete()}}return j.\u0275fac=function(Q){return new(Q||j)(v.LFG(x,8))},j.\u0275prov=v.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),$=(()=>{class j{}return j.\u0275fac=function(Q){return new(Q||j)},j.\u0275mod=v.oAB({type:j}),j.\u0275inj=v.cJS({}),j})()},1281:(je,we,I)=>{"use strict";I.d(we,{Eq:()=>te,HM:()=>K,Ig:()=>l,fI:()=>R,su:()=>x});var v=I(4650);function l($){return null!=$&&"false"!=`${$}`}function x($,j=0){return function ee($){return!isNaN(parseFloat($))&&!isNaN(Number($))}($)?Number($):j}function te($){return Array.isArray($)?$:[$]}function K($){return null==$?"":"string"==typeof $?$:`${$}px`}function R($){return $ instanceof v.SBq?$.nativeElement:$}},9521:(je,we,I)=>{"use strict";I.d(we,{A:()=>Bn,JH:()=>z,JU:()=>K,K5:()=>te,Ku:()=>ne,LH:()=>W,L_:()=>Q,MW:()=>Vn,Mf:()=>x,SV:()=>_e,Sd:()=>De,VM:()=>Z,Vb:()=>Ur,Z:()=>Ht,aO:()=>Ct,b2:()=>fs,hY:()=>Y,jx:()=>R,oh:()=>Ce,uR:()=>J,xE:()=>se,zL:()=>H});const x=9,te=13,K=16,R=17,H=18,Y=27,Q=32,ne=33,Z=34,J=35,De=36,Ce=37,W=38,_e=39,z=40,se=48,Ct=57,Bn=65,Ht=90,Vn=91,fs=224;function Ur(gi,...Ar){return Ar.length?Ar.some(pi=>gi[pi]):gi.altKey||gi.shiftKey||gi.ctrlKey||gi.metaKey}},3353:(je,we,I)=>{"use strict";I.d(we,{Mq:()=>Z,Oy:()=>P,i$:()=>Y,kV:()=>W,qK:()=>H,sA:()=>z,t4:()=>ee});var v=I(4650),l=I(6895);let x;try{x=typeof Intl<"u"&&Intl.v8BreakIterator}catch{x=!1}let K,ee=(()=>{class N{constructor(ye){this._platformId=ye,this.isBrowser=this._platformId?(0,l.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!x)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return N.\u0275fac=function(ye){return new(ye||N)(v.LFG(v.Lbi))},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const R=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function H(){if(K)return K;if("object"!=typeof document||!document)return K=new Set(R),K;let N=document.createElement("input");return K=new Set(R.filter(q=>(N.setAttribute("type",q),N.type===q))),K}let $,ne,De;function Y(N){return function j(){if(null==$&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$=!0}))}finally{$=$||!1}return $}()?N:!!N.capture}function Z(){if(null==ne){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ne=!1,ne;if("scrollBehavior"in document.documentElement.style)ne=!0;else{const N=Element.prototype.scrollTo;ne=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return ne}function W(N){if(function Ce(){if(null==De){const N=typeof document<"u"?document.head:null;De=!(!N||!N.createShadowRoot&&!N.attachShadow)}return De}()){const q=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&q instanceof ShadowRoot)return q}return null}function z(N){return N.composedPath?N.composedPath()[0]:N.target}function P(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(je,we,I)=>{"use strict";I.d(we,{Do:()=>z,EM:()=>ko,HT:()=>te,JF:()=>Po,K0:()=>R,Mx:()=>Pt,NF:()=>Ua,O5:()=>gi,Ov:()=>Nc,PC:()=>xc,PM:()=>_r,RF:()=>Vr,S$:()=>Ce,V_:()=>j,Ye:()=>P,b0:()=>_e,bD:()=>Ks,ez:()=>qs,mk:()=>en,n9:()=>la,q:()=>x,sg:()=>hs,tP:()=>No,uU:()=>sr,w_:()=>K});var v=I(4650);let l=null;function x(){return l}function te(A){l||(l=A)}class K{}const R=new v.OlP("DocumentToken");let H=(()=>{class A{historyGo(O){throw new Error("Not implemented")}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275prov=v.Yz7({token:A,factory:function(){return function $(){return(0,v.LFG)(Y)}()},providedIn:"platform"}),A})();const j=new v.OlP("Location Initialized");let Y=(()=>{class A extends H{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(O){const ue=x().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",O,!1),()=>ue.removeEventListener("popstate",O)}onHashChange(O){const ue=x().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",O,!1),()=>ue.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,ue,xe){Q()?this._history.pushState(O,ue,xe):this.location.hash=xe}replaceState(O,ue,xe){Q()?this._history.replaceState(O,ue,xe):this.location.hash=xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return A.\u0275fac=function(O){return new(O||A)(v.LFG(R))},A.\u0275prov=v.Yz7({token:A,factory:function(){return function ne(){return new Y((0,v.LFG)(R))}()},providedIn:"platform"}),A})();function Q(){return!!window.history.pushState}function Z(A,G){if(0==A.length)return G;if(0==G.length)return A;let O=0;return A.endsWith("/")&&O++,G.startsWith("/")&&O++,2==O?A+G.substring(1):1==O?A+G:A+"/"+G}function J(A){const G=A.match(/#|\?|$/),O=G&&G.index||A.length;return A.slice(0,O-("/"===A[O-1]?1:0))+A.slice(O)}function De(A){return A&&"?"!==A[0]?"?"+A:A}let Ce=(()=>{class A{historyGo(O){throw new Error("Not implemented")}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275prov=v.Yz7({token:A,factory:function(){return(0,v.f3M)(_e)},providedIn:"root"}),A})();const W=new v.OlP("appBaseHref");let _e=(()=>{class A extends Ce{constructor(O,ue){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=ue??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(R).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Z(this._baseHref,O)}path(O=!1){const ue=this._platformLocation.pathname+De(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&O?`${ue}${xe}`:ue}pushState(O,ue,xe,Ye){const nt=this.prepareExternalUrl(xe+De(Ye));this._platformLocation.pushState(O,ue,nt)}replaceState(O,ue,xe,Ye){const nt=this.prepareExternalUrl(xe+De(Ye));this._platformLocation.replaceState(O,ue,nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return A.\u0275fac=function(O){return new(O||A)(v.LFG(H),v.LFG(W,8))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),z=(()=>{class A extends Ce{constructor(O,ue){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl(O){const ue=Z(this._baseHref,O);return ue.length>0?"#"+ue:ue}pushState(O,ue,xe,Ye){let nt=this.prepareExternalUrl(xe+De(Ye));0==nt.length&&(nt=this._platformLocation.pathname),this._platformLocation.pushState(O,ue,nt)}replaceState(O,ue,xe,Ye){let nt=this.prepareExternalUrl(xe+De(Ye));0==nt.length&&(nt=this._platformLocation.pathname),this._platformLocation.replaceState(O,ue,nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return A.\u0275fac=function(O){return new(O||A)(v.LFG(H),v.LFG(W,8))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac}),A})(),P=(()=>{class A{constructor(O){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const ue=this._locationStrategy.getBaseHref();this._baseHref=J(ye(ue)),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,ue=""){return this.path()==this.normalize(O+De(ue))}normalize(O){return A.stripTrailingSlash(function q(A,G){return A&&G.startsWith(A)?G.substring(A.length):G}(this._baseHref,ye(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,ue="",xe=null){this._locationStrategy.pushState(xe,"",O,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+De(ue)),xe)}replaceState(O,ue="",xe=null){this._locationStrategy.replaceState(xe,"",O,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+De(ue)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)})),()=>{const ue=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(ue,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",ue){this._urlChangeListeners.forEach(xe=>xe(O,ue))}subscribe(O,ue,xe){return this._subject.subscribe({next:O,error:ue,complete:xe})}}return A.normalizeQueryParams=De,A.joinWithSlash=Z,A.stripTrailingSlash=J,A.\u0275fac=function(O){return new(O||A)(v.LFG(Ce))},A.\u0275prov=v.Yz7({token:A,factory:function(){return function N(){return new P((0,v.LFG)(Ce))}()},providedIn:"root"}),A})();function ye(A){return A.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Format=0]="Format",re[re.Standalone=1]="Standalone",re))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),fe=(()=>((fe=fe||{})[fe.Short=0]="Short",fe[fe.Medium=1]="Medium",fe[fe.Long=2]="Long",fe[fe.Full=3]="Full",fe))(),Se=(()=>((Se=Se||{})[Se.Decimal=0]="Decimal",Se[Se.Group=1]="Group",Se[Se.List=2]="List",Se[Se.PercentSign=3]="PercentSign",Se[Se.PlusSign=4]="PlusSign",Se[Se.MinusSign=5]="MinusSign",Se[Se.Exponential=6]="Exponential",Se[Se.SuperscriptingExponent=7]="SuperscriptingExponent",Se[Se.PerMille=8]="PerMille",Se[Se.Infinity=9]="Infinity",Se[Se.NaN=10]="NaN",Se[Se.TimeSeparator=11]="TimeSeparator",Se[Se.CurrencyDecimal=12]="CurrencyDecimal",Se[Se.CurrencyGroup=13]="CurrencyGroup",Se))();function In(A,G){return k((0,v.cg1)(A)[v.wAp.DateFormat],G)}function An(A,G){return k((0,v.cg1)(A)[v.wAp.TimeFormat],G)}function di(A,G){return k((0,v.cg1)(A)[v.wAp.DateTimeFormat],G)}function pe(A,G){const O=(0,v.cg1)(A),ue=O[v.wAp.NumberSymbols][G];if(typeof ue>"u"){if(G===Se.CurrencyDecimal)return O[v.wAp.NumberSymbols][Se.Decimal];if(G===Se.CurrencyGroup)return O[v.wAp.NumberSymbols][Se.Group]}return ue}function Un(A){if(!A[v.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[v.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function k(A,G){for(let O=G;O>-1;O--)if(typeof A[O]<"u")return A[O];throw new Error("Locale data API: locale data undefined")}function Ee(A){const[G,O]=A.split(":");return{hours:+G,minutes:+O}}const pn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rn={},cn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yn=(()=>((yn=yn||{})[yn.Short=0]="Short",yn[yn.ShortGMT=1]="ShortGMT",yn[yn.Long=2]="Long",yn[yn.Extended=3]="Extended",yn))(),Nt=(()=>((Nt=Nt||{})[Nt.FullYear=0]="FullYear",Nt[Nt.Month=1]="Month",Nt[Nt.Date=2]="Date",Nt[Nt.Hours=3]="Hours",Nt[Nt.Minutes=4]="Minutes",Nt[Nt.Seconds=5]="Seconds",Nt[Nt.FractionalSeconds=6]="FractionalSeconds",Nt[Nt.Day=7]="Day",Nt))(),Ht=(()=>((Ht=Ht||{})[Ht.DayPeriods=0]="DayPeriods",Ht[Ht.Days=1]="Days",Ht[Ht.Months=2]="Months",Ht[Ht.Eras=3]="Eras",Ht))();function Vn(A,G,O,ue){let xe=function At(A){if(Ne(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[xe,Ye=1,nt=1]=A.split("-").map(Rt=>+Rt);return vi(xe,Ye-1,nt)}const O=parseFloat(A);if(!isNaN(A-O))return new Date(O);let ue;if(ue=A.match(pn))return function He(A){const G=new Date(0);let O=0,ue=0;const xe=A[8]?G.setUTCFullYear:G.setFullYear,Ye=A[8]?G.setUTCHours:G.setHours;A[9]&&(O=Number(A[9]+A[10]),ue=Number(A[9]+A[11])),xe.call(G,Number(A[1]),Number(A[2])-1,Number(A[3]));const nt=Number(A[4]||0)-O,Rt=Number(A[5]||0)-ue,Fn=Number(A[6]||0),Xn=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return Ye.call(G,nt,Rt,Fn,Xn),G}(ue)}const G=new Date(A);if(!Ne(G))throw new Error(`Unable to convert "${A}" into a date`);return G}(A);G=Qn(O,G)||G;let Rt,nt=[];for(;G;){if(Rt=cn.exec(G),!Rt){nt.push(G);break}{nt=nt.concat(Rt.slice(1));const Jn=nt.pop();if(!Jn)break;G=Jn}}let Fn=xe.getTimezoneOffset();ue&&(Fn=Be(ue,Fn),xe=function $e(A,G,O){const ue=O?-1:1,xe=A.getTimezoneOffset();return function st(A,G){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+G),A}(A,ue*(Be(G,xe)-xe))}(xe,ue,!0));let Xn="";return nt.forEach(Jn=>{const Hn=function Me(A){if(Oe[A])return Oe[A];let G;switch(A){case"G":case"GG":case"GGG":G=ot(Ht.Eras,ae.Abbreviated);break;case"GGGG":G=ot(Ht.Eras,ae.Wide);break;case"GGGGG":G=ot(Ht.Eras,ae.Narrow);break;case"y":G=ke(Nt.FullYear,1,0,!1,!0);break;case"yy":G=ke(Nt.FullYear,2,0,!0,!0);break;case"yyy":G=ke(Nt.FullYear,3,0,!1,!0);break;case"yyyy":G=ke(Nt.FullYear,4,0,!1,!0);break;case"Y":G=gn(1);break;case"YY":G=gn(2,!0);break;case"YYY":G=gn(3);break;case"YYYY":G=gn(4);break;case"M":case"L":G=ke(Nt.Month,1,1);break;case"MM":case"LL":G=ke(Nt.Month,2,1);break;case"MMM":G=ot(Ht.Months,ae.Abbreviated);break;case"MMMM":G=ot(Ht.Months,ae.Wide);break;case"MMMMM":G=ot(Ht.Months,ae.Narrow);break;case"LLL":G=ot(Ht.Months,ae.Abbreviated,re.Standalone);break;case"LLLL":G=ot(Ht.Months,ae.Wide,re.Standalone);break;case"LLLLL":G=ot(Ht.Months,ae.Narrow,re.Standalone);break;case"w":G=Ut(1);break;case"ww":G=Ut(2);break;case"W":G=Ut(1,!0);break;case"d":G=ke(Nt.Date,1);break;case"dd":G=ke(Nt.Date,2);break;case"c":case"cc":G=ke(Nt.Day,1);break;case"ccc":G=ot(Ht.Days,ae.Abbreviated,re.Standalone);break;case"cccc":G=ot(Ht.Days,ae.Wide,re.Standalone);break;case"ccccc":G=ot(Ht.Days,ae.Narrow,re.Standalone);break;case"cccccc":G=ot(Ht.Days,ae.Short,re.Standalone);break;case"E":case"EE":case"EEE":G=ot(Ht.Days,ae.Abbreviated);break;case"EEEE":G=ot(Ht.Days,ae.Wide);break;case"EEEEE":G=ot(Ht.Days,ae.Narrow);break;case"EEEEEE":G=ot(Ht.Days,ae.Short);break;case"a":case"aa":case"aaa":G=ot(Ht.DayPeriods,ae.Abbreviated);break;case"aaaa":G=ot(Ht.DayPeriods,ae.Wide);break;case"aaaaa":G=ot(Ht.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":G=ot(Ht.DayPeriods,ae.Abbreviated,re.Standalone,!0);break;case"bbbb":G=ot(Ht.DayPeriods,ae.Wide,re.Standalone,!0);break;case"bbbbb":G=ot(Ht.DayPeriods,ae.Narrow,re.Standalone,!0);break;case"B":case"BB":case"BBB":G=ot(Ht.DayPeriods,ae.Abbreviated,re.Format,!0);break;case"BBBB":G=ot(Ht.DayPeriods,ae.Wide,re.Format,!0);break;case"BBBBB":G=ot(Ht.DayPeriods,ae.Narrow,re.Format,!0);break;case"h":G=ke(Nt.Hours,1,-12);break;case"hh":G=ke(Nt.Hours,2,-12);break;case"H":G=ke(Nt.Hours,1);break;case"HH":G=ke(Nt.Hours,2);break;case"m":G=ke(Nt.Minutes,1);break;case"mm":G=ke(Nt.Minutes,2);break;case"s":G=ke(Nt.Seconds,1);break;case"ss":G=ke(Nt.Seconds,2);break;case"S":G=ke(Nt.FractionalSeconds,1);break;case"SS":G=ke(Nt.FractionalSeconds,2);break;case"SSS":G=ke(Nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":G=Gn(yn.Short);break;case"ZZZZZ":G=Gn(yn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":G=Gn(yn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":G=Gn(yn.Long);break;default:return null}return Oe[A]=G,G}(Jn);Xn+=Hn?Hn(xe,O,Fn):"''"===Jn?"'":Jn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xn}function vi(A,G,O){const ue=new Date(0);return ue.setFullYear(A,G,O),ue.setHours(0,0,0),ue}function Qn(A,G){const O=function qe(A){return(0,v.cg1)(A)[v.wAp.LocaleId]}(A);if(rn[O]=rn[O]||{},rn[O][G])return rn[O][G];let ue="";switch(G){case"shortDate":ue=In(A,fe.Short);break;case"mediumDate":ue=In(A,fe.Medium);break;case"longDate":ue=In(A,fe.Long);break;case"fullDate":ue=In(A,fe.Full);break;case"shortTime":ue=An(A,fe.Short);break;case"mediumTime":ue=An(A,fe.Medium);break;case"longTime":ue=An(A,fe.Long);break;case"fullTime":ue=An(A,fe.Full);break;case"short":const xe=Qn(A,"shortTime"),Ye=Qn(A,"shortDate");ue=zi(di(A,fe.Short),[xe,Ye]);break;case"medium":const nt=Qn(A,"mediumTime"),Rt=Qn(A,"mediumDate");ue=zi(di(A,fe.Medium),[nt,Rt]);break;case"long":const Fn=Qn(A,"longTime"),Xn=Qn(A,"longDate");ue=zi(di(A,fe.Long),[Fn,Xn]);break;case"full":const Jn=Qn(A,"fullTime"),Hn=Qn(A,"fullDate");ue=zi(di(A,fe.Full),[Jn,Hn])}return ue&&(rn[O][G]=ue),ue}function zi(A,G){return G&&(A=A.replace(/\{([^}]+)}/g,function(O,ue){return null!=G&&ue in G?G[ue]:O})),A}function an(A,G,O="-",ue,xe){let Ye="";(A<0||xe&&A<=0)&&(xe?A=1-A:(A=-A,Ye=O));let nt=String(A);for(;nt.length<G;)nt="0"+nt;return ue&&(nt=nt.slice(nt.length-G)),Ye+nt}function ke(A,G,O=0,ue=!1,xe=!1){return function(Ye,nt){let Rt=function Ve(A,G){switch(A){case Nt.FullYear:return G.getFullYear();case Nt.Month:return G.getMonth();case Nt.Date:return G.getDate();case Nt.Hours:return G.getHours();case Nt.Minutes:return G.getMinutes();case Nt.Seconds:return G.getSeconds();case Nt.FractionalSeconds:return G.getMilliseconds();case Nt.Day:return G.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,Ye);if((O>0||Rt>-O)&&(Rt+=O),A===Nt.Hours)0===Rt&&-12===O&&(Rt=12);else if(A===Nt.FractionalSeconds)return function ft(A,G){return an(A,3).substring(0,G)}(Rt,G);const Fn=pe(nt,Se.MinusSign);return an(Rt,G,Fn,ue,xe)}}function ot(A,G,O=re.Format,ue=!1){return function(xe,Ye){return function $t(A,G,O,ue,xe,Ye){switch(O){case Ht.Months:return function tn(A,G,O){const ue=(0,v.cg1)(A),Ye=k([ue[v.wAp.MonthsFormat],ue[v.wAp.MonthsStandalone]],G);return k(Ye,O)}(G,xe,ue)[A.getMonth()];case Ht.Days:return function kt(A,G,O){const ue=(0,v.cg1)(A),Ye=k([ue[v.wAp.DaysFormat],ue[v.wAp.DaysStandalone]],G);return k(Ye,O)}(G,xe,ue)[A.getDay()];case Ht.DayPeriods:const nt=A.getHours(),Rt=A.getMinutes();if(Ye){const Xn=function Yn(A){const G=(0,v.cg1)(A);return Un(G),(G[v.wAp.ExtraData][2]||[]).map(ue=>"string"==typeof ue?Ee(ue):[Ee(ue[0]),Ee(ue[1])])}(G),Jn=function ve(A,G,O){const ue=(0,v.cg1)(A);Un(ue);const Ye=k([ue[v.wAp.ExtraData][0],ue[v.wAp.ExtraData][1]],G)||[];return k(Ye,O)||[]}(G,xe,ue),Hn=Xn.findIndex(Ti=>{if(Array.isArray(Ti)){const[oi,Ni]=Ti,gs=nt>=oi.hours&&Rt>=oi.minutes,ms=nt<Ni.hours||nt===Ni.hours&&Rt<Ni.minutes;if(oi.hours<Ni.hours){if(gs&&ms)return!0}else if(gs||ms)return!0}else if(Ti.hours===nt&&Ti.minutes===Rt)return!0;return!1});if(-1!==Hn)return Jn[Hn]}return function Ct(A,G,O){const ue=(0,v.cg1)(A),Ye=k([ue[v.wAp.DayPeriodsFormat],ue[v.wAp.DayPeriodsStandalone]],G);return k(Ye,O)}(G,xe,ue)[nt<12?0:1];case Ht.Eras:return function _t(A,G){return k((0,v.cg1)(A)[v.wAp.Eras],G)}(G,ue)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${O}`)}}(xe,Ye,A,G,O,ue)}}function Gn(A){return function(G,O,ue){const xe=-1*ue,Ye=pe(O,Se.MinusSign),nt=xe>0?Math.floor(xe/60):Math.ceil(xe/60);switch(A){case yn.Short:return(xe>=0?"+":"")+an(nt,2,Ye)+an(Math.abs(xe%60),2,Ye);case yn.ShortGMT:return"GMT"+(xe>=0?"+":"")+an(nt,1,Ye);case yn.Long:return"GMT"+(xe>=0?"+":"")+an(nt,2,Ye)+":"+an(Math.abs(xe%60),2,Ye);case yn.Extended:return 0===ue?"Z":(xe>=0?"+":"")+an(nt,2,Ye)+":"+an(Math.abs(xe%60),2,Ye);default:throw new Error(`Unknown zone width "${A}"`)}}}function Qt(A){return vi(A.getFullYear(),A.getMonth(),A.getDate()+(4-A.getDay()))}function Ut(A,G=!1){return function(O,ue){let xe;if(G){const Ye=new Date(O.getFullYear(),O.getMonth(),1).getDay()-1,nt=O.getDate();xe=1+Math.floor((nt+Ye)/7)}else{const Ye=Qt(O),nt=function Bt(A){const G=vi(A,0,1).getDay();return vi(A,0,1+(G<=4?4:11)-G)}(Ye.getFullYear()),Rt=Ye.getTime()-nt.getTime();xe=1+Math.round(Rt/6048e5)}return an(xe,A,pe(ue,Se.MinusSign))}}function gn(A,G=!1){return function(O,ue){return an(Qt(O).getFullYear(),A,pe(ue,Se.MinusSign),G)}}const Oe={};function Be(A,G){A=A.replace(/:/g,"");const O=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(O)?G:O}function Ne(A){return A instanceof Date&&!isNaN(A.valueOf())}function Pt(A,G){G=encodeURIComponent(G);for(const O of A.split(";")){const ue=O.indexOf("="),[xe,Ye]=-1==ue?[O,""]:[O.slice(0,ue),O.slice(ue+1)];if(xe.trim()===G)return decodeURIComponent(Ye)}return null}let en=(()=>{class A{constructor(O,ue,xe,Ye){this._iterableDiffers=O,this._keyValueDiffers=ue,this._ngEl=xe,this._renderer=Ye,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,v.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),O.forEachChangedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),O.forEachRemovedItem(ue=>{ue.previousValue&&this._toggleClass(ue.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(ue=>{if("string"!=typeof ue.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,v.AaK)(ue.item)}`);this._toggleClass(ue.item,!0)}),O.forEachRemovedItem(ue=>this._toggleClass(ue.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(ue=>this._toggleClass(ue,!0)):Object.keys(O).forEach(ue=>this._toggleClass(ue,!!O[ue])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(ue=>this._toggleClass(ue,!1)):Object.keys(O).forEach(ue=>this._toggleClass(ue,!1)))}_toggleClass(O,ue){(O=O.trim())&&O.split(/\s+/g).forEach(xe=>{ue?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class Si{constructor(G,O,ue,xe){this.$implicit=G,this.ngForOf=O,this.index=ue,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hs=(()=>{class A{constructor(O,ue,xe){this._viewContainer=O,this._template=ue,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const ue=this._viewContainer;O.forEachOperation((xe,Ye,nt)=>{if(null==xe.previousIndex)ue.createEmbeddedView(this._template,new Si(xe.item,this._ngForOf,-1,-1),null===nt?void 0:nt);else if(null==nt)ue.remove(null===Ye?void 0:Ye);else if(null!==Ye){const Rt=ue.get(Ye);ue.move(Rt,nt),fs(Rt,xe)}});for(let xe=0,Ye=ue.length;xe<Ye;xe++){const Rt=ue.get(xe).context;Rt.index=xe,Rt.count=Ye,Rt.ngForOf=this._ngForOf}O.forEachIdentityChange(xe=>{fs(ue.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(O,ue){return!0}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function fs(A,G){A.context.$implicit=G.item}let gi=(()=>{class A{constructor(O,ue){this._viewContainer=O,this._context=new Ar,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){pi("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){pi("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,ue){return!0}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.s_b),v.Y36(v.Rgc))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class Ar{constructor(){this.$implicit=null,this.ngIf=null}}function pi(A,G){if(G&&!G.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,v.AaK)(G)}'.`)}class Wn{constructor(G,O){this._viewContainerRef=G,this._templateRef=O,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(G){G&&!this._created?this.create():!G&&this._created&&this.destroy()}}let Vr=(()=>{class A{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(O){this._ngSwitch=O,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(O){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(O)}_matchCase(O){const ue=O==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ue,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ue}_updateDefaultCases(O){if(this._defaultViews&&O!==this._defaultUsed){this._defaultUsed=O;for(let ue=0;ue<this._defaultViews.length;ue++)this._defaultViews[ue].enforceState(O)}}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275dir=v.lG2({type:A,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),A})(),la=(()=>{class A{constructor(O,ue,xe){this.ngSwitch=xe,xe._addCase(),this._view=new Wn(O,ue)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(Vr,9))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),A})(),xc=(()=>{class A{constructor(O,ue,xe){this._ngEl=O,this._differs=ue,this._renderer=xe,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,ue){const[xe,Ye]=O.split("."),nt=-1===xe.indexOf("-")?void 0:v.JOm.DashCase;null!=ue?this._renderer.setStyle(this._ngEl.nativeElement,xe,Ye?`${ue}${Ye}`:ue,nt):this._renderer.removeStyle(this._ngEl.nativeElement,xe,nt)}_applyChanges(O){O.forEachRemovedItem(ue=>this._setStyle(ue.key,null)),O.forEachAddedItem(ue=>this._setStyle(ue.key,ue.currentValue)),O.forEachChangedItem(ue=>this._setStyle(ue.key,ue.currentValue))}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.SBq),v.Y36(v.aQg),v.Y36(v.Qsj))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),A})(),No=(()=>{class A{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(O.ngTemplateOutlet||O.ngTemplateOutletInjector){const ue=this._viewContainerRef;if(this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:xe,ngTemplateOutletContext:Ye,ngTemplateOutletInjector:nt}=this;this._viewRef=ue.createEmbeddedView(xe,Ye,nt?{injector:nt}:void 0)}else this._viewRef=null}else this._viewRef&&O.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.s_b))},A.\u0275dir=v.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.TTD]}),A})();function Yt(A,G){return new v.vHH(2100,!1)}class ua{createSubscription(G,O){return G.subscribe({next:O,error:ue=>{throw ue}})}dispose(G){G.unsubscribe()}}class sf{createSubscription(G,O){return G.then(O,ue=>{throw ue})}dispose(G){}}const Mr=new sf,af=new ua;let Nc=(()=>{class A{constructor(O){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=O}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,ue=>this._updateLatestValue(O,ue))}_selectStrategy(O){if((0,v.QGY)(O))return Mr;if((0,v.F4k)(O))return af;throw Yt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,ue){O===this._obj&&(this._latestValue=ue,this._ref.markForCheck())}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.sBO,16))},A.\u0275pipe=v.Yjl({name:"async",type:A,pure:!1,standalone:!0}),A})();const eg=new v.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let sr=(()=>{class A{constructor(O,ue){this.locale=O,this.defaultTimezone=ue}transform(O,ue="mediumDate",xe,Ye){if(null==O||""===O||O!=O)return null;try{return Vn(O,ue,Ye||this.locale,xe??this.defaultTimezone??void 0)}catch(nt){throw Yt()}}}return A.\u0275fac=function(O){return new(O||A)(v.Y36(v.soG,16),v.Y36(eg,24))},A.\u0275pipe=v.Yjl({name:"date",type:A,pure:!0,standalone:!0}),A})(),qs=(()=>{class A{}return A.\u0275fac=function(O){return new(O||A)},A.\u0275mod=v.oAB({type:A}),A.\u0275inj=v.cJS({}),A})();const Ks="browser";function Ua(A){return A===Ks}function _r(A){return"server"===A}let ko=(()=>{class A{}return A.\u0275prov=(0,v.Yz7)({token:A,providedIn:"root",factory:()=>new kd((0,v.LFG)(R),window)}),A})();class kd{constructor(G,O){this.document=G,this.window=O,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const O=function or(A,G){const O=A.getElementById(G)||A.getElementsByName(G)[0];if(O)return O;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const ue=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let xe=ue.currentNode;for(;xe;){const Ye=xe.shadowRoot;if(Ye){const nt=Ye.getElementById(G)||Ye.querySelector(`[name="${G}"]`);if(nt)return nt}xe=ue.nextNode()}}return null}(this.document,G);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=G)}}scrollToElement(G){const O=G.getBoundingClientRect(),ue=O.left+this.window.pageXOffset,xe=O.top+this.window.pageYOffset,Ye=this.offset();this.window.scrollTo(ue-Ye[0],xe-Ye[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xr(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Po{}},4650:(je,we,I)=>{"use strict";I.d(we,{$8M:()=>hf,$Z:()=>cb,AFp:()=>RI,ALo:()=>hv,AaK:()=>H,BQk:()=>Er,CHM:()=>go,CRH:()=>vI,CZH:()=>Iv,CqO:()=>Vy,D6c:()=>e_,EJc:()=>ok,EiD:()=>vr,EpF:()=>Db,F$t:()=>jy,F4k:()=>gl,FYo:()=>V,FiY:()=>xt,G48:()=>GI,Gf:()=>yI,GfV:()=>Tt,Gpc:()=>Y,Hsn:()=>oT,Ikx:()=>qy,JOm:()=>os,JVY:()=>mg,KtG:()=>Ys,L6k:()=>M0,LAX:()=>x0,LFG:()=>Vi,LMc:()=>ux,LSH:()=>Zd,Lbi:()=>VM,Lck:()=>JT,MAs:()=>tT,MGl:()=>rp,MMx:()=>yw,NdJ:()=>Hy,O4$:()=>Rt,OlP:()=>bi,Oqu:()=>bm,PXZ:()=>KM,Q6J:()=>ky,QGY:()=>Ih,QP$:()=>Ne,QbO:()=>jM,Qsj:()=>he,QtT:()=>ZT,R0b:()=>ka,RDi:()=>hg,Rgc:()=>Hh,SBq:()=>g,SDv:()=>nv,Sil:()=>FI,Suo:()=>vv,TTD:()=>zs,TgZ:()=>Fy,Tol:()=>_T,Udp:()=>xb,VKq:()=>nI,W1O:()=>Bw,WLB:()=>cv,X6Q:()=>JM,XFs:()=>k,Xpm:()=>ut,Xts:()=>Cg,Y36:()=>dl,YKP:()=>gw,YNc:()=>Cb,Yjl:()=>st,Yz7:()=>An,Z0I:()=>lt,ZZ4:()=>Fv,_Bn:()=>QT,_UZ:()=>Th,_Vd:()=>Yu,_c5:()=>QI,_uU:()=>Fb,aQg:()=>Lv,c2e:()=>PI,cJS:()=>pe,cg1:()=>Wb,dDg:()=>xv,dqk:()=>Vn,eBb:()=>UC,eFA:()=>jI,ekj:()=>Nb,eoX:()=>oE,f3M:()=>M,g9A:()=>kI,h0i:()=>_p,hGG:()=>JI,hij:()=>ap,iGM:()=>_I,ifc:()=>Ht,ip1:()=>Yw,jDz:()=>XT,kEZ:()=>uv,kL8:()=>ST,lG2:()=>Be,lcZ:()=>fv,lqb:()=>ks,lri:()=>UI,mCW:()=>yg,n5z:()=>df,n_E:()=>pv,oAB:()=>gn,oxw:()=>sT,pB0:()=>N0,pQV:()=>iv,q3G:()=>wi,q4F:()=>jt,qLn:()=>Bg,qOj:()=>cd,qZA:()=>Ly,qzn:()=>Gu,rWj:()=>Jm,s9C:()=>Gy,sBO:()=>XM,sIi:()=>gm,s_b:()=>du,soG:()=>Oa,tb:()=>HM,tp0:()=>un,uIk:()=>ri,vHH:()=>J,vpe:()=>mc,wAp:()=>hn,xi3:()=>dI,xp6:()=>eb,ynx:()=>By,z2F:()=>$h,z3N:()=>Wo,zSh:()=>Wu,zs3:()=>ch});var v=I(7579),l=I(727),x=I(9751),ee=I(6451),te=I(3099);function K(o){for(let a in o)if(o[a]===K)return a;throw Error("Could not find renamed property on target object.")}function R(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function H(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(H).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function $(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const j=K({__forward_ref__:K});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return H(this())},o}function Q(o){return ne(o)?o():o}function ne(o){return"function"==typeof o&&o.hasOwnProperty(j)&&o.__forward_ref__===Y}class J extends Error{constructor(a,u){super(function De(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function Ce(o){return"string"==typeof o?o:null==o?"":String(o)}function N(o,a){throw new J(-201,!1)}function _t(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}function An(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function pe(o){return{providers:o.providers||[],imports:o.imports||[]}}function le(o){return Ge(o,Un)||Ge(o,ve)}function lt(o){return null!==le(o)}function Ge(o,a){return o.hasOwnProperty(a)?o[a]:null}function wn(o){return o&&(o.hasOwnProperty(Yn)||o.hasOwnProperty(L))?o[Yn]:null}const Un=K({\u0275prov:K}),Yn=K({\u0275inj:K}),ve=K({ngInjectableDef:K}),L=K({ngInjectorDef:K});var k=(()=>((k=k||{})[k.Default=0]="Default",k[k.Host=1]="Host",k[k.Self=2]="Self",k[k.SkipSelf=4]="SkipSelf",k[k.Optional=8]="Optional",k))();let Ee;function at(o){const a=Ee;return Ee=o,a}function mt(o,a,u){const h=le(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&k.Optional?null:void 0!==a?a:void N(H(o))}function rn(o){return{toString:o}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),Ht=(()=>{return(o=Ht||(Ht={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ht;var o})();const Vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zi={},an=[],ft=K({\u0275cmp:K}),ke=K({\u0275dir:K}),Ve=K({\u0275pipe:K}),ot=K({\u0275mod:K}),$t=K({\u0275fac:K}),Gn=K({__NG_ELEMENT_ID__:K});let Ot=0;function ut(o){return rn(()=>{const u=!0===o.standalone,h={},p={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||an,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ht.Emulated,id:"c"+Ot++,styles:o.styles||an,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,w=o.features;return p.inputs=Me(o.inputs,h),p.outputs=Me(o.outputs),w&&w.forEach(D=>D(p)),p.directiveDefs=m?()=>("function"==typeof m?m():m).map(Qt).filter(Ut):null,p.pipeDefs=m?()=>("function"==typeof m?m():m).map(He).filter(Ut):null,p})}function Qt(o){return $e(o)||At(o)}function Ut(o){return null!==o}function gn(o){return rn(()=>({type:o.type,bootstrap:o.bootstrap||an,declarations:o.declarations||an,imports:o.imports||an,exports:o.exports||an,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Me(o,a){if(null==o)return zi;const u={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=h,a&&(a[p]=m)}return u}const Be=ut;function st(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function $e(o){return o[ft]||null}function At(o){return o[ke]||null}function He(o){return o[Ve]||null}function Ne(o){const a=$e(o)||At(o)||He(o);return null!==a&&a.standalone}function Ae(o,a){const u=o[ot]||null;if(!u&&!0===a)throw new Error(`Type ${H(o)} does not have '\u0275mod' property.`);return u}function pi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Wn(o){return Array.isArray(o)&&!0===o[1]}function Vr(o){return 0!=(8&o.flags)}function la(o){return 2==(2&o.flags)}function js(o){return 1==(1&o.flags)}function rr(o){return null!==o.template}function Du(o){return 0!=(256&o[2])}function Is(o,a){return o.hasOwnProperty($t)?o[$t]:null}class Ss{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function zs(){return fo}function fo(o){return o.type.prototype.ngOnChanges&&(o.setInput=Oo),da}function da(){const o=kn(this),a=o?.current;if(a){const u=o.previous;if(u===zi)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Oo(o,a,u,h){const p=kn(o)||function qs(o,a){return o[Ws]=a}(o,{previous:zi,current:null}),m=p.current||(p.current={}),w=p.previous,D=this.declaredInputs[u],S=w[D];m[D]=new Ss(S&&S.currentValue,a,w===zi),o[h]=a}zs.ngInherit=!0;const Ws="__ngSimpleChanges__";function kn(o){return o[Ws]||null}function Ai(o){for(;Array.isArray(o);)o=o[0];return o}function xr(o,a){return Ai(a[o])}function or(o,a){return Ai(a[o.index])}function Po(o,a){return o.data[a]}function Zs(o,a){return o[a]}function Kn(o,a){const u=a[o];return pi(u)?u:u[0]}function As(o){return 64==(64&o[2])}function ps(o,a){return null==a?null:o[a]}function kl(o){o[18]=0}function Mi(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const mn={lFrame:Uc(null),bindingsEnabled:!0};function po(){return mn.bindingsEnabled}function ht(){return mn.lFrame.lView}function Mn(){return mn.lFrame.tView}function go(o){return mn.lFrame.contextLView=o,o[8]}function Ys(o){return mn.lFrame.contextLView=null,o}function xi(){let o=$a();for(;null!==o&&64===o.type;)o=o.parent;return o}function $a(){return mn.lFrame.currentTNode}function Fo(){const o=mn.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function ar(o,a){const u=mn.lFrame;u.currentTNode=o,u.isParent=a}function za(){return mn.lFrame.isParent}function Wa(){mn.lFrame.isParent=!1}function ki(){const o=mn.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function mo(){return mn.lFrame.bindingIndex++}function xs(o){const a=mn.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Lo(o){mn.lFrame.inI18n=o}function fa(o,a){const u=mn.lFrame;u.bindingIndex=u.bindingRootIndex=o,qa(a)}function qa(o){mn.lFrame.currentDirectiveIndex=o}function Fc(){return mn.lFrame.currentQueryIndex}function Za(o){mn.lFrame.currentQueryIndex=o}function Lc(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Ul(o,a,u){if(u&k.SkipSelf){let p=a,m=o;for(;!(p=p.parent,null!==p||u&k.Host||(p=Lc(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;a=p,o=m}const h=mn.lFrame=Bc();return h.currentTNode=a,h.lView=o,!0}function Vl(o){const a=Bc(),u=o[1];mn.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Bc(){const o=mn.lFrame,a=null===o?null:o.child;return null===a?Uc(o):a}function Uc(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Vc(){const o=mn.lFrame;return mn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const A=Vc;function G(){const o=Vc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function xe(){return mn.lFrame.selectedIndex}function Ye(o){mn.lFrame.selectedIndex=o}function nt(){const o=mn.lFrame;return Po(o.tView,o.selectedIndex)}function Rt(){mn.lFrame.currentNamespace="svg"}function oi(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:D,ngAfterViewInit:S,ngAfterViewChecked:U,ngOnDestroy:ce}=m;w&&(o.contentHooks||(o.contentHooks=[])).push(-u,w),D&&((o.contentHooks||(o.contentHooks=[])).push(u,D),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,D)),S&&(o.viewHooks||(o.viewHooks=[])).push(-u,S),U&&((o.viewHooks||(o.viewHooks=[])).push(u,U),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,U)),null!=ce&&(o.destroyHooks||(o.destroyHooks=[])).push(u,ce)}}function Ni(o,a,u){es(o,a,3,u)}function gs(o,a,u,h){(3&o[2])===u&&es(o,a,u,h)}function ms(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function es(o,a,u,h){const m=h??-1,w=a.length-1;let D=0;for(let S=void 0!==h?65535&o[18]:0;S<w;S++)if("number"==typeof a[S+1]){if(D=a[S],null!=h&&D>=h)break}else a[S]<0&&(o[18]+=65536),(D<m||-1==m)&&(yo(o,u,a,S),o[18]=(4294901760&o[18])+S+2),S++}function yo(o,a,u,h){const p=u[h]<0,m=u[h+1],D=o[p?-u[h]:u[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(D)}finally{}}}else try{m.call(D)}finally{}}class _s{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function jc(o,a,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const m=u[h++],w=u[h++],D=u[h++];o.setAttribute(a,w,D,m)}else{const m=p,w=u[++h];Qa(m)?o.setProperty(a,m,w):o.setAttribute(a,m,w),h++}}return h}function Ya(o){return 3===o||4===o||6===o}function Qa(o){return 64===o.charCodeAt(0)}function Ja(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?u=p:0===u||xu(o,u,p,null,-1===u||2===u?a[++h]:null)}}return o}function xu(o,a,u,h,p){let m=0,w=o.length;if(-1===a)w=-1;else for(;m<o.length;){const D=o[m++];if("number"==typeof D){if(D===a){w=-1;break}if(D>a){w=m-1;break}}}for(;m<o.length;){const D=o[m];if("number"==typeof D)break;if(D===u){if(null===h)return void(null!==p&&(o[m+1]=p));if(h===o[m+1])return void(o[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==w&&(o.splice(w,0,a),m=w+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==p&&o.splice(m++,0,p)}function cf(o){return-1!==o}function yr(o){return 32767&o}function jl(o,a){let u=function Hl(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let Bo=!0;function Nu(o){const a=Bo;return Bo=o,a}let lr=0;const Ns={};function Uo(o,a){const u=Ru(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Nr(h.data,o),Nr(a,null),Nr(h.blueprint,null));const p=ma(o,a),m=o.injectorIndex;if(cf(p)){const w=yr(p),D=jl(p,a),S=D[1].data;for(let U=0;U<8;U++)a[m+U]=D[w+U]|S[w+U]}return a[m+8]=p,m}function Nr(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ru(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ma(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,p=a;for(;null!==p;){if(h=Pu(p),null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Xa(o,a,u){!function Ou(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Gn)&&(h=u[Gn]),null==h&&(h=u[Gn]=lr++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,u)}function _a(o,a,u){if(u&k.Optional||void 0!==o)return o;N()}function $l(o,a,u,h){if(u&k.Optional&&void 0===h&&(h=null),0==(u&(k.Self|k.Host))){const p=o[9],m=at(void 0);try{return p?p.get(a,h,u&k.Optional):mt(a,h,u&k.Optional)}finally{at(m)}}return _a(h,0,u)}function ya(o,a,u,h=k.Default,p){if(null!==o){if(1024&a[2]){const w=function zl(o,a,u,h,p){let m=o,w=a;for(;null!==m&&null!==w&&1024&w[2]&&!(256&w[2]);){const D=$c(m,w,u,h|k.Self,Ns);if(D!==Ns)return D;let S=m.parent;if(!S){const U=w[21];if(U){const ce=U.get(u,Ns,h);if(ce!==Ns)return ce}S=Pu(w),w=w[15]}m=S}return p}(o,a,u,h,Ns);if(w!==Ns)return w}const m=$c(o,a,u,h,Ns);if(m!==Ns)return m}return $l(a,u,h,p)}function $c(o,a,u,h,p){const m=function Ld(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Gn)?o[Gn]:void 0;return"number"==typeof a?a>=0?255&a:uf:a}(u);if("function"==typeof m){if(!Ul(a,o,h))return h&k.Host?_a(p,0,h):$l(a,u,h,p);try{const w=m(h);if(null!=w||h&k.Optional)return w;N()}finally{A()}}else if("number"==typeof m){let w=null,D=Ru(o,a),S=-1,U=h&k.Host?a[16][6]:null;for((-1===D||h&k.SkipSelf)&&(S=-1===D?ma(o,a):a[D+8],-1!==S&&wo(h,!1)?(w=a[1],D=yr(S),a=jl(S,a)):D=-1);-1!==D;){const ce=a[1];if(wa(m,D,ce.data)){const be=va(D,a,u,w,h,U);if(be!==Ns)return be}S=a[D+8],-1!==S&&wo(h,a[1].data[D+8]===U)&&wa(m,D,a)?(w=ce,D=yr(S),a=jl(S,a)):D=-1}}return p}function va(o,a,u,h,p,m){const w=a[1],D=w.data[o+8],ce=bo(D,w,u,null==h?la(D)&&Bo:h!=w&&0!=(3&D.type),p&k.Host&&m===D);return null!==ce?ba(a,w,ce,D):Ns}function bo(o,a,u,h,p){const m=o.providerIndexes,w=a.data,D=1048575&m,S=o.directiveStart,ce=m>>20,Fe=p?D+ce:o.directiveEnd;for(let Ze=h?D:D+ce;Ze<Fe;Ze++){const ct=w[Ze];if(Ze<S&&u===ct||Ze>=S&&ct.type===u)return Ze}if(p){const Ze=w[S];if(Ze&&rr(Ze)&&Ze.type===u)return S}return null}function ba(o,a,u,h){let p=o[u];const m=a.data;if(function vo(o){return o instanceof _s}(p)){const w=p;w.resolving&&function _e(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new J(-200,`Circular dependency in DI detected for ${o}${u}`)}(function W(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ce(o)}(m[u]));const D=Nu(w.canSeeViewProviders);w.resolving=!0;const S=w.injectImpl?at(w.injectImpl):null;Ul(o,h,k.Default);try{p=o[u]=w.factory(void 0,m,o,h),a.firstCreatePass&&u>=h.directiveStart&&function Ti(o,a,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(h){const w=fo(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,w)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==S&&at(S),Nu(D),w.resolving=!1,A()}}return p}function wa(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function wo(o,a){return!(o&k.Self||o&k.Host&&a)}class Ea{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return ya(this._tNode,this._lView,a,h,u)}}function uf(){return new Ea(xi(),ht())}function df(o){return rn(()=>{const a=o.prototype.constructor,u=a[$t]||ku(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const m=p[$t]||ku(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function ku(o){return ne(o)?()=>{const a=ku(Q(o));return a&&a()}:Is(o)}function Pu(o){const a=o[1],u=a.type;return 2===u?a.declTNode:1===u?o[6]:null}function hf(o){return function tg(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const m=u[p];if(Ya(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(m===a)return u[p+1];p+=2}}}return null}(xi(),o)}const Js="__parameters__";function el(o,a,u){return rn(()=>{const h=function zc(o){return function(...u){if(o){const h=o(...u);for(const p in h)this[p]=h[p]}}}(a);function p(...m){if(this instanceof p)return h.apply(this,m),this;const w=new p(...m);return D.annotation=w,D;function D(S,U,ce){const be=S.hasOwnProperty(Js)?S[Js]:Object.defineProperty(S,Js,{value:[]})[Js];for(;be.length<=ce;)be.push(null);return(be[ce]=be[ce]||[]).push(w),S}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class bi{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=An({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),is(h,a)):a!==o&&a.push(h)}return a}function Os(o,a){o.forEach(u=>Array.isArray(u)?Os(u,a):a(u))}function qc(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Vo(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ho(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}function ys(o,a,u){let h=Ia(o,a);return h>=0?o[1|h]=u:(h=~h,function Ud(o,a,u,h){let p=o.length;if(p==a)o.push(u,h);else if(1===p)o.push(h,o[0]),o[0]=u;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function Ta(o,a){const u=Ia(o,a);if(u>=0)return o[1|u]}function Ia(o,a){return function Kc(o,a,u){let h=0,p=o.length>>u;for(;p!==h;){const m=h+(p-h>>1),w=o[m<<u];if(a===w)return m<<u;w>a?p=m:h=m+1}return~(p<<u)}(o,a,1)}const eo={},Uu="__NG_DI_FLAG__",Vu="ngTempTokenPath",Gd=/\n/gm,mf="__source";let Yl;function $o(o){const a=Yl;return Yl=o,a}function Hu(o,a=k.Default){if(void 0===Yl)throw new J(-203,!1);return null===Yl?mt(o,void 0,a):Yl.get(o,a&k.Optional?null:void 0,a)}function Vi(o,a=k.Default){return(function Ke(){return Ee}()||Hu)(Q(o),a)}function M(o,a=k.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Vi(o,a)}function F(o){const a=[];for(let u=0;u<o.length;u++){const h=Q(o[u]);if(Array.isArray(h)){if(0===h.length)throw new J(900,!1);let p,m=k.Default;for(let w=0;w<h.length;w++){const D=h[w],S=Ie(D);"number"==typeof S?-1===S?p=D.token:m|=S:p=D}a.push(Vi(p,m))}else a.push(Vi(h))}return a}function ie(o,a){return o[Uu]=a,o.prototype[Uu]=a,o}function Ie(o){return o[Uu]}const xt=ie(el("Optional"),8),un=ie(el("SkipSelf"),4);let Xl,Qc;function hg(o){Xl=o}function ec(o){return function yf(){if(void 0===Qc&&(Qc=null,Vn.trustedTypes))try{Qc=Vn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Qc}()?.createHTML(o)||o}class Sa{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class S0 extends Sa{getTypeName(){return"HTML"}}class pg extends Sa{getTypeName(){return"Style"}}class gg extends Sa{getTypeName(){return"Script"}}class j_ extends Sa{getTypeName(){return"URL"}}class A0 extends Sa{getTypeName(){return"ResourceURL"}}function Wo(o){return o instanceof Sa?o.changingThisBreaksApplicationSecurity:o}function Gu(o,a){const u=function G_(o){return o instanceof Sa&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function mg(o){return new S0(o)}function M0(o){return new pg(o)}function UC(o){return new gg(o)}function x0(o){return new j_(o)}function N0(o){return new A0(o)}function $u(o){const a=new _g(o);return function Wd(){try{return!!(new window.DOMParser).parseFromString(ec(""),"text/html")}catch{return!1}}()?new ai(a):a}class ai{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ec(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class _g{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ec(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=ec(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let p=u.length-1;0<p;p--){const w=u.item(p).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&a.removeAttribute(w)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Pi=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function yg(o){return(o=String(o)).match(Pi)?o:"unsafe:"+o}function qo(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function it(...o){const a={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const rs=qo("area,br,col,hr,img,wbr"),Rs=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Co=qo("rp,rt"),Wt=it(rs,it(Rs,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),it(Co,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),it(Co,Rs)),Jc=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qd=it(Jc,qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kd=qo("script,style,template");class O0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Wt.hasOwnProperty(u))return this.sanitizedSomething=!0,!Kd.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),w=m.name,D=w.toLowerCase();if(!qd.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let S=m.value;Jc[D]&&(S=yg(S)),this.buf.push(" ",w,'="',z_(S),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Wt.hasOwnProperty(u)&&!rs.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(z_(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const vf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bg=/([^\#-~ |!])/g;function z_(o){return o.replace(/&/g,"&amp;").replace(vf,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(bg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bf;function vr(o,a){let u=null;try{bf=bf||$u(o);let h=a?String(a):"";u=bf.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=u.innerHTML,u=bf.getInertBodyElement(h)}while(h!==m);return ec((new O0).sanitizeChildren(nc(u)||u))}finally{if(u){const h=nc(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function nc(o){return"content"in o&&function jr(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function Zd(o){const a=function ic(){const o=ht();return o&&o[12]}();return a?a.sanitize(wi.URL,o)||"":Gu(o,"URL")?Wo(o):yg(Ce(o))}const Cg=new bi("ENVIRONMENT_INITIALIZER"),K_=new bi("INJECTOR",-1),eu=new bi("INJECTOR_DEF_TYPES");class Dg{get(a,u=eo){if(u===eo){const h=new Error(`NullInjectorError: No provider for ${H(a)}!`);throw h.name="NullInjectorError",h}return u}}function Cf(...o){return{\u0275providers:Yd(0,o)}}function Yd(o,...a){const u=[],h=new Set;let p;return Os(a,m=>{const w=m;Qd(w,u,[],h)&&(p||(p=[]),p.push(w))}),void 0!==p&&Df(p,u),u}function Df(o,a){for(let u=0;u<o.length;u++){const{providers:p}=o[u];Os(p,m=>{a.push(m)})}}function Qd(o,a,u,h){if(!(o=Q(o)))return!1;let p=null,m=wn(o);const w=!m&&$e(o);if(m||w){if(w&&!w.standalone)return!1;p=o}else{const S=o.ngModule;if(m=wn(S),!m)return!1;p=S}const D=h.has(p);if(w){if(D)return!1;if(h.add(p),w.dependencies){const S="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const U of S)Qd(U,a,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let U;h.add(p);try{Os(m.imports,ce=>{Qd(ce,a,u,h)&&(U||(U=[]),U.push(ce))})}finally{}void 0!==U&&Df(U,a)}if(!D){const U=Is(p)||(()=>new p);a.push({provide:p,useFactory:U,deps:an},{provide:eu,useValue:p,multi:!0},{provide:Cg,useValue:()=>Vi(p),multi:!0})}const S=m.providers;null==S||D||Os(S,ce=>{a.push(ce)})}}return p!==o&&void 0!==o.providers}const Jd=K({provide:String,useValue:K});function Xd(o){return null!==o&&"object"==typeof o&&Jd in o}function rc(o){return"function"==typeof o}const Wu=new bi("Set Injector scope."),qu={},eh={};let Tf;function sc(){return void 0===Tf&&(Tf=new Dg),Tf}class ks{}class Sg extends ks{constructor(a,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cl(a,w=>this.processProvider(w)),this.records.set(K_,hr(void 0,this)),p.has("environment")&&this.records.set(ks,hr(void 0,this));const m=this.records.get(Wu);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(eu.multi,an,k.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=$o(this),h=at(void 0);try{return a()}finally{$o(u),at(h)}}get(a,u=eo,h=k.Default){this.assertNotDestroyed();const p=$o(this),m=at(void 0);try{if(!(h&k.SkipSelf)){let D=this.records.get(a);if(void 0===D){const S=function Mg(o){return"function"==typeof o||"object"==typeof o&&o instanceof bi}(a)&&le(a);D=S&&this.injectableDefInScope(S)?hr(Ku(a),qu):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(h&k.Self?sc():this.parent).get(a,u=h&k.Optional&&u===eo?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[Vu]=w[Vu]||[]).unshift(H(a)),p)throw w;return function ze(o,a,u,h){const p=o[Vu];throw a[mf]&&p.unshift(a[mf]),o.message=function Qe(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let p=H(a);if(Array.isArray(a))p=a.map(H).join(" -> ");else if("object"==typeof a){let m=[];for(let w in a)if(a.hasOwnProperty(w)){let D=a[w];m.push(w+":"+("string"==typeof D?JSON.stringify(D):H(D)))}p=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${o.replace(Gd,"\n  ")}`}("\n"+o.message,p,u,h),o.ngTokenPath=p,o[Vu]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{at(m),$o(p)}}resolveInjectorInitializers(){const a=$o(this),u=at(void 0);try{const h=this.get(Cg.multi,an,k.Self);for(const p of h)p()}finally{$o(a),at(u)}}toString(){const a=[],u=this.records;for(const h of u.keys())a.push(H(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(a){let u=rc(a=Q(a))?a:Q(a&&a.provide);const h=function Z_(o){return Xd(o)?hr(void 0,o.useValue):hr(If(o),qu)}(a);if(rc(a)||!0!==a.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=hr(void 0,qu,!0),p.factory=()=>F(p.multi),this.records.set(u,p)),u=a,p.multi.push(a)}this.records.set(u,h)}hydrate(a,u){return u.value===qu&&(u.value=eh,u.value=u.factory()),"object"==typeof u.value&&u.value&&function th(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=Q(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Ku(o){const a=le(o),u=null!==a?a.factory:Is(o);if(null!==u)return u;if(o instanceof bi)throw new J(204,!1);if(o instanceof Function)return function Ag(o){const a=o.length;if(a>0)throw Ho(a,"?"),new J(204,!1);const u=function nn(o){const a=o&&(o[Un]||o[ve]);if(a){const u=function bn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new J(204,!1)}function If(o,a,u){let h;if(rc(o)){const p=Q(o);return Is(p)||Ku(p)}if(Xd(o))h=()=>Q(o.useValue);else if(function zu(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...F(o.deps||[]));else if(function ss(o){return!(!o||!o.useExisting)}(o))h=()=>Vi(Q(o.useExisting));else{const p=Q(o&&(o.useClass||o.provide));if(!function Zu(o){return!!o.deps}(o))return Is(p)||Ku(p);h=()=>new p(...F(o.deps))}return h}function hr(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function Ko(o){return!!o.\u0275providers}function cl(o,a){for(const u of o)Array.isArray(u)?cl(u,a):Ko(u)?cl(u.\u0275providers,a):a(u)}class Sf{}class Ng{resolveComponentFactory(a){throw function k0(o){const a=Error(`No component factory found for ${H(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Yu=(()=>{class o{}return o.NULL=new Ng,o})();function F0(){return b(xi(),ht())}function b(o,a){return new g(or(o,a))}let g=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=F0,o})();function _(o){return o instanceof g?o.nativeElement:o}class V{}let he=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Le(){const o=ht(),u=Kn(xi().index,o);return(pi(u)?u:o)[11]}(),o})(),et=(()=>{class o{}return o.\u0275prov=An({token:o,providedIn:"root",factory:()=>null}),o})();class Tt{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const jt=new Tt("14.2.8"),ln={};function Ju(o){return o.ngOriginalError}class Bg{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Ju(a);for(;u&&Ju(u);)u=Ju(u);return u||null}}const uA=/^>|^->|<!--|-->|--!>|<!-$/g,rh=/(<|>)/;const Q_=new Map;let Hg=0;const Gg="__ngContext__";function zr(o,a){pi(a)?(o[Gg]=a[20],function GC(o){Q_.set(o[20],o)}(a)):o[Gg]=a}function ul(o){return o instanceof Function?o():o}var os=(()=>((os=os||{})[os.Important=1]="Important",os[os.DashCase=2]="DashCase",os))();let Of;function Rf(o,a){return Of(o,a)}function iu(o){const a=o[3];return Wn(a)?a[3]:a}function iy(o){return YC(o[13])}function $0(o){return YC(o[4])}function YC(o){for(;null!==o&&!Wn(o);)o=o[4];return o}function kf(o,a,u,h,p){if(null!=h){let m,w=!1;Wn(h)?m=h:pi(h)&&(w=!0,h=h[0]);const D=Ai(h);0===o&&null!==u?null==p?iD(a,u,D):oh(a,u,D,p||null,!0):1===o&&null!==u?oh(a,u,D,p||null,!0):2===o?K0(a,D,w):3===o&&a.destroyNode(D),null!=m&&function lD(o,a,u,h,p){const m=u[7];m!==Ai(u)&&kf(a,o,h,m,p);for(let D=10;D<u.length;D++){const S=u[D];Xu(S[1],S,o,a,h,m)}}(a,o,m,u,p)}}function sh(o,a){return o.createText(a)}function ru(o,a,u){o.setValue(a,u)}function QC(o,a){return o.createComment(function Ug(o){return o.replace(uA,a=>a.replace(rh,"\u200b$1\u200b"))}(a))}function ry(o,a,u){return o.createElement(a,u)}function z0(o,a){const u=o[9],h=u.indexOf(a),p=a[3];512&a[2]&&(a[2]&=-513,Mi(p,-1)),u.splice(h,1)}function sy(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const p=h[17];null!==p&&p!==o&&z0(p,h),a>0&&(o[u-1][4]=h[4]);const m=Vo(o,10+a);!function JC(o,a){Xu(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const w=m[19];null!==w&&w.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function oy(o,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Xu(o,a,u,3,null,null),function vA(o){let a=o[13];if(!a)return Kg(o[1],o);for(;a;){let u=null;if(pi(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)pi(a)&&Kg(a[1],a),a=a[3];null===a&&(a=o),pi(a)&&Kg(a[1],a),u=a&&a[4]}a=u}}(a)}}function Kg(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function tD(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const p=a[u[h]];if(!(p instanceof _s)){const m=u[h+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const D=p[m[w]],S=m[w+1];try{S.call(D)}finally{}}else try{m.call(p)}finally{}}}}(o,a),function eD(o,a){const u=o.cleanup,h=a[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const w=u[m+1],D="function"==typeof w?w(a):Ai(a[w]),S=h[p=u[m+2]],U=u[m+3];"boolean"==typeof U?D.removeEventListener(u[m],S,U):U>=0?h[p=U]():h[p=-U].unsubscribe(),m+=2}else{const w=h[p=u[m+1]];u[m].call(w)}if(null!==h){for(let m=p+1;m<h.length;m++)(0,h[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&Wn(a[3])){u!==a[3]&&z0(u,a);const h=a[19];null!==h&&h.detachView(o)}!function $C(o){Q_.delete(o[20])}(a)}}function ay(o,a,u){return nD(o,a.parent,u)}function nD(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===Ht.None||p===Ht.Emulated)return null}return or(h,u)}function oh(o,a,u,h,p){o.insertBefore(a,u,h,p)}function iD(o,a,u){o.appendChild(a,u)}function Zg(o,a,u,h,p){null!==h?oh(o,a,u,h,p):iD(o,a,u)}function Ff(o,a){return o.parentNode(a)}function Lf(o,a,u){return sD(o,a,u)}function Bf(o,a,u){return 40&o.type?or(o,u):null}let Yi,sD=Bf;function q0(o,a){sD=o,Yi=a}function ly(o,a,u,h){const p=ay(o,h,a),m=a[11],D=Lf(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(u))for(let S=0;S<u.length;S++)Zg(m,p,u[S],D,!1);else Zg(m,p,u,D,!1);void 0!==Yi&&Yi(m,h,a,u,p)}function cy(o,a){if(null!==a){const u=a.type;if(3&u)return or(a,o);if(4&u)return uy(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return cy(o,h);{const p=o[a.index];return Wn(p)?uy(-1,p):Ai(p)}}if(32&u)return Rf(a,o)()||Ai(o[a.index]);{const h=oD(o,a);return null!==h?Array.isArray(h)?h[0]:cy(iu(o[16]),h):cy(o,a.next)}}return null}function oD(o,a){return null!==a?o[16][6].projection[a.projection]:null}function uy(o,a){const u=10+o+1;if(u<a.length){const h=a[u],p=h[1].firstChild;if(null!==p)return cy(h,p)}return a[7]}function K0(o,a,u){const h=Ff(o,a);h&&function Yg(o,a,u,h){o.removeChild(a,u,h)}(o,h,a,u)}function dy(o,a,u,h,p,m,w){for(;null!=u;){const D=h[u.index],S=u.type;if(w&&0===a&&(D&&zr(Ai(D),h),u.flags|=4),64!=(64&u.flags))if(8&S)dy(o,a,u.child,h,p,m,!1),kf(a,o,p,D,m);else if(32&S){const U=Rf(u,h);let ce;for(;ce=U();)kf(a,o,p,ce,m);kf(a,o,p,D,m)}else 16&S?oc(o,a,h,u,p,m):kf(a,o,p,D,m);u=w?u.projectionNext:u.next}}function Xu(o,a,u,h,p,m){dy(u,h,o.firstChild,a,p,m,!1)}function oc(o,a,u,h,p,m){const w=u[16],S=w[6].projection[h.projection];if(Array.isArray(S))for(let U=0;U<S.length;U++)kf(a,o,p,S[U],m);else dy(o,a,S,w[3],p,m,!0)}function hy(o,a,u){o.setAttribute(a,"style",u)}function ah(o,a,u){""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u)}function Z0(o,a,u){let h=o.length;for(;;){const p=o.indexOf(a,u);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=a.length;if(p+m===h||o.charCodeAt(p+m)<=32)return p}u=p+1}}const Qg="ng-template";function dD(o,a,u){let h=0;for(;h<o.length;){let p=o[h++];if(u&&"class"===p){if(p=o[h],-1!==Z0(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function Jg(o){return 4===o.type&&o.value!==Qg}function wA(o,a,u){return a===(4!==o.type||u?o.value:Qg)}function hD(o,a,u){let h=4;const p=o.attrs||[],m=function J0(o){for(let a=0;a<o.length;a++)if(Ya(o[a]))return a;return o.length}(p);let w=!1;for(let D=0;D<a.length;D++){const S=a[D];if("number"!=typeof S){if(!w)if(4&h){if(h=2|1&h,""!==S&&!wA(o,S,u)||""===S&&1===a.length){if(no(h))return!1;w=!0}}else{const U=8&h?S:a[++D];if(8&h&&null!==o.attrs){if(!dD(o.attrs,U,u)){if(no(h))return!1;w=!0}continue}const be=fD(8&h?"class":S,p,Jg(o),u);if(-1===be){if(no(h))return!1;w=!0;continue}if(""!==U){let Fe;Fe=be>m?"":p[be+1].toLowerCase();const Ze=8&h?Fe:null;if(Ze&&-1!==Z0(Ze,U,0)||2&h&&U!==Fe){if(no(h))return!1;w=!0}}}}else{if(!w&&!no(h)&&!no(S))return!1;if(w&&no(S))continue;w=!1,h=S|1&h}}return no(h)||w}function no(o){return 0==(1&o)}function fD(o,a,u,h){if(null===a)return-1;let p=0;if(h||!u){let m=!1;for(;p<a.length;){const w=a[p];if(w===o)return p;if(3===w||6===w)m=!0;else{if(1===w||2===w){let D=a[++p];for(;"string"==typeof D;)D=a[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=m?1:2}return-1}return function pD(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function Y0(o,a,u=!1){for(let h=0;h<a.length;h++)if(hD(o,a[h],u))return!0;return!1}function fy(o,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function X0(o,a){return o?":not("+a.trim()+")":a}function gD(o){let a=o[0],u=1,h=2,p="",m=!1;for(;u<o.length;){let w=o[u];if("string"==typeof w)if(2&h){const D=o[++u];p+="["+w+(D.length>0?'="'+D+'"':"")+"]"}else 8&h?p+="."+w:4&h&&(p+=" "+w);else""!==p&&!no(w)&&(a+=X0(m,p),p=""),h=w,m=m||!no(h);u++}return""!==p&&(a+=X0(m,p)),a}const Rn={};function eb(o){tb(Mn(),ht(),xe()+o,!1)}function tb(o,a,u,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Ni(a,m,u)}else{const m=o.preOrderHooks;null!==m&&gs(a,m,0,u)}Ye(u)}function vD(o,a=null,u=null,h){const p=rb(o,a,u,h);return p.resolveInjectorInitializers(),p}function rb(o,a=null,u=null,h,p=new Set){const m=[u||an,Cf(o)];return h=h||("object"==typeof o?void 0:H(o)),new Sg(m,a||sc(),h||null,p)}let ch=(()=>{class o{static create(u,h){if(Array.isArray(u))return vD({name:""},h,u,"");{const p=u.name??"";return vD({name:p},u.parent,u.providers,p)}}}return o.THROW_IF_NOT_FOUND=eo,o.NULL=new Dg,o.\u0275prov=An({token:o,providedIn:"any",factory:()=>Vi(K_)}),o.__NG_ELEMENT_ID__=-1,o})();function dl(o,a=k.Default){const u=ht();return null===u?Vi(o,a):ya(xi(),u,Q(o),a)}function cb(){throw new Error("invalid")}function dn(o,a){return o<<17|a<<2}function io(o){return o>>17&32767}function Qi(o){return 2|o}function Mt(o){return(131068&o)>>2}function Vf(o,a){return-131069&o|a<<2}function su(o){return 1|o}function Gf(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],m=u[h+1];if(-1!==m){const w=o.data[m];Za(p),w.contentQueries(2,a[m],m)}}}function od(o,a,u,h,p,m,w,D,S,U,ce){const be=a.blueprint.slice();return be[0]=p,be[2]=76|h,(null!==ce||o&&1024&o[2])&&(be[2]|=1024),kl(be),be[3]=be[15]=o,be[8]=u,be[10]=w||o&&o[10],be[11]=D||o&&o[11],be[12]=S||o&&o[12]||null,be[9]=U||o&&o[9]||null,be[6]=m,be[20]=function J_(){return Hg++}(),be[21]=ce,be[16]=2==a.type?o[16]:be,be}function lc(o,a,u,h,p){let m=o.data[a];if(null===m)m=Ey(o,a,u,h,p),function _o(){return mn.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=p;const w=Fo();m.injectorIndex=null===w?-1:w.injectorIndex}return ar(m,!0),m}function Ey(o,a,u,h,p){const m=$a(),w=za(),S=o.data[a]=function xD(o,a,u,h,p,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,u,a,h,p);return null===o.firstChild&&(o.firstChild=S),null!==m&&(w?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}function Qo(o,a,u,h){if(0===u)return-1;const p=a.length;for(let m=0;m<u;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function $f(o,a,u){Vl(a);try{const h=o.viewQuery;null!==h&&um(1,h,u);const p=o.template;null!==p&&hl(o,a,p,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Gf(o,a),o.staticViewQueries&&um(2,o.viewQuery,u);const m=o.components;null!==m&&function sd(o,a){for(let u=0;u<a.length;u++)UD(o,a[u])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,G()}}function cc(o,a,u,h){const p=a[2];if(128!=(128&p)){Vl(a);try{kl(a),function Pc(o){return mn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&hl(o,a,u,2,h);const w=3==(3&p);if(w){const U=o.preOrderCheckHooks;null!==U&&Ni(a,U,null)}else{const U=o.preOrderHooks;null!==U&&gs(a,U,0,null),ms(a,0)}if(function ad(o){for(let a=iy(o);null!==a;a=$0(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const p=u[h],m=p[3];0==(512&p[2])&&Mi(m,1),p[2]|=512}}}(a),function LA(o){for(let a=iy(o);null!==a;a=$0(a))for(let u=10;u<a.length;u++){const h=a[u],p=h[1];As(h)&&cc(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&Gf(o,a),w){const U=o.contentCheckHooks;null!==U&&Ni(a,U)}else{const U=o.contentHooks;null!==U&&gs(a,U,1),ms(a,1)}!function AD(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Ye(~p);else{const m=p,w=u[++h],D=u[++h];fa(w,m),D(2,a[m])}}}finally{Ye(-1)}}(o,a);const D=o.components;null!==D&&function OA(o,a){for(let u=0;u<a.length;u++)qf(o,a[u])}(a,D);const S=o.viewQuery;if(null!==S&&um(2,S,h),w){const U=o.viewCheckHooks;null!==U&&Ni(a,U)}else{const U=o.viewHooks;null!==U&&gs(a,U,2),ms(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Mi(a[3],-1))}finally{G()}}}function hl(o,a,u,h,p){const m=xe(),w=2&h;try{Ye(-1),w&&a.length>22&&tb(o,a,22,!1),u(h,p)}finally{Ye(m)}}function zf(o,a,u){if(Vr(a)){const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const w=o.data[m];w.contentQueries&&w.contentQueries(1,u[m],m)}}}function uc(o,a,u){!po()||(function kD(o,a,u,h){const p=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Uo(u,a),zr(h,a);const w=u.initialInputs;for(let D=p;D<m;D++){const S=o.data[D],U=rr(S);U&&PA(a,u,S);const ce=ba(a,o,D,u);zr(ce,a),null!==w&&LD(0,D-p,ce,S,0,w),U&&(Kn(u.index,a)[8]=ce)}}(o,a,u,or(u,a)),128==(128&u.flags)&&function gh(o,a,u){const h=u.directiveStart,p=u.directiveEnd,m=u.index,w=function pa(){return mn.lFrame.currentDirectiveIndex}();try{Ye(m);for(let D=h;D<p;D++){const S=o.data[D],U=a[D];qa(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&PD(S,U)}}finally{Ye(-1),qa(w)}}(o,a,u))}function Cy(o,a,u=or){const h=a.localNames;if(null!==h){let p=a.index+1;for(let m=0;m<h.length;m+=2){const w=h[m+1],D=-1===w?u(a,o):o[w];o[p++]=D}}}function fh(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=sm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function sm(o,a,u,h,p,m,w,D,S,U){const ce=22+h,be=ce+p,Fe=function ph(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:Rn);return u}(ce,be),Ze="function"==typeof U?U():U;return Fe[1]={type:o,blueprint:Fe,template:u,queries:null,viewQuery:D,declTNode:a,data:Fe.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:S,consts:Ze,incompleteFirstPass:!1}}function gb(o,a,u,h){const p=Sy(a);null===u?p.push(h):(p.push(u),o.firstCreatePass&&mh(o).push(h,p.length-1))}function am(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,p):u[h]=[a,p]}return u}function Wf(o,a){const h=a.directiveEnd,p=o.data,m=a.attrs,w=[];let D=null,S=null;for(let U=a.directiveStart;U<h;U++){const ce=p[U],be=ce.inputs,Fe=null===m||Jg(a)?null:FA(be,m);w.push(Fe),D=am(be,U,D),S=am(ce.outputs,U,S)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=16),D.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=w,a.inputs=D,a.outputs=S}function Jo(o,a,u,h,p,m,w,D){const S=or(a,u);let ce,U=a.inputs;!D&&null!=U&&(ce=U[h])?(_h(o,u,ce,h,p),la(a)&&OD(u,a.index)):3&a.type&&(h=function ND(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=w?w(p,a.value||"",h):p,m.setProperty(S,h,p))}function OD(o,a){const u=Kn(a,o);16&u[2]||(u[2]|=32)}function Dy(o,a,u,h){let p=!1;if(po()){const m=function lm(o,a,u){const h=o.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const w=h[m];Y0(u,w.selectors,!1)&&(p||(p=[]),Xa(Uo(u,a),o,w.type),rr(w)?(cm(o,u),p.unshift(w)):p.push(w))}return p}(o,a,u),w=null===h?null:{"":-1};if(null!==m){p=!0,mb(u,o.data.length,m.length);for(let ce=0;ce<m.length;ce++){const be=m[ce];be.providersResolver&&be.providersResolver(be)}let D=!1,S=!1,U=Qo(o,a,m.length,null);for(let ce=0;ce<m.length;ce++){const be=m[ce];u.mergedAttrs=Ja(u.mergedAttrs,be.hostAttrs),ls(o,u,a,U,be),FD(U,be,w),null!==be.contentQueries&&(u.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(u.flags|=128);const Fe=be.type.prototype;!D&&(Fe.ngOnChanges||Fe.ngOnInit||Fe.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),D=!0),!S&&(Fe.ngOnChanges||Fe.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),S=!0),U++}Wf(o,u)}w&&function Ty(o,a,u){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const m=u[a[p+1]];if(null==m)throw new J(-301,!1);h.push(a[p],m)}}}(u,h,w)}return u.mergedAttrs=Ja(u.mergedAttrs,u.attrs),p}function Fi(o,a,u,h,p,m){const w=m.hostBindings;if(w){let D=o.hostBindingOpCodes;null===D&&(D=o.hostBindingOpCodes=[]);const S=~a.index;(function kA(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(D)!=S&&D.push(S),D.push(h,p,w)}}function PD(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function cm(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function FD(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;rr(a)&&(u[""]=o)}}function mb(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function ls(o,a,u,h,p){o.data[h]=p;const m=p.factory||(p.factory=Is(p.type)),w=new _s(m,rr(p),dl);o.blueprint[h]=w,u[h]=w,Fi(o,a,0,h,Qo(o,u,p.hostVars,Rn),p)}function PA(o,a,u){const h=or(a,o),p=fh(u),m=o[10],w=Ma(o,od(o,p,null,u.onPush?32:16,h,a,m,m.createRenderer(h,u),null,null,null));o[a.index]=w}function _b(o,a,u,h,p,m,w){if(null==m)o.removeAttribute(a,p,u);else{const D=null==w?Ce(m):w(m,h||"",p);o.setAttribute(a,p,D,u)}}function LD(o,a,u,h,p,m){const w=m[a];if(null!==w){const D=h.setInput;for(let S=0;S<w.length;){const U=w[S++],ce=w[S++],be=w[S++];null!==D?h.setInput(u,be,U,ce):u[ce]=be}}}function FA(o,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return u}function BD(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function qf(o,a){const u=Kn(a,o);if(As(u)){const h=u[1];48&u[2]?cc(h,u,h.template,u[8]):u[5]>0&&yb(u)}}function yb(o){for(let h=iy(o);null!==h;h=$0(h))for(let p=10;p<h.length;p++){const m=h[p];if(As(m))if(512&m[2]){const w=m[1];cc(w,m,w.template,m[8])}else m[5]>0&&yb(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Kn(u[h],o);As(p)&&p[5]>0&&yb(p)}}function UD(o,a){const u=Kn(a,o),h=u[1];(function VD(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),$f(h,u,u[8])}function Ma(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Iy(o){for(;o;){o[2]|=32;const a=iu(o);if(Du(o)&&!a)return o;o=a}return null}function au(o,a,u,h=!0){const p=a[10];p.begin&&p.begin();try{cc(o,a,o.template,u)}catch(w){throw h&&dm(a,w),w}finally{p.end&&p.end()}}function um(o,a,u){Za(0),a(o,u)}function Sy(o){return o[7]||(o[7]=[])}function mh(o){return o.cleanup||(o.cleanup=[])}function dm(o,a){const u=o[9],h=u?u.get(Bg,null):null;h&&h.handleError(a)}function _h(o,a,u,h,p){for(let m=0;m<u.length;){const w=u[m++],D=u[m++],S=a[w],U=o.data[w];null!==U.setInput?U.setInput(S,p,h,D):S[D]=p}}function Kf(o,a,u){let h=u?o.styles:null,p=u?o.classes:null,m=0;if(null!==a)for(let w=0;w<a.length;w++){const D=a[w];"number"==typeof D?m=D:1==m?p=$(p,D):2==m&&(h=$(h,D+": "+a[++w]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=p:o.classesWithoutHost=p}function Zf(o,a,u,h,p=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(Ai(m)),Wn(m))for(let D=10;D<m.length;D++){const S=m[D],U=S[1].firstChild;null!==U&&Zf(S[1],S,U,h)}const w=u.type;if(8&w)Zf(o,a,u.child,h);else if(32&w){const D=Rf(u,a);let S;for(;S=D();)h.push(S)}else if(16&w){const D=oD(a,u);if(Array.isArray(D))h.push(...D);else{const S=iu(a[16]);Zf(S[1],S,D,h,!0)}}u=p?u.projectionNext:u.next}return h}class Yf{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Zf(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Wn(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(sy(a,h),Vo(u,h))}this._attachedToViewContainer=!1}oy(this._lView[1],this._lView)}onDestroy(a){gb(this._lView[1],this._lView,null,a)}markForCheck(){Iy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){au(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yA(o,a){Xu(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=a}}class jD extends Yf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;au(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class vb extends Yu{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=$e(a);return new ld(u,this.ngModule)}}function bb(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class $D{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,h){const p=this.injector.get(a,ln,h);return p!==ln||u===ln?p:this.parentInjector.get(a,u,h)}}class ld extends Sf{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function lh(o){return o.map(gD).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return bb(this.componentDef.inputs)}get outputs(){return bb(this.componentDef.outputs)}create(a,u,h,p){let m=(p=p||this.ngModule)instanceof ks?p:p?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const w=m?new $D(a,m):a,D=w.get(V,null);if(null===D)throw new J(407,!1);const S=w.get(et,null),U=D.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",be=h?function om(o,a,u){return o.selectRootElement(a,u===Ht.ShadowDom)}(U,h,this.componentDef.encapsulation):ry(D.createRenderer(null,this.componentDef),ce,function GD(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(ce)),Fe=this.componentDef.onPush?288:272,Ze=sm(0,null,null,1,0,null,null,null,null,null),ct=od(null,Ze,null,Fe,null,null,D,U,S,w,null);let Dt,Ft;Vl(ct);try{const Kt=function yh(o,a,u,h,p,m){const w=u[1];u[22]=o;const S=lc(w,22,2,"#host",null),U=S.mergedAttrs=a.hostAttrs;null!==U&&(Kf(S,U,!0),null!==o&&(jc(p,o,U),null!==S.classes&&ah(p,o,S.classes),null!==S.styles&&hy(p,o,S.styles)));const ce=h.createRenderer(o,a),be=od(u,fh(a),null,a.onPush?32:16,u[22],S,h,ce,m||null,null,null);return w.firstCreatePass&&(Xa(Uo(S,u),w,a.type),cm(w,S),mb(S,u.length,1)),Ma(u,be),u[22]=be}(be,this.componentDef,ct,D,U);if(be)if(h)jc(U,be,["ng-version",jt.full]);else{const{attrs:fn,classes:yt}=function mD(o){const a=[],u=[];let h=1,p=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===p?""!==m&&a.push(m,o[++h]):8===p&&u.push(m);else{if(!no(p))break;p=m}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);fn&&jc(U,be,fn),yt&&yt.length>0&&ah(U,be,yt.join(" "))}if(Ft=Po(Ze,22),void 0!==u){const fn=Ft.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Cn=u[yt];fn.push(null!=Cn?Array.from(Cn):null)}}Dt=function WD(o,a,u,h){const p=u[1],m=function bs(o,a,u){const h=xi();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),ls(o,h,a,Qo(o,a,1,null),u),Wf(o,h));const p=ba(a,o,h.directiveStart,h);zr(p,a);const m=or(h,a);return m&&zr(m,a),p}(p,u,a);if(o[8]=u[8]=m,null!==h)for(const D of h)D(m,a);if(a.contentQueries){const D=xi();a.contentQueries(1,m,D.directiveStart)}const w=xi();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ye(w.index),Fi(u[1],w,0,w.directiveStart,w.directiveEnd,a),PD(a,m)),m}(Kt,this.componentDef,ct,[vh]),$f(Ze,ct,null)}finally{G()}return new zD(this.componentType,Dt,b(Ft,ct),ct,Ft)}}class zD extends class xg{}{constructor(a,u,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new jD(p),this.componentType=a}setInput(a,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[a])){const m=this._rootLView;_h(m[1],m,p,a,u),OD(m,this._tNode.index)}}get injector(){return new Ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function vh(){const o=xi();oi(ht()[1],o)}function cd(o){let a=function wb(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let p;if(rr(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new J(903,!1);p=a.\u0275dir}if(p){if(u){h.push(p);const w=o;w.inputs=Ay(o.inputs),w.declaredInputs=Ay(o.declaredInputs),w.outputs=Ay(o.outputs);const D=p.hostBindings;D&&HA(o,D);const S=p.viewQuery,U=p.contentQueries;if(S&&fm(o,S),U&&VA(o,U),R(o.inputs,p.inputs),R(o.declaredInputs,p.declaredInputs),R(o.outputs,p.outputs),rr(p)&&p.data.animation){const ce=o.data;ce.animation=(ce.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let w=0;w<m.length;w++){const D=m[w];D&&D.ngInherit&&D(o),D===cd&&(u=!1)}}a=Object.getPrototypeOf(a)}!function qD(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=Ja(p.hostAttrs,u=Ja(u,p.hostAttrs))}}(h)}function Ay(o){return o===zi?{}:o===an?[]:o}function fm(o,a){const u=o.viewQuery;o.viewQuery=u?(h,p)=>{a(h,p),u(h,p)}:a}function VA(o,a){const u=o.contentQueries;o.contentQueries=u?(h,p,m)=>{a(h,p,m),u(h,p,m)}:a}function HA(o,a){const u=o.hostBindings;o.hostBindings=u?(h,p)=>{a(h,p),u(h,p)}:a}let pm=null;function bh(){if(!pm){const o=Vn.Symbol;if(o&&o.iterator)pm=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(pm=h)}}}return pm}function gm(o){return!!fl(o)&&(Array.isArray(o)||!(o instanceof Map)&&bh()in o)}function fl(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pl(o,a,u){return o[a]=u}function wr(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function lu(o,a,u,h){const p=wr(o,a,u);return wr(o,a+1,h)||p}function ri(o,a,u,h){const p=ht();return wr(p,mo(),a)&&(Mn(),function dc(o,a,u,h,p,m){const w=or(o,a);_b(a[11],w,m,o.value,u,h,p)}(nt(),p,o,a,u,h)),ri}function Eh(o,a,u,h){return wr(o,mo(),u)?a+Ce(u)+h:Rn}function Cb(o,a,u,h,p,m,w,D){const S=ht(),U=Mn(),ce=o+22,be=U.firstCreatePass?function XD(o,a,u,h,p,m,w,D,S){const U=a.consts,ce=lc(a,o,4,w||null,ps(U,D));Dy(a,u,ce,ps(U,S)),oi(a,ce);const be=ce.tViews=sm(2,ce,h,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,U);return null!==a.queries&&(a.queries.template(a,ce),be.queries=a.queries.embeddedTView(ce)),ce}(ce,U,S,a,u,h,p,m,w):U.data[ce];ar(be,!1);const Fe=S[11].createComment("");ly(U,S,Fe,be),zr(Fe,S),Ma(S,S[ce]=BD(Fe,S,Fe,be)),js(be)&&uc(U,S,be),null!=w&&Cy(S,be,D)}function tT(o){return Zs(function kc(){return mn.lFrame.contextLView}(),22+o)}function ky(o,a,u){const h=ht();return wr(h,mo(),a)&&Jo(Mn(),nt(),h,o,a,h[11],u,!1),ky}function Py(o,a,u,h,p){const w=p?"class":"style";_h(o,u,a.inputs[w],w,h)}function Fy(o,a,u,h){const p=ht(),m=Mn(),w=22+o,D=p[11],S=p[w]=ry(D,a,function Hn(){return mn.lFrame.currentNamespace}()),U=m.firstCreatePass?function jA(o,a,u,h,p,m,w){const D=a.consts,U=lc(a,o,2,p,ps(D,m));return Dy(a,u,U,ps(D,w)),null!==U.attrs&&Kf(U,U.attrs,!1),null!==U.mergedAttrs&&Kf(U,U.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,U),U}(w,m,p,0,a,u,h):m.data[w];ar(U,!0);const ce=U.mergedAttrs;null!==ce&&jc(D,S,ce);const be=U.classes;null!==be&&ah(D,S,be);const Fe=U.styles;return null!==Fe&&hy(D,S,Fe),64!=(64&U.flags)&&ly(m,p,S,U),0===function Fl(){return mn.lFrame.elementDepthCount}()&&zr(S,p),function Ms(){mn.lFrame.elementDepthCount++}(),js(U)&&(uc(m,p,U),zf(m,U,p)),null!==h&&Cy(p,U),Fy}function Ly(){let o=xi();za()?Wa():(o=o.parent,ar(o,!1));const a=o;!function ja(){mn.lFrame.elementDepthCount--}();const u=Mn();return u.firstCreatePass&&(oi(u,o),Vr(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Pd(o){return 0!=(16&o.flags)}(a)&&Py(u,a,ht(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function lf(o){return 0!=(32&o.flags)}(a)&&Py(u,a,ht(),a.stylesWithoutHost,!1),Ly}function Th(o,a,u,h){return Fy(o,a,u,h),Ly(),Th}function By(o,a,u){const h=ht(),p=Mn(),m=o+22,w=p.firstCreatePass?function nT(o,a,u,h,p){const m=a.consts,w=ps(m,h),D=lc(a,o,8,"ng-container",w);return null!==w&&Kf(D,w,!0),Dy(a,u,D,ps(m,p)),null!==a.queries&&a.queries.elementStart(a,D),D}(m,p,h,a,u):p.data[m];ar(w,!0);const D=h[m]=h[11].createComment("");return ly(p,h,D,w),zr(D,h),js(w)&&(uc(p,h,w),zf(p,w,h)),null!=u&&Cy(h,w),By}function Er(){let o=xi();const a=Mn();return za()?Wa():(o=o.parent,ar(o,!1)),a.firstCreatePass&&(oi(a,o),Vr(o)&&a.queries.elementEnd(o)),Er}function Db(){return ht()}function Ih(o){return!!o&&"function"==typeof o.then}function gl(o){return!!o&&"function"==typeof o.subscribe}const Vy=gl;function Hy(o,a,u,h){const p=ht(),m=Mn(),w=xi();return function Tb(o,a,u,h,p,m,w,D){const S=js(h),ce=o.firstCreatePass&&mh(o),be=a[8],Fe=Sy(a);let Ze=!0;if(3&h.type||D){const Ft=or(h,a),Kt=D?D(Ft):Ft,fn=Fe.length,yt=D?Ei=>D(Ai(Ei[h.index])):h.index;let Cn=null;if(!D&&S&&(Cn=function iT(o,a,u,h){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const w=p[m];if(w===u&&p[m+1]===h){const D=a[7],S=p[m+2];return D.length>S?D[S]:null}"string"==typeof w&&(m+=2)}return null}(o,a,p,h.index)),null!==Cn)(Cn.__ngLastListenerFn__||Cn).__ngNextListenerFn__=m,Cn.__ngLastListenerFn__=m,Ze=!1;else{m=rT(h,a,be,m,!1);const Ei=u.listen(Kt,p,m);Fe.push(m,Ei),ce&&ce.push(p,yt,fn,fn+1)}}else m=rT(h,a,be,m,!1);const ct=h.outputs;let Dt;if(Ze&&null!==ct&&(Dt=ct[p])){const Ft=Dt.length;if(Ft)for(let Kt=0;Kt<Ft;Kt+=2){const ur=a[Dt[Kt]][Dt[Kt+1]].subscribe(m),Op=Fe.length;Fe.push(m,ur),ce&&ce.push(p,h.index,Op,-(Op+1))}}}(m,p,p[11],w,o,a,0,h),Hy}function Ib(o,a,u,h){try{return!1!==u(h)}catch(p){return dm(o,p),!1}}function rT(o,a,u,h,p){return function m(w){if(w===Function)return h;Iy(2&o.flags?Kn(o.index,a):a);let S=Ib(a,0,h,w),U=m.__ngNextListenerFn__;for(;U;)S=Ib(a,0,U,w)&&S,U=U.__ngNextListenerFn__;return p&&!1===S&&(w.preventDefault(),w.returnValue=!1),S}}function sT(o=1){return function O(o){return(mn.lFrame.contextLView=function ue(o,a){for(;o>0;)a=a[15],o--;return a}(o,mn.lFrame.contextLView))[8]}(o)}function _m(o,a){let u=null;const h=function Q0(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let p=0;p<a.length;p++){const m=a[p];if("*"!==m){if(null===h?Y0(o,m,!0):fy(h,m))return p}else u=p}return u}function jy(o){const a=ht()[16][6];if(!a.projection){const h=a.projection=Ho(o?o.length:1,null),p=h.slice();let m=a.child;for(;null!==m;){const w=o?_m(m,o):0;null!==w&&(p[w]?p[w].projectionNext=m:h[w]=m,p[w]=m),m=m.next}}}function oT(o,a=0,u){const h=ht(),p=Mn(),m=lc(p,22+o,16,null,u||null);null===m.projection&&(m.projection=a),Wa(),64!=(64&m.flags)&&function aD(o,a,u){oc(a[11],0,a,u,ay(o,u,a),Lf(u.parent||a[6],u,a))}(p,h,m)}function Gy(o,a,u){return rp(o,"",a,"",u),Gy}function rp(o,a,u,h,p){const m=ht(),w=Eh(m,a,u,h);return w!==Rn&&Jo(Mn(),nt(),m,o,w,m[11],p,!1),rp}function Ls(o,a,u,h,p){const m=o[u+1],w=null===a;let D=h?io(m):Mt(m),S=!1;for(;0!==D&&(!1===S||w);){const ce=o[D+1];$A(o[D],a)&&(S=!0,o[D+1]=h?su(ce):Qi(ce)),D=h?io(ce):Mt(ce)}S&&(o[u+1]=h?Qi(m):su(m))}function $A(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ia(o,a)>=0}const Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ml(o){return o.substring(Pr.key,Pr.keyEnd)}function Mb(o,a){const u=Pr.textEnd;return u===a?-1:(a=Pr.keyEnd=function WA(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Pr.key=a,u),sp(o,a,u))}function sp(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function xb(o,a,u){return yl(o,a,u,!1),xb}function Nb(o,a){return yl(o,a,null,!0),Nb}function _T(o){!function xa(o,a,u,h){const p=Mn(),m=xs(2);p.firstUpdatePass&&yT(p,null,m,h);const w=ht();if(u!==Rn&&wr(w,m,u)){const D=p.data[xe()];if(op(D,h)&&!Ob(p,m)){let S=h?D.classesWithoutHost:D.stylesWithoutHost;null!==S&&(u=$(S,u||"")),Py(p,D,w,u,h)}else!function wT(o,a,u,h,p,m,w,D){p===Rn&&(p=an);let S=0,U=0,ce=0<p.length?p[0]:null,be=0<m.length?m[0]:null;for(;null!==ce||null!==be;){const Fe=S<p.length?p[S+1]:void 0,Ze=U<m.length?m[U+1]:void 0;let Dt,ct=null;ce===be?(S+=2,U+=2,Fe!==Ze&&(ct=be,Dt=Ze)):null===be||null!==ce&&ce<be?(S+=2,ct=ce):(U+=2,ct=be,Dt=Ze),null!==ct&&vm(o,a,u,h,ct,Dt,w,D),ce=S<p.length?p[S]:null,be=U<m.length?m[U]:null}}(p,D,w,w[11],w[m+1],w[m+1]=function vT(o,a,u){if(null==u||""===u)return an;const h=[],p=Wo(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(h,m,p[m]);else"string"==typeof p&&a(h,p);return h}(o,a,u),h,m)}}(ys,_l,o,!0)}function _l(o,a){for(let u=function $y(o){return function pT(o){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=o.length}(o),Mb(o,sp(o,0,Pr.textEnd))}(a);u>=0;u=Mb(a,u))ys(o,ml(a),!0)}function yl(o,a,u,h){const p=ht(),m=Mn(),w=xs(2);m.firstUpdatePass&&yT(m,o,w,h),a!==Rn&&wr(p,w,a)&&vm(m,m.data[xe()],p,p[11],o,p[w+1]=function Mh(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=H(Wo(o)))),o}(a,u),h,w)}function Ob(o,a){return a>=o.expandoStartIndex}function yT(o,a,u,h){const p=o.data;if(null===p[u+1]){const m=p[xe()],w=Ob(o,u);op(m,h)&&null===a&&!w&&(a=!1),a=function Rb(o,a,u,h){const p=function Ka(o){const a=mn.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(u=Na(u=ym(null,o,a,u,h),a.attrs,h),m=null);else{const w=a.directiveStylingLast;if(-1===w||o[w]!==p)if(u=ym(p,o,a,u,h),null===m){let S=function cs(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==Mt(h))return o[io(h)]}(o,a,h);void 0!==S&&Array.isArray(S)&&(S=ym(null,o,a,S[1],h),S=Na(S,a.attrs,h),function kb(o,a,u,h){o[io(u?a.classBindings:a.styleBindings)]=h}(o,a,h,S))}else m=function Pb(o,a,u){let h;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)h=Na(h,o[m].hostAttrs,u);return Na(h,a.attrs,u)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(p,m,a,h),function GA(o,a,u,h,p,m){let w=m?a.classBindings:a.styleBindings,D=io(w),S=Mt(w);o[h]=u;let ce,U=!1;if(Array.isArray(u)){const be=u;ce=be[1],(null===ce||Ia(be,ce)>0)&&(U=!0)}else ce=u;if(p)if(0!==S){const Fe=io(o[D+1]);o[h+1]=dn(Fe,D),0!==Fe&&(o[Fe+1]=Vf(o[Fe+1],h)),o[D+1]=function SA(o,a){return 131071&o|a<<17}(o[D+1],h)}else o[h+1]=dn(D,0),0!==D&&(o[D+1]=Vf(o[D+1],h)),D=h;else o[h+1]=dn(S,0),0===D?D=h:o[S+1]=Vf(o[S+1],h),S=h;U&&(o[h+1]=Qi(o[h+1])),Ls(o,ce,h,!0),Ls(o,ce,h,!1),function dT(o,a,u,h,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Ia(m,a)>=0&&(u[h+1]=su(u[h+1]))}(a,ce,o,h,m),w=dn(D,S),m?a.classBindings=w:a.styleBindings=w}(p,m,a,u,w,h)}}function ym(o,a,u,h,p){let m=null;const w=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<w&&(m=a[D],h=Na(h,m.hostAttrs,p),m!==o);)D++;return null!==o&&(u.directiveStylingLast=D),h}function Na(o,a,u){const h=u?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const w=a[m];"number"==typeof w?p=w:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ys(o,w,!!u||a[++m]))}return void 0===o?null:o}function vm(o,a,u,h,p,m,w,D){if(!(3&a.type))return;const S=o.data,U=S[D+1];gc(function _y(o){return 1==(1&o)}(U)?ud(S,a,u,p,Mt(U),w):void 0)||(gc(m)||function li(o){return 2==(2&o)}(U)&&(m=ud(S,null,u,p,D,w)),function cD(o,a,u,h,p){if(a)p?o.addClass(u,h):o.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:os.DashCase;null==p?o.removeStyle(u,h,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=os.Important),o.setStyle(u,h,p,m))}}(h,w,xr(xe(),u),p,m))}function ud(o,a,u,h,p,m){const w=null===a;let D;for(;p>0;){const S=o[p],U=Array.isArray(S),ce=U?S[1]:S,be=null===ce;let Fe=u[p+1];Fe===Rn&&(Fe=be?an:void 0);let Ze=be?Ta(Fe,h):ce===h?Fe:void 0;if(U&&!gc(Ze)&&(Ze=Ta(S,h)),gc(Ze)&&(D=Ze,w))return D;const ct=o[p+1];p=w?io(ct):Mt(ct)}if(null!==a){let S=m?a.residualClasses:a.residualStyles;null!=S&&(D=Ta(S,h))}return D}function gc(o){return void 0!==o}function op(o,a){return 0!=(o.flags&(a?16:32))}function Fb(o,a=""){const u=ht(),h=Mn(),p=o+22,m=h.firstCreatePass?lc(h,p,1,a,null):h.data[p],w=u[p]=sh(u[11],a);ly(h,u,w,m),ar(m,!1)}function bm(o){return ap("",o,""),bm}function ap(o,a,u){const h=ht(),p=Eh(h,o,a,u);return p!==Rn&&function hc(o,a,u){const h=xr(a,o);ru(o[11],h,u)}(h,xe(),p),ap}function qy(o,a,u){const h=ht();return wr(h,mo(),a)&&Jo(Mn(),nt(),h,o,a,h[11],u,!0),qy}const Rh=void 0;var IT=["en",[["a","p"],["AM","PM"],Rh],[["AM","PM"],Rh,Rh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rh,"{1} 'at' {0}",Rh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cp(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let ea={};function Wb(o){const a=function rM(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=AT(a);if(u)return u;const h=a.split("-")[0];if(u=AT(h),u)return u;if("en"===h)return IT;throw new J(701,!1)}function ST(o){return Wb(o)[hn.PluralCase]}function AT(o){return o in ea||(ea[o]=Vn.ng&&Vn.ng.common&&Vn.ng.common.locales&&Vn.ng.common.locales[o]),ea[o]}var hn=(()=>((hn=hn||{})[hn.LocaleId=0]="LocaleId",hn[hn.DayPeriodsFormat=1]="DayPeriodsFormat",hn[hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",hn[hn.DaysFormat=3]="DaysFormat",hn[hn.DaysStandalone=4]="DaysStandalone",hn[hn.MonthsFormat=5]="MonthsFormat",hn[hn.MonthsStandalone=6]="MonthsStandalone",hn[hn.Eras=7]="Eras",hn[hn.FirstDayOfWeek=8]="FirstDayOfWeek",hn[hn.WeekendRange=9]="WeekendRange",hn[hn.DateFormat=10]="DateFormat",hn[hn.TimeFormat=11]="TimeFormat",hn[hn.DateTimeFormat=12]="DateTimeFormat",hn[hn.NumberSymbols=13]="NumberSymbols",hn[hn.NumberFormats=14]="NumberFormats",hn[hn.CurrencyCode=15]="CurrencyCode",hn[hn.CurrencySymbol=16]="CurrencySymbol",hn[hn.CurrencyName=17]="CurrencyName",hn[hn.Currencies=18]="Currencies",hn[hn.Directionality=19]="Directionality",hn[hn.PluralCase=20]="PluralCase",hn[hn.ExtraData=21]="ExtraData",hn))();const MT=["zero","one","two","few","many"],kh="en-US",fd={marker:"element"},Sm={marker:"ICU"};var cr=(()=>((cr=cr||{})[cr.SHIFT=2]="SHIFT",cr[cr.APPEND_EAGERLY=1]="APPEND_EAGERLY",cr[cr.COMMENT=2]="COMMENT",cr))();let Kb=kh;function xT(o){(function tn(o,a){null==o&&_t(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Kb=o.toLowerCase().replace(/_/g,"-"))}function Ky(o,a,u){const h=a.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?Bf(o,0,u):Ai(u[p])}function Kr(o,a,u,h,p){const m=a.insertBeforeIndex;if(Array.isArray(m)){let w=h,D=null;if(3&a.type||(D=w,w=p),null!==w&&0==(2&a.flags))for(let S=1;S<m.length;S++)oh(o,w,u[m[S]],D,!1)}}function NT(o,a){if(o.push(a),o.length>1)for(let u=o.length-2;u>=0;u--){const h=o[u];OT(h)||aM(h,a)&&null===lM(h)&&RT(h,a.index)}}function OT(o){return!(64&o.type)}function aM(o,a){return OT(a)||o.index>a.index}function lM(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function RT(o,a){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=a:(q0(Ky,Kr),o.insertBeforeIndex=a)}function Am(o,a){const u=o.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function kT(o,a,u){const h=Ey(o,u,64,null,null);return NT(a,h),h}function up(o,a){const u=a[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Yy(o){return o>>>17}function dp(o){return(131070&o)>>>1}let Fh=0,hp=0;function Qy(o,a,u,h){const p=u[11];let w,m=null;for(let D=0;D<a.length;D++){const S=a[D];if("string"==typeof S){const U=a[++D];null===u[U]&&(u[U]=sh(p,S))}else if("number"==typeof S)switch(1&S){case 0:const U=Yy(S);let ce,be;if(null===m&&(m=U,w=Ff(p,h)),U===m?(ce=h,be=w):(ce=null,be=Ai(u[U])),null!==be){const Dt=dp(S);oh(p,be,u[Dt],ce,!1);const Kt=Am(o,Dt);if(null!==Kt&&"object"==typeof Kt){const fn=up(Kt,u);null!==fn&&Qy(o,Kt.create[fn],u,u[Kt.anchorIdx])}}break;case 1:const Ze=a[++D],ct=a[++D];_b(p,xr(S>>>1,u),null,null,Ze,ct,null)}else switch(S){case Sm:const U=a[++D],ce=a[++D];null===u[ce]&&zr(u[ce]=QC(p,U),u);break;case fd:const be=a[++D],Fe=a[++D];null===u[Fe]&&zr(u[Fe]=ry(p,be,null),u)}}}function LT(o,a,u,h,p){for(let m=0;m<u.length;m++){const w=u[m],D=u[++m];if(w&p){let S="";for(let U=m+1;U<=m+D;U++){const ce=u[U];if("string"==typeof ce)S+=ce;else if("number"==typeof ce)if(ce<0)S+=Ce(a[h-ce]);else{const be=ce>>>2;switch(3&ce){case 1:const Fe=u[++U],Ze=u[++U],ct=o.data[be];"string"==typeof ct?_b(a[11],a[be],null,ct,Fe,S,Ze):Jo(o,ct,a,Fe,S,a[11],Ze,!1);break;case 0:const Dt=a[be];null!==Dt&&ru(a[11],Dt,S);break;case 2:dM(o,Am(o,be),a,S);break;case 3:Yb(o,Am(o,be),h,a)}}}}else{const S=u[m+1];if(S>0&&3==(3&S)){const ce=Am(o,S>>>2);a[ce.currentCaseLViewIndex]<0&&Yb(o,ce,h,a)}}m+=D}}function Yb(o,a,u,h){let p=h[a.currentCaseLViewIndex];if(null!==p){let m=Fh;p<0&&(p=h[a.currentCaseLViewIndex]=~p,m=-1),LT(o,h,a.update[p],u,m)}}function dM(o,a,u,h){const p=function hM(o,a){let u=o.cases.indexOf(a);if(-1===u)switch(o.type){case 1:{const h=function sM(o,a){const u=ST(a)(parseInt(o,10)),h=MT[u];return void 0!==h?h:"other"}(a,function oM(){return Kb}());u=o.cases.indexOf(h),-1===u&&"other"!==h&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(a,h);if(up(a,u)!==p&&(Qb(o,a,u),u[a.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const w=u[a.anchorIdx];w&&Qy(o,a.create[p],u,w)}}function Qb(o,a,u){let h=up(a,u);if(null!==h){const p=a.remove[h];for(let m=0;m<p.length;m++){const w=p[m];if(w>0){const D=xr(w,u);null!==D&&K0(u[11],D)}else Qb(o,Am(o,~w),u)}}}function fp(){const o=[];let u,h,a=-1;function m(D,S){a=0;const U=up(D,S);h=null!==U?D.remove[U]:an}function w(){if(a<h.length){const D=h[a++];return D>0?u[D]:(o.push(a,h),m(u[1].data[~D],u),w())}return 0===o.length?null:(h=o.pop(),a=o.pop(),w())}return function p(D,S){for(u=S;o.length;)o.pop();return m(D.value,S),w}}const Nm=/\ufffd(\d+):?\d*\ufffd/gi,ew=/\ufffd(\d+)\ufffd/,UT=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,VT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,HT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,tw=/\uE500/g;function Rm(o,a,u,h,p,m,w){const D=Qo(o,h,1,null);let S=D<<cr.SHIFT,U=Fo();a===U&&(U=null),null===U&&(S|=cr.APPEND_EAGERLY),w&&(S|=cr.COMMENT,function ZC(o){void 0===Of&&(Of=o())}(fp)),p.push(S,null===m?"":m);const ce=Ey(o,D,w?32:1,null===m?"":m,null);NT(u,ce);const be=ce.index;return ar(ce,!1),null!==U&&a!==U&&function cM(o,a){let u=o.insertBeforeIndex;null===u?(q0(Ky,Kr),u=o.insertBeforeIndex=[null,a]):(function de(o,a,u){o!=a&&_t(u,o,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(U,be),ce}function nw(o,a,u,h,p,m,w){const D=w.match(Nm),S=Rm(o,a,u,m,h,D?null:w,!1);D&&Bh(p,w,S.index,null,0,null)}function Bh(o,a,u,h,p,m){const w=o.length,D=w+1;o.push(null,null);const S=w+2,U=a.split(Nm);let ce=0;for(let be=0;be<U.length;be++){const Fe=U[be];if(1&be){const Ze=p+parseInt(Fe,10);o.push(-1-Ze),ce|=GT(Ze)}else""!==Fe&&o.push(Fe)}return o.push(u<<2|(h?1:0)),h&&o.push(h,m),o[w]=ce,o[D]=o.length-S,ce}function GT(o){return 1<<Math.min(o,31)}function zT(o){let a,m,u="",h=0,p=!1;for(;null!==(a=VT.exec(o));)p?a[0]===`\ufffd/*${m}\ufffd`&&(h=a.index,p=!1):(u+=o.substring(h,a.index+a[0].length),m=a[1],p=!0);return u+=o.slice(h),u}function WT(o,a,u,h,p,m){let w=0;const D={type:p.type,currentCaseLViewIndex:Qo(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function _M(o,a,u){o.push(GT(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,p,m),function Zy(o,a,u){const h=o.data[a];null===h?o.data[a]=u:h.value=u}(o,m,D);const S=p.values;for(let U=0;U<S.length;U++){const ce=S[U],be=[];for(let Fe=0;Fe<ce.length;Fe++){const Ze=ce[Fe];if("string"!=typeof Ze){const ct=be.push(Ze)-1;ce[Fe]=`\x3c!--\ufffd${ct}\ufffd--\x3e`}}w=km(o,D,a,u,h,p.cases[U],ce.join(""),be)|w}w&&function yM(o,a,u){o.push(a,1,u<<2|3)}(u,w,m)}function qT(o){const a=[],u=[];let h=1,p=0;const m=pp(o=o.replace(UT,function(w,D,S){return h="select"===S?0:1,p=parseInt(D.slice(1),10),""}));for(let w=0;w<m.length;){let D=m[w++].trim();1===h&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&a.push(D);const S=pp(m[w++]);a.length>u.length&&u.push(S)}return{type:h,mainBinding:p,cases:a,values:u}}function pp(o){if(!o)return[];let a=0;const u=[],h=[],p=/[{}]/g;let m;for(p.lastIndex=0;m=p.exec(o);){const D=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const S=o.substring(a,D);UT.test(S)?h.push(qT(S)):h.push(S),a=D+1}}else{if(0==u.length){const S=o.substring(a,D);h.push(S),a=D+1}u.push("{")}}const w=o.substring(a);return h.push(w),h}function km(o,a,u,h,p,m,w,D){const S=[],U=[],ce=[];a.cases.push(m),a.create.push(S),a.remove.push(U),a.update.push(ce);const Fe=$u(function E0(){return void 0!==Xl?Xl:typeof document<"u"?document:void 0}()).getInertBodyElement(w),Ze=nc(Fe)||Fe;return Ze?Xy(o,a,u,h,S,U,ce,Ze,p,D,0):0}function Xy(o,a,u,h,p,m,w,D,S,U,ce){let be=0,Fe=D.firstChild;for(;Fe;){const Ze=Qo(o,u,1,null);switch(Fe.nodeType){case Node.ELEMENT_NODE:const ct=Fe,Dt=ct.tagName.toLowerCase();if(Wt.hasOwnProperty(Dt)){sw(p,fd,Dt,S,Ze),o.data[Ze]=Dt;const yt=ct.attributes;for(let Cn=0;Cn<yt.length;Cn++){const Ei=yt.item(Cn),ur=Ei.name.toLowerCase();Ei.value.match(Nm)?qd.hasOwnProperty(ur)&&Bh(w,Ei.value,Ze,Ei.name,0,Jc[ur]?yg:null):ow(p,Ze,Ei)}be=Xy(o,a,u,h,p,m,w,Fe,Ze,U,ce+1)|be,rw(m,Ze,ce)}break;case Node.TEXT_NODE:const Ft=Fe.textContent||"",Kt=Ft.match(Nm);sw(p,null,Kt?"":Ft,S,Ze),rw(m,Ze,ce),Kt&&(be=Bh(w,Ft,Ze,null,0,null)|be);break;case Node.COMMENT_NODE:const fn=ew.exec(Fe.textContent||"");if(fn){const Cn=U[parseInt(fn[1],10)];sw(p,Sm,"",S,Ze),WT(o,u,h,S,Cn,Ze),mM(m,Ze,ce)}}Fe=Fe.nextSibling}return be}function rw(o,a,u){0===u&&o.push(a)}function mM(o,a,u){0===u&&(o.push(~a),o.push(a))}function sw(o,a,u,h,p){null!==a&&o.push(a),o.push(u,p,function Zb(o,a,u){return o|a<<17|u<<1}(0,h,p))}function ow(o,a,u){o.push(a<<1|1,u.name,u.value)}function uw(o,a,u=-1){const h=Mn(),p=ht(),m=22+o,w=ps(h.consts,a),D=Fo();h.firstCreatePass&&function Om(o,a,u,h,p,m){const w=Fo(),D=[],S=[],U=[[]];p=function gM(o,a){if(function $T(o){return-1===o}(a))return zT(o);{const u=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,h=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return zT(o.substring(u,h))}}(p,m);const ce=function Jy(o){return o.replace(tw," ")}(p).split(HT);for(let be=0;be<ce.length;be++){let Fe=ce[be];if(0==(1&be)){const Ze=pp(Fe);for(let ct=0;ct<Ze.length;ct++){let Dt=Ze[ct];if(0==(1&ct)){const Ft=Dt;""!==Ft&&nw(o,w,U[0],D,S,u,Ft)}else{const Ft=Dt;if("object"!=typeof Ft)throw new Error(`Unable to parse ICU expression in "${p}" message.`);WT(o,u,S,a,Ft,Rm(o,w,U[0],u,D,"",!0).index)}}}else{const Ze=47===Fe.charCodeAt(0),Dt=(Fe.charCodeAt(Ze?1:0),22+Number.parseInt(Fe.substring(Ze?2:1)));if(Ze)U.shift(),ar(Fo(),!1);else{const Ft=kT(o,U[0],Dt);U.unshift([]),ar(Ft,!0)}}}o.data[h]={create:D,update:S}}(h,null===D?0:D.index,p,m,w,u);const S=h.data[m],ce=nD(h,D===p[6]?null:D,p);(function FT(o,a,u,h){const p=o[11];for(let m=0;m<a.length;m++){const w=a[m++],D=a[m],S=(w&cr.COMMENT)===cr.COMMENT,U=(w&cr.APPEND_EAGERLY)===cr.APPEND_EAGERLY,ce=w>>>cr.SHIFT;let be=o[ce];null===be&&(be=o[ce]=S?p.createComment(D):sh(p,D)),U&&null!==u&&oh(p,u,be,h,!1)}})(p,S.create,ce,D&&8&D.type?p[D.index]:null),Lo(!0)}function nv(o,a,u){uw(o,a,u),function tv(){Lo(!1)}()}function iv(o){return function uM(o){o&&(Fh|=1<<Math.min(hp,31)),hp++}(wr(ht(),mo(),o)),iv}function ZT(o){!function PT(o,a,u){if(hp>0){const h=o.data[u];LT(o,a,Array.isArray(h)?h:h.update,function Xr(){return mn.lFrame.bindingIndex}()-hp-1,Fh)}Fh=0,hp=0}(Mn(),ht(),o+22)}function Lm(o,a,u,h,p){if(o=Q(o),Array.isArray(o))for(let m=0;m<o.length;m++)Lm(o[m],a,u,h,p);else{const m=Mn(),w=ht();let D=rc(o)?o:Q(o.provide),S=If(o);const U=xi(),ce=1048575&U.providerIndexes,be=U.directiveStart,Fe=U.providerIndexes>>20;if(rc(o)||!o.multi){const Ze=new _s(S,p,dl),ct=mp(D,a,p?ce:ce+Fe,be);-1===ct?(Xa(Uo(U,w),m,D),hw(m,o,a.length),a.push(D),U.directiveStart++,U.directiveEnd++,p&&(U.providerIndexes+=1048576),u.push(Ze),w.push(Ze)):(u[ct]=Ze,w[ct]=Ze)}else{const Ze=mp(D,a,ce+Fe,be),ct=mp(D,a,ce,ce+Fe),Dt=Ze>=0&&u[Ze],Ft=ct>=0&&u[ct];if(p&&!Ft||!p&&!Dt){Xa(Uo(U,w),m,D);const Kt=function pw(o,a,u,h,p){const m=new _s(o,u,dl);return m.multi=[],m.index=a,m.componentProviders=0,rv(m,p,h&&!u),m}(p?YT:fw,u.length,p,h,S);!p&&Ft&&(u[ct].providerFactory=Kt),hw(m,o,a.length,0),a.push(D),U.directiveStart++,U.directiveEnd++,p&&(U.providerIndexes+=1048576),u.push(Kt),w.push(Kt)}else hw(m,o,Ze>-1?Ze:ct,rv(u[p?ct:Ze],S,!p&&h));!p&&h&&Ft&&u[ct].componentProviders++}}}function hw(o,a,u,h){const p=rc(a),m=function Ig(o){return!!o.useClass}(a);if(p||m){const S=(m?Q(a.useClass):a).prototype.ngOnDestroy;if(S){const U=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const ce=U.indexOf(u);-1===ce?U.push(u,[h,S]):U[ce+1].push(h,S)}else U.push(u,S)}}}function rv(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function mp(o,a,u,h){for(let p=u;p<h;p++)if(a[p]===o)return p;return-1}function fw(o,a,u,h){return pd(this.multi,[])}function YT(o,a,u,h){const p=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,D=ba(u,u[1],this.providerFactory.index,h);m=D.slice(0,w),pd(p,m);for(let S=w;S<D.length;S++)m.push(D[S])}else m=[],pd(p,m);return m}function pd(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function QT(o,a=[]){return u=>{u.providersResolver=(h,p)=>function bM(o,a,u){const h=Mn();if(h.firstCreatePass){const p=rr(o);Lm(u,h.data,h.blueprint,p,!0),Lm(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class _p{}class gw{}function JT(o,a){return new sv(o,a??null)}class sv extends _p{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vb(this);const h=Ae(a);this._bootstrapComponents=ul(h.bootstrap),this._r3Injector=rb(a,u,[{provide:_p,useValue:this},{provide:Yu,useValue:this.componentFactoryResolver}],H(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class mw extends gw{constructor(a){super(),this.moduleType=a}create(a){return new sv(this.moduleType,a)}}class _w extends _p{constructor(a,u,h){super(),this.componentFactoryResolver=new vb(this),this.instance=null;const p=new Sg([...a,{provide:_p,useValue:this},{provide:Yu,useValue:this.componentFactoryResolver}],u||sc(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function yw(o,a,u=null){return new _w(o,a,u).injector}let vw=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Yd(0,u.type),p=h.length>0?yw([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=An({token:o,providedIn:"environment",factory:()=>new o(Vi(ks))}),o})();function XT(o){o.getStandaloneInjector=a=>a.get(vw).getOrCreateStandaloneInjector(o)}function nI(o,a,u,h){return aI(ht(),ki(),o,a,u,h)}function cv(o,a,u,h,p){return lI(ht(),ki(),o,a,u,h,p)}function uv(o,a,u,h,p,m){return function cI(o,a,u,h,p,m,w,D){const S=a+u;return function Oy(o,a,u,h,p){const m=lu(o,a,u,h);return wr(o,a+2,p)||m}(o,S,p,m,w)?pl(o,S+3,D?h.call(D,p,m,w):h(p,m,w)):bp(o,S+3)}(ht(),ki(),o,a,u,h,p,m)}function bp(o,a){const u=o[a];return u===Rn?void 0:u}function aI(o,a,u,h,p,m){const w=a+u;return wr(o,w,p)?pl(o,w+1,m?h.call(m,p):h(p)):bp(o,w+1)}function lI(o,a,u,h,p,m,w){const D=a+u;return lu(o,D,p,m)?pl(o,D+2,w?h.call(w,p,m):h(p,m)):bp(o,D+2)}function hv(o,a){const u=Mn();let h;const p=o+22;u.firstCreatePass?(h=function Dw(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}}(a,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const m=h.factory||(h.factory=Is(h.type)),w=at(dl);try{const D=Nu(!1),S=m();return Nu(D),function eT(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,ht(),p,S),S}finally{at(w)}}function fv(o,a,u){const h=o+22,p=ht(),m=Zs(p,h);return wp(p,h)?aI(p,ki(),a,m.transform,u,m):m.transform(u)}function dI(o,a,u,h){const p=o+22,m=ht(),w=Zs(m,p);return wp(m,p)?lI(m,ki(),a,w.transform,u,h,w):w.transform(u,h)}function wp(o,a){return o[1].data[a].pure}function Um(o){return a=>{setTimeout(o,void 0,a)}}const mc=class SM extends v.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){let p=a,m=u||(()=>null),w=h;if(a&&"object"==typeof a){const S=a;p=S.next?.bind(S),m=S.error?.bind(S),w=S.complete?.bind(S)}this.__isAsync&&(m=Um(m),p&&(p=Um(p)),w&&(w=Um(w)));const D=super.subscribe({next:p,error:m,complete:w});return a instanceof l.w0&&a.add(D),D}};function Sw(){return this._results[bh()]()}class pv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=bh(),h=pv.prototype;h[u]||(h[u]=Sw)}get changes(){return this._changes||(this._changes=new mc)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const p=is(a);(this._changesDetected=!function tl(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],m=a[h];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Mw,o})();const AM=Hh,Aw=class extends AM{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a,u){const h=this._declarationTContainer.tViews,p=od(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,u||null);p[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(p[19]=w.createEmbeddedView(h)),$f(h,p,a),new Yf(p)}};function Mw(){return Ep(xi(),ht())}function Ep(o,a){return 4&o.type?new Aw(a,o,b(o,a)):null}let du=(()=>{class o{}return o.__NG_ELEMENT_ID__=fI,o})();function fI(){return mv(xi(),ht())}const xw=du,pI=class extends xw{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return b(this._hostTNode,this._hostLView)}get injector(){return new Ea(this._hostTNode,this._hostLView)}get parentInjector(){const a=ma(this._hostTNode,this._hostLView);if(cf(a)){const u=jl(a,this._hostLView),h=yr(a);return new Ea(u[1].data[h+8],u)}return new Ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=gv(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){let p,m;"number"==typeof h?p=h:null!=h&&(p=h.index,m=h.injector);const w=a.createEmbeddedView(u||{},m);return this.insert(w,p),w}createComponent(a,u,h,p,m){const w=a&&!function ql(o){return"function"==typeof o}(a);let D;if(w)D=u;else{const be=u||{};D=be.index,h=be.injector,p=be.projectableNodes,m=be.environmentInjector||be.ngModuleRef}const S=w?a:new ld($e(a)),U=h||this.parentInjector;if(!m&&null==S.ngModule){const Fe=(w?U:this.parentInjector).get(ks,null);Fe&&(m=Fe)}const ce=S.create(U,p,void 0,m);return this.insert(ce.hostView,D),ce}insert(a,u){const h=a._lView,p=h[1];if(function Rl(o){return Wn(o[3])}(h)){const ce=this.indexOf(a);if(-1!==ce)this.detach(ce);else{const be=h[3],Fe=new pI(be,be[6],be[3]);Fe.detach(Fe.indexOf(a))}}const m=this._adjustIndex(u),w=this._lContainer;!function XC(o,a,u,h){const p=10+h,m=u.length;h>0&&(u[p-1][4]=a),h<m-10?(a[4]=u[p],qc(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const w=a[17];null!==w&&u!==w&&function bA(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(w,a);const D=a[19];null!==D&&D.insertView(o),a[2]|=64}(p,h,w,m);const D=uy(m,w),S=h[11],U=Ff(S,w[7]);return null!==U&&function Pf(o,a,u,h,p,m){h[0]=p,h[6]=a,Xu(o,h,u,1,p,m)}(p,w[6],S,h,U,D),a.attachToViewContainerRef(),qc(vl(w),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=gv(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=sy(this._lContainer,u);h&&(Vo(vl(this._lContainer),u),oy(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=sy(this._lContainer,u);return h&&null!=Vo(vl(this._lContainer),u)?new Yf(h):null}_adjustIndex(a,u=0){return a??this.length+u}};function gv(o){return o[8]}function vl(o){return o[8]||(o[8]=[])}function mv(o,a){let u;const h=a[o.index];if(Wn(h))u=h;else{let p;if(8&o.type)p=Ai(h);else{const m=a[11];p=m.createComment("");const w=or(o,a);oh(m,Ff(m,w),p,function rD(o,a){return o.nextSibling(a)}(m,w),!1)}a[o.index]=u=BD(h,a,p,o),Ma(a,u)}return new pI(u,o,a)}class Ow{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ow(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vm{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,p=[];for(let m=0;m<h;m++){const w=u.getByIndex(m);p.push(this.queries[w.indexInDeclarationView].clone())}return new Vm(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Lw(a,u).matches&&this.queries[u].setDirty()}}class gI{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class Hm{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,p);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new Hm(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Rw{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Rw(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(a,u,kw(u,m)),this.matchTNodeWithReadOption(a,u,bo(u,a,m,!1,!1))}else h===Hh?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,bo(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===g||p===du||p===Hh&&4&u.type)this.addMatch(u.index,-2);else{const m=bo(u,a,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function kw(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function Pw(o,a,u,h){return-1===u?function xM(o,a){return 11&o.type?b(o,a):4&o.type?Ep(o,a):null}(a,o):-2===u?function mI(o,a,u){return u===g?b(a,o):u===Hh?Ep(a,o):u===du?mv(a,o):void 0}(o,a,h):ba(o,o[1],u,a)}function _v(o,a,u,h){const p=a[19].queries[h];if(null===p.matches){const m=o.data,w=u.matches,D=[];for(let S=0;S<w.length;S+=2){const U=w[S];D.push(U<0?null:Pw(a,m[U],w[S+1],u.metadata.read))}p.matches=D}return p.matches}function yv(o,a,u,h){const p=o.queries.getByIndex(u),m=p.matches;if(null!==m){const w=_v(o,a,p,u);for(let D=0;D<m.length;D+=2){const S=m[D];if(S>0)h.push(w[D/2]);else{const U=m[D+1],ce=a[-S];for(let be=10;be<ce.length;be++){const Fe=ce[be];Fe[17]===Fe[3]&&yv(Fe[1],Fe,U,h)}if(null!==ce[9]){const be=ce[9];for(let Fe=0;Fe<be.length;Fe++){const Ze=be[Fe];yv(Ze[1],Ze,U,h)}}}}}return h}function _I(o){const a=ht(),u=Mn(),h=Fc();Za(h+1);const p=Lw(u,h);if(o.dirty&&function Ol(o){return 4==(4&o[2])}(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?yv(u,a,h,[]):_v(u,a,p,h);o.reset(m,_),o.notifyOnChanges()}return!0}return!1}function yI(o,a,u){const h=Mn();h.firstCreatePass&&(wv(h,new gI(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),bv(h,ht(),a)}function vv(o,a,u,h){const p=Mn();if(p.firstCreatePass){const m=xi();wv(p,new gI(a,u,h),m.index),function NM(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(p,o),2==(2&u)&&(p.staticContentQueries=!0)}bv(p,ht(),u)}function vI(){return function Fw(o,a){return o[19].queries[a].queryList}(ht(),Fc())}function bv(o,a,u){const h=new pv(4==(4&u));gb(o,a,h,h.destroy),null===a[19]&&(a[19]=new Vm),a[19].queries.push(new Ow(h))}function wv(o,a,u){null===o.queries&&(o.queries=new Hm),o.queries.track(new Rw(a,u))}function Lw(o,a){return o.queries.getByIndex(a)}function Bw(o,a){return Ep(o,a)}function Zw(...o){}const Yw=new bi("Application Initializer");let Iv=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Zw,this.reject=Zw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(Ih(m))u.push(m);else if(Vy(m)){const w=new Promise((D,S)=>{m.subscribe({complete:D,error:S})});u.push(w)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Vi(Yw,8))},o.\u0275prov=An({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const RI=new bi("AppId",{providedIn:"root",factory:function Qw(){return`${Jw()}${Jw()}${Jw()}`}});function Jw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kI=new bi("Platform Initializer"),VM=new bi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HM=new bi("appBootstrapListener"),jM=new bi("AnimationModuleType");let PI=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=An({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Oa=new bi("LocaleId",{providedIn:"root",factory:()=>M(Oa,k.Optional|k.SkipSelf)||function yc(){return typeof $localize<"u"&&$localize.locale||kh}()}),ok=new bi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class GM{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let FI=(()=>{class o{compileModuleSync(u){return new mw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=ul(Ae(u).declarations).reduce((w,D)=>{const S=$e(D);return S&&w.push(new ld(S)),w},[]);return new GM(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=An({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const tE=(()=>Promise.resolve(0))();function nE(o){typeof Zone>"u"?tE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ka{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function zM(){let o=Vn.requestAnimationFrame,a=Vn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function jh(o){const a=()=>{!function BI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Vn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Av(o),o.isCheckStableRunning=!0,Qm(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Av(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,m,w,D)=>{try{return rE(o),u.invokeTask(p,m,w,D)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Mv(o)}},onInvoke:(u,h,p,m,w,D,S)=>{try{return rE(o),u.invoke(p,m,w,D,S)}finally{o.shouldCoalesceRunChangeDetection&&a(),Mv(o)}},onHasTask:(u,h,p,m)=>{u.hasTask(p,m),h===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Av(o),Qm(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,p,m)=>(u.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ka.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(ka.isInAngularZone())throw new J(909,!1)}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,p){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+p,a,iE,Zw,Zw);try{return m.runTask(w,u,h)}finally{m.cancelTask(w)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const iE={};function Qm(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Av(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function rE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Mv(o){o._nesting--,Qm(o)}class sE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,p){return a.apply(u,h)}}const UI=new bi(""),Jm=new bi("");let aE,xv=(()=>{class o{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aE||(function Xm(o){aE=o}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ka.assertNotInAngularZone(),nE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return o.\u0275fac=function(u){return new(u||o)(Vi(ka),Vi(oE),Vi(Jm))},o.\u0275prov=An({token:o,factory:o.\u0275fac}),o})(),oE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return aE?.findTestabilityInTree(this,u,h)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=An({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),bl=null;const lE=new bi("AllowMultipleToken"),Gh=new bi("PlatformDestroyListeners");class KM{constructor(a,u){this.name=a,this.token=u}}function jI(o,a,u=[]){const h=`Platform: ${a}`,p=new bi(h);return(m=[])=>{let w=uE();if(!w||w.injector.get(lE,!1)){const D=[...u,...m,{provide:p,useValue:!0}];o?o(D):function VI(o){if(bl&&!bl.get(lE,!1))throw new J(400,!1);bl=o;const a=o.get(dE);(function HI(o){const a=o.get(kI,null);a&&a.forEach(u=>u())})(o)}(function cE(o=[],a){return ch.create({name:a,providers:[{provide:Wu,useValue:"platform"},{provide:Gh,useValue:new Set([()=>bl=null])},...o]})}(D,h))}return function QM(o){const a=uE();if(!a)throw new J(401,!1);return a}()}}function uE(){return bl?.get(dE)??null}let dE=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function fE(o,a){let u;return u="noop"===o?new sE:("zone.js"===o?void 0:o)||new ka(a),u}(h?.ngZone,function hE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:ka,useValue:p}];return p.run(()=>{const w=ch.create({providers:m,parent:this.injector,name:u.moduleType.name}),D=u.create(w),S=D.injector.get(Bg,null);if(!S)throw new J(402,!1);return p.runOutsideAngular(()=>{const U=p.onError.subscribe({next:ce=>{S.handleError(ce)}});D.onDestroy(()=>{Ov(this._modules,D),U.unsubscribe()})}),function pE(o,a,u){try{const h=u();return Ih(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(S,p,()=>{const U=D.injector.get(Iv);return U.runInitializers(),U.donePromise.then(()=>(xT(D.injector.get(Oa,kh)||kh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,h=[]){const p=Nv({},h);return function WM(o,a,u){const h=new mw(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const h=u.injector.get($h);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new J(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Gh,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Vi(ch))},o.\u0275prov=An({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Nv(o,a){return Array.isArray(a)?a.reduce(Nv,o):{...o,...a}}let $h=(()=>{class o{constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new x.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new x.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ka.assertNotInAngularZone(),nE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{ka.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),U.unsubscribe()}});this.isStable=(0,ee.T)(m,w.pipe((0,te.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof Sf;if(!this._injector.get(Iv).done)throw!p&&Ne(u),new J(405,false);let w;w=p?u:this._injector.get(Yu).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const D=function qM(o){return o.isBoundToModule}(w)?void 0:this._injector.get(_p),U=w.create(ch.NULL,[],h||w.selector,D),ce=U.location.nativeElement,be=U.injector.get(UI,null);return be?.registerApplication(ce),U.onDestroy(()=>{this.detachView(U.hostView),Ov(this.components,U),be?.unregisterApplication(ce)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Ov(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(HM,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Ov(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new J(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(Vi(ka),Vi(ks),Vi(Bg))},o.\u0275prov=An({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ov(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let Sp=!0,fu=!1;function JM(){return fu=!0,Sp}function GI(){if(fu)throw new Error("Cannot enable prod mode after platform setup.");Sp=!1}let XM=(()=>{class o{}return o.__NG_ELEMENT_ID__=ex,o})();function ex(o){return function tx(o,a,u){if(la(o)&&!u){const h=Kn(o.index,a);return new Yf(h,h)}return 47&o.type?new Yf(a[16],a):null}(xi(),ht(),16==(16&o))}class ox{constructor(){}supports(a){return gm(a)}create(a){return new ax(a)}}const qI=(o,a)=>a;class ax{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||qI}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,p=0,m=null;for(;u||h;){const w=!h||u&&u.currentIndex<bE(h,p,m)?u:h,D=bE(w,p,m),S=w.currentIndex;if(w===h)p--,h=h._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{m||(m=[]);const U=D-p,ce=S-p;if(U!=ce){for(let Fe=0;Fe<U;Fe++){const Ze=Fe<m.length?m[Fe]:m[Fe]=0,ct=Ze+Fe;ce<=ct&&ct<U&&(m[Fe]=Ze+1)}m[w.previousIndex]=ce-U}}D!==S&&a(w,D,S)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!gm(a))throw new J(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,w,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)m=a[D],w=this._trackByFn(D,m),null!==u&&Object.is(u.trackById,w)?(h&&(u=this._verifyReinsertion(u,m,w,D)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,w,D),h=!0),u=u._next}else p=0,function Qf(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[bh()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,D=>{w=this._trackByFn(p,D),null!==u&&Object.is(u.trackById,w)?(h&&(u=this._verifyReinsertion(u,D,w,p)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,w,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,p)):a=this._addAfter(new lx(u,h),m,p),a}_verifyReinsertion(a,u,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const p=null===u?this._itHead:u._next;return a._next=p,a._prev=u,null===p?this._itTail=a:p._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new vE),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class lx{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class vE{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new yE,this.map.set(u,h)),h.add(a)}get(a,u){const p=this.map.get(a);return p?p.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bE(o,a,u){const h=o.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+a+p}class xp{constructor(){}supports(a){return a instanceof Map||fl(a)}create(){return new wE}}class wE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||fl(a)))throw new J(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,u);const m=p._prev,w=p._next;return m&&(m._next=w),w&&(w._prev=m),p._next=null,p._prev=null,p}const h=new cx(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class cx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KI(){return new Fv([new ox])}let Fv=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||KI()),deps:[[o,new un,new xt]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new J(901,!1)}}return o.\u0275prov=An({token:o,providedIn:"root",factory:KI}),o})();function ZI(){return new Lv([new xp])}let Lv=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||ZI()),deps:[[o,new un,new xt]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new J(901,!1)}}return o.\u0275prov=An({token:o,providedIn:"root",factory:ZI}),o})();const QI=jI(null,"core",[]);let JI=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Vi($h))},o.\u0275mod=gn({type:o}),o.\u0275inj=pe({}),o})();function e_(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function ux(o,a){const u=$e(o),h=a.elementInjector||sc();return new ld(u).create(h,a.projectableNodes,a.hostElement,a.environmentInjector)}},4859:(je,we,I)=>{"use strict";I.d(we,{lW:()=>j,ot:()=>Q});var v=I(4650),l=I(3238),x=I(2693);const ee=["mat-button",""],te=["*"],H=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],$=(0,l.pj)((0,l.Id)((0,l.Kr)(class{constructor(ne){this._elementRef=ne}})));let j=(()=>{class ne extends ${constructor(J,De,Ce){super(J),this._focusMonitor=De,this._animationMode=Ce,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const W of H)this._hasHostAttributes(W)&&this._getHostElement().classList.add(W);J.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(J,De){J?this._focusMonitor.focusVia(this._getHostElement(),J,De):this._getHostElement().focus(De)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...J){return J.some(De=>this._getHostElement().hasAttribute(De))}}return ne.\u0275fac=function(J){return new(J||ne)(v.Y36(v.SBq),v.Y36(x.tE),v.Y36(v.QbO,8))},ne.\u0275cmp=v.Xpm({type:ne,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(J,De){if(1&J&&v.Gf(l.wG,5),2&J){let Ce;v.iGM(Ce=v.CRH())&&(De.ripple=Ce.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(J,De){2&J&&(v.uIk("disabled",De.disabled||null),v.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode)("mat-button-disabled",De.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[v.qOj],attrs:ee,ngContentSelectors:te,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(J,De){1&J&&(v.F$t(),v.TgZ(0,"span",0),v.Hsn(1),v.qZA(),v._UZ(2,"span",1)(3,"span",2)),2&J&&(v.xp6(2),v.ekj("mat-button-ripple-round",De.isRoundButton||De.isIconButton),v.Q6J("matRippleDisabled",De._isRippleDisabled())("matRippleCentered",De.isIconButton)("matRippleTrigger",De._getHostElement()))},dependencies:[l.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),ne})(),Q=(()=>{class ne{}return ne.\u0275fac=function(J){return new(J||ne)},ne.\u0275mod=v.oAB({type:ne}),ne.\u0275inj=v.cJS({imports:[l.si,l.BQ,l.BQ]}),ne})()},3238:(je,we,I)=>{"use strict";I.d(we,{rD:()=>Bn,BQ:()=>W,uc:()=>pe,wG:()=>L,si:()=>k,pj:()=>q,Kr:()=>ye,Id:()=>N,FD:()=>oe,sb:()=>se});var v=I(4650),l=I(2693),x=I(445),te=I(6895),K=I(3353),R=I(1281);const Ce=new v.OlP("mat-sanity-checks",{providedIn:"root",factory:function De(){return!0}});let W=(()=>{class ft{constructor(Ve,ot,$t){this._sanityChecks=ot,this._document=$t,this._hasDoneGlobalChecks=!1,Ve._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Ve){return!(0,K.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Ve])}}return ft.\u0275fac=function(Ve){return new(Ve||ft)(v.LFG(l.qm),v.LFG(Ce,8),v.LFG(te.K0))},ft.\u0275mod=v.oAB({type:ft}),ft.\u0275inj=v.cJS({imports:[x.vT,x.vT]}),ft})();function N(ft){return class extends ft{constructor(...ke){super(...ke),this._disabled=!1}get disabled(){return this._disabled}set disabled(ke){this._disabled=(0,R.Ig)(ke)}}}function q(ft,ke){return class extends ft{constructor(...Ve){super(...Ve),this.defaultColor=ke,this.color=ke}get color(){return this._color}set color(Ve){const ot=Ve||this.defaultColor;ot!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ot&&this._elementRef.nativeElement.classList.add(`mat-${ot}`),this._color=ot)}}}function ye(ft){return class extends ft{constructor(...ke){super(...ke),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ke){this._disableRipple=(0,R.Ig)(ke)}}}function se(ft,ke=0){return class extends ft{constructor(...Ve){super(...Ve),this._tabIndex=ke,this.defaultTabIndex=ke}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Ve){this._tabIndex=null!=Ve?(0,R.su)(Ve):this.defaultTabIndex}}}function oe(ft){return class extends ft{constructor(...ke){super(...ke),this.errorState=!1}updateErrorState(){const ke=this.errorState,Gn=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Gn!==ke&&(this.errorState=Gn,this.stateChanges.next())}}}let Bn=(()=>{class ft{isErrorState(Ve,ot){return!!(Ve&&Ve.invalid&&(Ve.touched||ot&&ot.submitted))}}return ft.\u0275fac=function(Ve){return new(Ve||ft)},ft.\u0275prov=v.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),pe=(()=>{class ft{}return ft.\u0275fac=function(Ve){return new(Ve||ft)},ft.\u0275mod=v.oAB({type:ft}),ft.\u0275inj=v.cJS({imports:[W,W]}),ft})();class le{constructor(ke,Ve,ot,$t=!1){this._renderer=ke,this.element=Ve,this.config=ot,this._animationForciblyDisabledThroughCss=$t,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lt={enterDuration:225,exitDuration:150},nn=(0,K.i$)({passive:!0}),bn=["mousedown","touchstart"],wn=["mouseup","mouseleave","touchend","touchcancel"];class Un{constructor(ke,Ve,ot,$t){this._target=ke,this._ngZone=Ve,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,$t.isBrowser&&(this._containerElement=(0,R.fI)(ot))}fadeInRipple(ke,Ve,ot={}){const $t=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Gn={...lt,...ot.animation};ot.centered&&(ke=$t.left+$t.width/2,Ve=$t.top+$t.height/2);const Ot=ot.radius||function Yn(ft,ke,Ve){const ot=Math.max(Math.abs(ft-Ve.left),Math.abs(ft-Ve.right)),$t=Math.max(Math.abs(ke-Ve.top),Math.abs(ke-Ve.bottom));return Math.sqrt(ot*ot+$t*$t)}(ke,Ve,$t),ut=ke-$t.left,Bt=Ve-$t.top,Qt=Gn.enterDuration,Ut=document.createElement("div");Ut.classList.add("mat-ripple-element"),Ut.style.left=ut-Ot+"px",Ut.style.top=Bt-Ot+"px",Ut.style.height=2*Ot+"px",Ut.style.width=2*Ot+"px",null!=ot.color&&(Ut.style.backgroundColor=ot.color),Ut.style.transitionDuration=`${Qt}ms`,this._containerElement.appendChild(Ut);const gn=window.getComputedStyle(Ut),Me=gn.transitionDuration,Be="none"===gn.transitionProperty||"0s"===Me||"0s, 0s"===Me,st=new le(this,Ut,ot,Be);Ut.style.transform="scale3d(1, 1, 1)",st.state=0,ot.persistent||(this._mostRecentTransientRipple=st);let $e=null;return!Be&&(Qt||Gn.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const At=()=>this._finishRippleTransition(st),He=()=>this._destroyRipple(st);Ut.addEventListener("transitionend",At),Ut.addEventListener("transitioncancel",He),$e={onTransitionEnd:At,onTransitionCancel:He}}),this._activeRipples.set(st,$e),(Be||!Qt)&&this._finishRippleTransition(st),st}fadeOutRipple(ke){if(2===ke.state||3===ke.state)return;const Ve=ke.element,ot={...lt,...ke.config.animation};Ve.style.transitionDuration=`${ot.exitDuration}ms`,Ve.style.opacity="0",ke.state=2,(ke._animationForciblyDisabledThroughCss||!ot.exitDuration)&&this._finishRippleTransition(ke)}fadeOutAll(){this._getActiveRipples().forEach(ke=>ke.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ke=>{ke.config.persistent||ke.fadeOut()})}setupTriggerEvents(ke){const Ve=(0,R.fI)(ke);!Ve||Ve===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Ve,this._registerEvents(bn))}handleEvent(ke){"mousedown"===ke.type?this._onMousedown(ke):"touchstart"===ke.type?this._onTouchStart(ke):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(wn),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ke){0===ke.state?this._startFadeOutTransition(ke):2===ke.state&&this._destroyRipple(ke)}_startFadeOutTransition(ke){const Ve=ke===this._mostRecentTransientRipple,{persistent:ot}=ke.config;ke.state=1,!ot&&(!Ve||!this._isPointerDown)&&ke.fadeOut()}_destroyRipple(ke){const Ve=this._activeRipples.get(ke)??null;this._activeRipples.delete(ke),this._activeRipples.size||(this._containerRect=null),ke===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ke.state=3,null!==Ve&&(ke.element.removeEventListener("transitionend",Ve.onTransitionEnd),ke.element.removeEventListener("transitioncancel",Ve.onTransitionCancel)),ke.element.remove()}_onMousedown(ke){const Ve=(0,l.X6)(ke),ot=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Ve&&!ot&&(this._isPointerDown=!0,this.fadeInRipple(ke.clientX,ke.clientY,this._target.rippleConfig))}_onTouchStart(ke){if(!this._target.rippleDisabled&&!(0,l.yG)(ke)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Ve=ke.changedTouches;for(let ot=0;ot<Ve.length;ot++)this.fadeInRipple(Ve[ot].clientX,Ve[ot].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(ke=>{!ke.config.persistent&&(1===ke.state||ke.config.terminateOnPointerUp&&0===ke.state)&&ke.fadeOut()}))}_registerEvents(ke){this._ngZone.runOutsideAngular(()=>{ke.forEach(Ve=>{this._triggerElement.addEventListener(Ve,this,nn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(bn.forEach(ke=>{this._triggerElement.removeEventListener(ke,this,nn)}),this._pointerUpEventsRegistered&&wn.forEach(ke=>{this._triggerElement.removeEventListener(ke,this,nn)}))}}const ve=new v.OlP("mat-ripple-global-options");let L=(()=>{class ft{constructor(Ve,ot,$t,Gn,Ot){this._elementRef=Ve,this._animationMode=Ot,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Gn||{},this._rippleRenderer=new Un(this,ot,Ve,$t)}get disabled(){return this._disabled}set disabled(Ve){Ve&&this.fadeOutAllNonPersistent(),this._disabled=Ve,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Ve){this._trigger=Ve,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Ve,ot=0,$t){return"number"==typeof Ve?this._rippleRenderer.fadeInRipple(Ve,ot,{...this.rippleConfig,...$t}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Ve})}}return ft.\u0275fac=function(Ve){return new(Ve||ft)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(K.t4),v.Y36(ve,8),v.Y36(v.QbO,8))},ft.\u0275dir=v.lG2({type:ft,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ve,ot){2&Ve&&v.ekj("mat-ripple-unbounded",ot.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),ft})(),k=(()=>{class ft{}return ft.\u0275fac=function(Ve){return new(Ve||ft)},ft.\u0275mod=v.oAB({type:ft}),ft.\u0275inj=v.cJS({imports:[W,W]}),ft})()},782:(je,we,I)=>{"use strict";I.d(we,{DX:()=>Q,Il:()=>se,N6:()=>oe});var v=I(4650),l=I(3238),x=I(1281),ee=I(445);const te=["*"];class ${constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const ae=Math.max(...this.tracker);return ae>1?this.rowCount+ae-1:this.rowCount}update(ae,fe){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(ae),this.tracker.fill(0,0,this.tracker.length),this.positions=fe.map(Se=>this._trackTile(Se))}_trackTile(ae){const fe=this._findMatchingGap(ae.colspan);return this._markTilePosition(fe,ae),this.columnIndex=fe+ae.colspan,new j(this.rowIndex,fe)}_findMatchingGap(ae){let fe=-1,Se=-1;do{this.columnIndex+ae>this.tracker.length?(this._nextRow(),fe=this.tracker.indexOf(0,this.columnIndex),Se=this._findGapEndIndex(fe)):(fe=this.tracker.indexOf(0,this.columnIndex),-1!=fe?(Se=this._findGapEndIndex(fe),this.columnIndex=fe+1):(this._nextRow(),fe=this.tracker.indexOf(0,this.columnIndex),Se=this._findGapEndIndex(fe)))}while(Se-fe<ae||0==Se);return Math.max(fe,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let ae=0;ae<this.tracker.length;ae++)this.tracker[ae]=Math.max(0,this.tracker[ae]-1)}_findGapEndIndex(ae){for(let fe=ae+1;fe<this.tracker.length;fe++)if(0!=this.tracker[fe])return fe;return this.tracker.length}_markTilePosition(ae,fe){for(let Se=0;Se<fe.colspan;Se++)this.tracker[ae+Se]=fe.rowspan}}class j{constructor(ae,fe){this.row=ae,this.col=fe}}const Y=new v.OlP("MAT_GRID_LIST");let Q=(()=>{class re{constructor(fe,Se){this._element=fe,this._gridList=Se,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(fe){this._rowspan=Math.round((0,x.su)(fe))}get colspan(){return this._colspan}set colspan(fe){this._colspan=Math.round((0,x.su)(fe))}_setStyle(fe,Se){this._element.nativeElement.style[fe]=Se}}return re.\u0275fac=function(fe){return new(fe||re)(v.Y36(v.SBq),v.Y36(Y,8))},re.\u0275cmp=v.Xpm({type:re,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(fe,Se){2&fe&&v.uIk("rowspan",Se.rowspan)("colspan",Se.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:te,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(fe,Se){1&fe&&(v.F$t(),v.TgZ(0,"div",0),v.Hsn(1),v.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),re})();const Ce=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class W{constructor(){this._rows=0,this._rowspan=0}init(ae,fe,Se,Je){this._gutterSize=q(ae),this._rows=fe.rowCount,this._rowspan=fe.rowspan,this._cols=Se,this._direction=Je}getBaseTileSize(ae,fe){return`(${ae}% - (${this._gutterSize} * ${fe}))`}getTilePosition(ae,fe){return 0===fe?"0":N(`(${ae} + ${this._gutterSize}) * ${fe}`)}getTileSize(ae,fe){return`(${ae} * ${fe}) + (${fe-1} * ${this._gutterSize})`}setStyle(ae,fe,Se){let Je=100/this._cols,qe=(this._cols-1)/this._cols;this.setColStyles(ae,Se,Je,qe),this.setRowStyles(ae,fe,Je,qe)}setColStyles(ae,fe,Se,Je){let qe=this.getBaseTileSize(Se,Je);ae._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(qe,fe)),ae._setStyle("width",N(this.getTileSize(qe,ae.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(ae){return`${this._rowspan} * ${this.getTileSize(ae,1)}`}getComputedHeight(){return null}}class _e extends W{constructor(ae){super(),this.fixedRowHeight=ae}init(ae,fe,Se,Je){super.init(ae,fe,Se,Je),this.fixedRowHeight=q(this.fixedRowHeight),Ce.test(this.fixedRowHeight)}setRowStyles(ae,fe){ae._setStyle("top",this.getTilePosition(this.fixedRowHeight,fe)),ae._setStyle("height",N(this.getTileSize(this.fixedRowHeight,ae.rowspan)))}getComputedHeight(){return["height",N(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(ae){ae._setListStyle(["height",null]),ae._tiles&&ae._tiles.forEach(fe=>{fe._setStyle("top",null),fe._setStyle("height",null)})}}class z extends W{constructor(ae){super(),this._parseRatio(ae)}setRowStyles(ae,fe,Se,Je){this.baseTileHeight=this.getBaseTileSize(Se/this.rowHeightRatio,Je),ae._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,fe)),ae._setStyle("paddingTop",N(this.getTileSize(this.baseTileHeight,ae.rowspan)))}getComputedHeight(){return["paddingBottom",N(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(ae){ae._setListStyle(["paddingBottom",null]),ae._tiles.forEach(fe=>{fe._setStyle("marginTop",null),fe._setStyle("paddingTop",null)})}_parseRatio(ae){const fe=ae.split(":");this.rowHeightRatio=parseFloat(fe[0])/parseFloat(fe[1])}}class P extends W{setRowStyles(ae,fe){let qe=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);ae._setStyle("top",this.getTilePosition(qe,fe)),ae._setStyle("height",N(this.getTileSize(qe,ae.rowspan)))}reset(ae){ae._tiles&&ae._tiles.forEach(fe=>{fe._setStyle("top",null),fe._setStyle("height",null)})}}function N(re){return`calc(${re})`}function q(re){return re.match(/([A-Za-z%]+)$/)?re:`${re}px`}let se=(()=>{class re{constructor(fe,Se){this._element=fe,this._dir=Se,this._gutter="1px"}get cols(){return this._cols}set cols(fe){this._cols=Math.max(1,Math.round((0,x.su)(fe)))}get gutterSize(){return this._gutter}set gutterSize(fe){this._gutter=`${fe??""}`}get rowHeight(){return this._rowHeight}set rowHeight(fe){const Se=`${fe??""}`;Se!==this._rowHeight&&(this._rowHeight=Se,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(fe){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===fe?new P:fe&&fe.indexOf(":")>-1?new z(fe):new _e(fe)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new $);const fe=this._tileCoordinator,Se=this._tiles.filter(qe=>!qe._gridList||qe._gridList===this),Je=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,Se),this._tileStyler.init(this.gutterSize,fe,this.cols,Je),Se.forEach((qe,Ct)=>{const kt=fe.positions[Ct];this._tileStyler.setStyle(qe,kt.row,kt.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(fe){fe&&(this._element.nativeElement.style[fe[0]]=fe[1])}}return re.\u0275fac=function(fe){return new(fe||re)(v.Y36(v.SBq),v.Y36(ee.Is,8))},re.\u0275cmp=v.Xpm({type:re,selectors:[["mat-grid-list"]],contentQueries:function(fe,Se,Je){if(1&fe&&v.Suo(Je,Q,5),2&fe){let qe;v.iGM(qe=v.CRH())&&(Se._tiles=qe)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(fe,Se){2&fe&&v.uIk("cols",Se.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[v._Bn([{provide:Y,useExisting:re}])],ngContentSelectors:te,decls:2,vars:0,template:function(fe,Se){1&fe&&(v.F$t(),v.TgZ(0,"div"),v.Hsn(1),v.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),re})(),oe=(()=>{class re{}return re.\u0275fac=function(fe){return new(fe||re)},re.\u0275mod=v.oAB({type:re}),re.\u0275inj=v.cJS({imports:[l.uc,l.BQ,l.uc,l.BQ]}),re})()},3942:(je,we,I)=>{"use strict";I.d(we,{Z:()=>J});var v=I(2090),l=I(3475),x=I(9681),ee=I(1877);class te{constructor(Ce,W){this._delegate=Ce,this.firebase=W,(0,x._addComponent)(Ce,new l.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Ce,W=x._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const z=this._delegate.container.getProvider(Ce);return!z.isInitialized()&&"EXPLICIT"===(null===(_e=z.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&z.initialize(),z.getImmediate({identifier:W})}_removeServiceInstance(Ce,W=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(W)}_addComponent(Ce){(0,x._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,x._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const R=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function $(){const De=function H(De){const Ce={},W={__esModule:!0,initializeApp:function P(se,oe={}){const de=x.initializeApp(se,oe);if((0,v.r3)(Ce,de.name))return Ce[de.name];const re=new De(de,W);return Ce[de.name]=re,re},app:z,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function q(se){const oe=se.name,de=oe.replace("-compat","");if(x._registerComponent(se)&&"PUBLIC"===se.type){const re=(ae=z())=>{if("function"!=typeof ae[de])throw R.create("invalid-app-argument",{appName:oe});return ae[de]()};void 0!==se.serviceProps&&(0,v.ZB)(re,se.serviceProps),W[de]=re,De.prototype[de]=function(...ae){return this._getService.bind(this,oe).apply(this,se.multipleInstances?ae:[])}}return"PUBLIC"===se.type?W[de]:null},removeApp:function _e(se){delete Ce[se]},useAsService:function ye(se,oe){return"serverAuth"===oe?null:oe},modularAPIs:x}};function z(se){if(!(0,v.r3)(Ce,se=se||x._DEFAULT_ENTRY_NAME))throw R.create("no-app",{appName:se});return Ce[se]}return W.default=W,Object.defineProperty(W,"apps",{get:function N(){return Object.keys(Ce).map(se=>Ce[se])}}),z.App=De,W}(te);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function Ce(W){(0,v.ZB)(De,W)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),De}(),Y=new ee.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const J=j;!function Z(De){(0,x.registerVersion)("@firebase/app-compat","0.1.39",De)}()},9681:(je,we,I)=>{"use strict";I.r(we),I.d(we,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>wn,_DEFAULT_ENTRY_NAME:()=>tn,_addComponent:()=>In,_addOrOverwriteComponent:()=>An,_apps:()=>sn,_clearComponents:()=>lt,_components:()=>Bn,_getProvider:()=>pe,_registerComponent:()=>di,_removeServiceInstance:()=>le,deleteApp:()=>L,getApp:()=>Yn,getApps:()=>ve,initializeApp:()=>Un,onLog:()=>Ke,registerVersion:()=>Ee,setLogLevel:()=>at});var v=I(5861),l=I(3475),x=I(1877),ee=I(2090),te=I(8766);class K{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function R(Ot){return"VERSION"===Ot.getComponent()?.type}(Bt)){const Qt=Bt.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(Bt=>Bt).join(" ")}}const H="@firebase/app",$="0.8.4",j=new x.Yd("@firebase/app"),tn="[DEFAULT]",_t={[H]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,Bn=new Map;function In(Ot,ut){try{Ot.container.addComponent(ut)}catch(Bt){j.debug(`Component ${ut.name} failed to register with FirebaseApp ${Ot.name}`,Bt)}}function An(Ot,ut){Ot.container.addOrOverwriteComponent(ut)}function di(Ot){const ut=Ot.name;if(Bn.has(ut))return j.debug(`There were multiple attempts to register component ${ut}.`),!1;Bn.set(ut,Ot);for(const Bt of sn.values())In(Bt,Ot);return!0}function pe(Ot,ut){const Bt=Ot.container.getProvider("heartbeat").getImmediate({optional:!0});return Bt&&Bt.triggerHeartbeat(),Ot.container.getProvider(ut)}function le(Ot,ut,Bt=tn){pe(Ot,ut).clearInstance(Bt)}function lt(){Bn.clear()}const nn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(ut,Bt,Qt){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new l.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const wn="9.14.0";function Un(Ot,ut={}){let Bt=Ot;"object"!=typeof ut&&(ut={name:ut});const Qt=Object.assign({name:tn,automaticDataCollectionEnabled:!1},ut),Ut=Qt.name;if("string"!=typeof Ut||!Ut)throw nn.create("bad-app-name",{appName:String(Ut)});if(Bt||(Bt=(0,ee.aH)()),!Bt)throw nn.create("no-options");const gn=sn.get(Ut);if(gn){if((0,ee.vZ)(Bt,gn.options)&&(0,ee.vZ)(Qt,gn.config))return gn;throw nn.create("duplicate-app",{appName:Ut})}const Oe=new l.H0(Ut);for(const Be of Bn.values())Oe.addComponent(Be);const Me=new bn(Bt,Qt,Oe);return sn.set(Ut,Me),Me}function Yn(Ot=tn){const ut=sn.get(Ot);if(!ut&&Ot===tn)return Un();if(!ut)throw nn.create("no-app",{appName:Ot});return ut}function ve(){return Array.from(sn.values())}function L(Ot){return k.apply(this,arguments)}function k(){return(k=(0,v.Z)(function*(Ot){const ut=Ot.name;sn.has(ut)&&(sn.delete(ut),yield Promise.all(Ot.container.getProviders().map(Bt=>Bt.delete())),Ot.isDeleted=!0)})).apply(this,arguments)}function Ee(Ot,ut,Bt){var Qt;let Ut=null!==(Qt=_t[Ot])&&void 0!==Qt?Qt:Ot;Bt&&(Ut+=`-${Bt}`);const gn=Ut.match(/\s|\//),Oe=ut.match(/\s|\//);if(gn||Oe){const Me=[`Unable to register library "${Ut}" with version "${ut}":`];return gn&&Me.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),gn&&Oe&&Me.push("and"),Oe&&Me.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void j.warn(Me.join(" "))}di(new l.wA(`${Ut}-version`,()=>({library:Ut,version:ut}),"VERSION"))}function Ke(Ot,ut){if(null!==Ot&&"function"!=typeof Ot)throw nn.create("invalid-log-argument");(0,x.Am)(Ot,ut)}function at(Ot){(0,x.Ub)(Ot)}const rn="firebase-heartbeat-store";let cn=null;function yn(){return cn||(cn=(0,te.X3)("firebase-heartbeat-database",1,{upgrade:(Ot,ut)=>{0===ut&&Ot.createObjectStore(rn)}}).catch(Ot=>{throw nn.create("idb-open",{originalErrorMessage:Ot.message})})),cn}function Ht(){return(Ht=(0,v.Z)(function*(Ot){var ut;try{return(yield yn()).transaction(rn).objectStore(rn).get(Qn(Ot))}catch(Bt){if(Bt instanceof ee.ZR)j.warn(Bt.message);else{const Qt=nn.create("idb-get",{originalErrorMessage:null===(ut=Bt)||void 0===ut?void 0:ut.message});j.warn(Qt.message)}}})).apply(this,arguments)}function Vn(Ot,ut){return vi.apply(this,arguments)}function vi(){return(vi=(0,v.Z)(function*(Ot,ut){var Bt;try{const Ut=(yield yn()).transaction(rn,"readwrite");return yield Ut.objectStore(rn).put(ut,Qn(Ot)),Ut.done}catch(Qt){if(Qt instanceof ee.ZR)j.warn(Qt.message);else{const Ut=nn.create("idb-set",{originalErrorMessage:null===(Bt=Qt)||void 0===Bt?void 0:Bt.message});j.warn(Ut.message)}}})).apply(this,arguments)}function Qn(Ot){return`${Ot.name}!${Ot.options.appId}`}class ft{constructor(ut){this.container=ut,this._heartbeatsCache=null;const Bt=this.container.getProvider("app").getImmediate();this._storage=new ot(Bt),this._heartbeatsCachePromise=this._storage.read().then(Qt=>(this._heartbeatsCache=Qt,Qt))}triggerHeartbeat(){var ut=this;return(0,v.Z)(function*(){const Qt=ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=ke();if(null===ut._heartbeatsCache&&(ut._heartbeatsCache=yield ut._heartbeatsCachePromise),ut._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!ut._heartbeatsCache.heartbeats.some(gn=>gn.date===Ut))return ut._heartbeatsCache.heartbeats.push({date:Ut,agent:Qt}),ut._heartbeatsCache.heartbeats=ut._heartbeatsCache.heartbeats.filter(gn=>{const Oe=new Date(gn.date).valueOf();return Date.now()-Oe<=2592e6}),ut._storage.overwrite(ut._heartbeatsCache)})()}getHeartbeatsHeader(){var ut=this;return(0,v.Z)(function*(){if(null===ut._heartbeatsCache&&(yield ut._heartbeatsCachePromise),null===ut._heartbeatsCache||0===ut._heartbeatsCache.heartbeats.length)return"";const Bt=ke(),{heartbeatsToSend:Qt,unsentEntries:Ut}=function Ve(Ot,ut=1024){const Bt=[];let Qt=Ot.slice();for(const Ut of Ot){const gn=Bt.find(Oe=>Oe.agent===Ut.agent);if(gn){if(gn.dates.push(Ut.date),$t(Bt)>ut){gn.dates.pop();break}}else if(Bt.push({agent:Ut.agent,dates:[Ut.date]}),$t(Bt)>ut){Bt.pop();break}Qt=Qt.slice(1)}return{heartbeatsToSend:Bt,unsentEntries:Qt}}(ut._heartbeatsCache.heartbeats),gn=(0,ee.L)(JSON.stringify({version:2,heartbeats:Qt}));return ut._heartbeatsCache.lastSentHeartbeatDate=Bt,Ut.length>0?(ut._heartbeatsCache.heartbeats=Ut,yield ut._storage.overwrite(ut._heartbeatsCache)):(ut._heartbeatsCache.heartbeats=[],ut._storage.overwrite(ut._heartbeatsCache)),gn})()}}function ke(){return(new Date).toISOString().substring(0,10)}class ot{constructor(ut){this.app=ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ut=this;return(0,v.Z)(function*(){return(yield ut._canUseIndexedDBPromise)&&(yield function Nt(Ot){return Ht.apply(this,arguments)}(ut.app))||{heartbeats:[]}})()}overwrite(ut){var Bt=this;return(0,v.Z)(function*(){var Qt;if(yield Bt._canUseIndexedDBPromise){const gn=yield Bt.read();return Vn(Bt.app,{lastSentHeartbeatDate:null!==(Qt=ut.lastSentHeartbeatDate)&&void 0!==Qt?Qt:gn.lastSentHeartbeatDate,heartbeats:ut.heartbeats})}})()}add(ut){var Bt=this;return(0,v.Z)(function*(){var Qt;if(yield Bt._canUseIndexedDBPromise){const gn=yield Bt.read();return Vn(Bt.app,{lastSentHeartbeatDate:null!==(Qt=ut.lastSentHeartbeatDate)&&void 0!==Qt?Qt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...ut.heartbeats]})}})()}}function $t(Ot){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ot})).length}!function Gn(Ot){di(new l.wA("platform-logger",ut=>new K(ut),"PRIVATE")),di(new l.wA("heartbeat",ut=>new ft(ut),"PRIVATE")),Ee(H,$,Ot),Ee(H,$,"esm2017"),Ee("fire-js","")}("")},3475:(je,we,I)=>{"use strict";I.d(we,{H0:()=>H,wA:()=>x,zt:()=>te});var v=I(5861),l=I(2090);class x{constructor(j,Y,Q){this.name=j,this.instanceFactory=Y,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ee="[DEFAULT]";class te{constructor(j,Y){this.name=j,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const Y=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(Y)){const Q=new l.BH;if(this.instancesDeferred.set(Y,Q),this.isInitialized(Y)||this.shouldAutoInitialize())try{const ne=this.getOrInitializeService({instanceIdentifier:Y});ne&&Q.resolve(ne)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(j){var Y;const Q=this.normalizeInstanceIdentifier(j?.identifier),ne=null!==(Y=j?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Z){if(ne)return null;throw Z}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function R($){return"EAGER"===$.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[Y,Q]of this.instancesDeferred.entries()){const ne=this.normalizeInstanceIdentifier(Y);try{const Z=this.getOrInitializeService({instanceIdentifier:ne});Q.resolve(Z)}catch{}}}}clearInstance(j=ee){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,v.Z)(function*(){const Y=Array.from(j.instances.values());yield Promise.all([...Y.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...Y.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ee){return this.instances.has(j)}getOptions(j=ee){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:Y={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ne=this.getOrInitializeService({instanceIdentifier:Q,options:Y});for(const[Z,J]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Z)&&J.resolve(ne);return ne}onInit(j,Y){var Q;const ne=this.normalizeInstanceIdentifier(Y),Z=null!==(Q=this.onInitCallbacks.get(ne))&&void 0!==Q?Q:new Set;Z.add(j),this.onInitCallbacks.set(ne,Z);const J=this.instances.get(ne);return J&&j(J,ne),()=>{Z.delete(j)}}invokeOnInitCallbacks(j,Y){const Q=this.onInitCallbacks.get(Y);if(Q)for(const ne of Q)try{ne(j,Y)}catch{}}getOrInitializeService({instanceIdentifier:j,options:Y={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:($=j,$===ee?void 0:$),options:Y}),this.instances.set(j,Q),this.instancesOptions.set(j,Y),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch{}var $;return Q||null}normalizeInstanceIdentifier(j=ee){return this.component?this.component.multipleInstances?j:ee:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class H{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const Y=this.getProvider(j.name);if(Y.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);Y.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const Y=new te(j,this);return this.providers.set(j,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(je,we,I)=>{"use strict";I.d(we,{Am:()=>$,Ub:()=>H,Yd:()=>R,in:()=>l});const v=[];var l=(()=>{return(j=l||(l={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",l;var j})();const x={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},ee=l.INFO,te={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},K=(j,Y,...Q)=>{if(Y<j.logLevel)return;const ne=(new Date).toISOString(),Z=te[Y];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Z](`[${ne}]  ${j.name}:`,...Q)};class R{constructor(Y){this.name=Y,this._logLevel=ee,this._logHandler=K,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in l))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?x[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...Y),this._logHandler(this,l.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...Y),this._logHandler(this,l.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,l.INFO,...Y),this._logHandler(this,l.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,l.WARN,...Y),this._logHandler(this,l.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,l.ERROR,...Y),this._logHandler(this,l.ERROR,...Y)}}function H(j){v.forEach(Y=>{Y.setLogLevel(j)})}function $(j,Y){for(const Q of v){let ne=null;Y&&Y.level&&(ne=x[Y.level]),Q.userLogHandler=null===j?null:(Z,J,...De)=>{const Ce=De.map(W=>{if(null==W)return null;if("string"==typeof W)return W;if("number"==typeof W||"boolean"==typeof W)return W.toString();if(W instanceof Error)return W.message;try{return JSON.stringify(W)}catch{return null}}).filter(W=>W).join(" ");J>=(ne??Z.logLevel)&&j({level:l[J].toLowerCase(),message:Ce,args:De,type:Z.name})}}}},8766:(je,we,I)=>{"use strict";I.d(we,{Lj:()=>P,X3:()=>z});var v=I(5861);let x,ee;const R=new WeakMap,H=new WeakMap,$=new WeakMap,j=new WeakMap,Y=new WeakMap;let Z={get(oe,de,re){if(oe instanceof IDBTransaction){if("done"===de)return H.get(oe);if("objectStoreNames"===de)return oe.objectStoreNames||$.get(oe);if("store"===de)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return W(oe[de])},set:(oe,de,re)=>(oe[de]=re,!0),has:(oe,de)=>oe instanceof IDBTransaction&&("done"===de||"store"===de)||de in oe};function Ce(oe){return"function"==typeof oe?function De(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...de){return oe.apply(_e(this),de),W(R.get(this))}:function(...de){return W(oe.apply(_e(this),de))}:function(de,...re){const ae=oe.call(_e(this),de,...re);return $.set(ae,de.sort?de.sort():[de]),W(ae)}}(oe):(oe instanceof IDBTransaction&&function ne(oe){if(H.has(oe))return;const de=new Promise((re,ae)=>{const fe=()=>{oe.removeEventListener("complete",Se),oe.removeEventListener("error",Je),oe.removeEventListener("abort",Je)},Se=()=>{re(),fe()},Je=()=>{ae(oe.error||new DOMException("AbortError","AbortError")),fe()};oe.addEventListener("complete",Se),oe.addEventListener("error",Je),oe.addEventListener("abort",Je)});H.set(oe,de)}(oe),((oe,de)=>de.some(re=>oe instanceof re))(oe,function te(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Z):oe)}function W(oe){if(oe instanceof IDBRequest)return function Q(oe){const de=new Promise((re,ae)=>{const fe=()=>{oe.removeEventListener("success",Se),oe.removeEventListener("error",Je)},Se=()=>{re(W(oe.result)),fe()},Je=()=>{ae(oe.error),fe()};oe.addEventListener("success",Se),oe.addEventListener("error",Je)});return de.then(re=>{re instanceof IDBCursor&&R.set(re,oe)}).catch(()=>{}),Y.set(de,oe),de}(oe);if(j.has(oe))return j.get(oe);const de=Ce(oe);return de!==oe&&(j.set(oe,de),Y.set(de,oe)),de}const _e=oe=>Y.get(oe);function z(oe,de,{blocked:re,upgrade:ae,blocking:fe,terminated:Se}={}){const Je=indexedDB.open(oe,de),qe=W(Je);return ae&&Je.addEventListener("upgradeneeded",Ct=>{ae(W(Je.result),Ct.oldVersion,Ct.newVersion,W(Je.transaction))}),re&&Je.addEventListener("blocked",()=>re()),qe.then(Ct=>{Se&&Ct.addEventListener("close",()=>Se()),fe&&Ct.addEventListener("versionchange",()=>fe())}).catch(()=>{}),qe}function P(oe,{blocked:de}={}){const re=indexedDB.deleteDatabase(oe);return de&&re.addEventListener("blocked",()=>de()),W(re).then(()=>{})}const N=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],ye=new Map;function se(oe,de){if(!(oe instanceof IDBDatabase)||de in oe||"string"!=typeof de)return;if(ye.get(de))return ye.get(de);const re=de.replace(/FromIndex$/,""),ae=de!==re,fe=q.includes(re);if(!(re in(ae?IDBIndex:IDBObjectStore).prototype)||!fe&&!N.includes(re))return;const Se=function(){var Je=(0,v.Z)(function*(qe,...Ct){const kt=this.transaction(qe,fe?"readwrite":"readonly");let tn=kt.store;return ae&&(tn=tn.index(Ct.shift())),(yield Promise.all([tn[re](...Ct),fe&&kt.done]))[0]});return function(Ct){return Je.apply(this,arguments)}}();return ye.set(de,Se),Se}!function J(oe){Z=oe(Z)}(oe=>({...oe,get:(de,re,ae)=>se(de,re)||oe.get(de,re,ae),has:(de,re)=>!!se(de,re)||oe.has(de,re)}))},5861:(je,we,I)=>{"use strict";function v(x,ee,te,K,R,H,$){try{var j=x[H]($),Y=j.value}catch(Q){return void te(Q)}j.done?ee(Y):Promise.resolve(Y).then(K,R)}function l(x){return function(){var ee=this,te=arguments;return new Promise(function(K,R){var H=x.apply(ee,te);function $(Y){v(H,K,R,$,j,"next",Y)}function j(Y){v(H,K,R,$,j,"throw",Y)}$(void 0)})}}I.d(we,{Z:()=>l})}},je=>{je(je.s=4593)}]);